{
  "version": 3,
  "file": "bundle.css",
  "sources": [
    "App.svelte",
    "Clock.svelte",
    "DBLogo.svelte",
    "Station.svelte",
    "TableHeader.svelte",
    "TrainRoute.svelte",
    "TrainOnRoute.svelte",
    "StationSelect.svelte",
    "Timetable.svelte"
  ],
  "sourcesContent": [
    "<script lang=\"ts\">var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { onMount, setContext } from 'svelte';\nimport ApolloClient from 'apollo-boost';\n;\nimport { DeutscheBahnApiService } from './services/DeutscheBahnApiService';\nimport TableHeader from './components/TableHeader/TableHeader.svelte';\nimport currentStation from './stores/station-store';\nimport { TimetableService } from './services';\nimport DbLogo from './components/DBLogo/DBLogo.svelte';\nimport { Router } from 'svelte-hash-router';\nexport let configurationService;\nlet status = \"loading\";\nconst token = configurationService.getBearer();\nconst client = new ApolloClient({\n    headers: {\n        authorization: `Bearer ${token}`\n    },\n    uri: configurationService.getGraphQLEndpoint()\n});\nlet dbApiService = new DeutscheBahnApiService(client);\nlet dbTimetableService = new TimetableService(configurationService.getTimetableApiUrl(), token);\nsetContext('appContext', { dbApiService, dbTimetableService });\nonMount(() => __awaiter(void 0, void 0, void 0, function* () {\n    status = \"loaded\";\n}));\n</script>\n\n<div id=\"header\"><div></div></div>\n<div class=\"container\">\n\t<DbLogo />\n\t<div class=\"main\">\n\t\t{#if status === \"loading\"}\n\t\t\t<div>\n\t\t\t\tConnecting to DB API ...\n\t\t\t</div>\n\t\t{:else}\n\t\t\t<TableHeader />\n\t\t\t<Router/>\n\t\t{/if}\n\t</div>\n</div>\n\n<style>\n\t.container {\n\t\tmax-width: 960px;\n\t\tmargin: 0 auto;\n\t\tpadding: 2rem 0;\n\t}\n\t.main {\n\t\tpadding: 2rem;\n\t\tborder: 4px solid #ccc;\n    background-color: #222;\n    color: white;\n    -webkit-box-shadow: 0px -1px 70px -1px rgba(0,0,0,0.27);\n    -moz-box-shadow: 0px -1px 70px -1px rgba(0,0,0,0.27);\n    box-shadow: 0px -1px 70px -1px rgba(0,0,0,0.27);\n\t}\n\n\t#header {\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\tz-index: -1;\n\t\topacity: .9;\n\t\tbackground-repeat: no-repeat;\n\t\tbackground-size: cover;\n\t\tbackground-position: center;\n\t}\n\n</style>",
    "<script lang=\"ts\">import dateFormat from 'dateformat';\nlet time = new Date;\nlet tick = true;\nsetInterval(() => {\n    time = new Date;\n    tick = !tick;\n}, 1000);\n</script>\n\n<span>{dateFormat(time, `HH`)}{@html tick ? ':' : '&nbsp;'}{dateFormat(time, `MM`)}</span>\n\n<style>\n  span {\n    font-size: 1.8rem;\n  }\n</style>",
    "<div class=\"logo\">\n  <div class=\"db\">DB</div>\n  <div class=\"tt\">Timetables</div>\n</div>\n<style>\n  .logo {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    gap: 1rem;\n    margin-bottom: 1rem;\n    cursor: default;\n  }\n  .db {\n    border: 4px solid red;\n    background-color: white;\n    color: red;\n    font-weight: bolder;\n    padding: 0 .3rem;\n    font-size: 3rem;\n    border-radius: 3px;\n  }\n  .tt {\n    font-size: 2rem;\n    color: red;\n    text-shadow:\n     -1px -1px 0 white,  \n      1px -1px 0 white,\n      -1px 1px 0 white,\n       1px 1px 0 white;\n  }\n</style>",
    "<script lang=\"ts\">;\nimport { createEventDispatcher } from 'svelte';\nexport let station;\nexport let active = true;\nconst dispatch = createEventDispatcher();\nconst onClickHandler = () => {\n    dispatch('stationselect', station);\n};\n</script>\n\n<a href=\"#/{`${station.primaryEvaId}/table`}\" class:active=\"{active}\" on:click=\"{onClickHandler}\">\n  {station.name}\n</a>\n\n<style>\n  a {\n    display: inline-block;\n    width: 20%;\n    text-align: center;\n  }\n</style>",
    "<script lang=\"ts\">import Clock from '../../components/Clock/Clock.svelte';\nimport location from '../../stores/station-store';\n</script>\n<div class=\"header\">\n  <div class=\"main-col\">\n    <a href=\"/\">{$location ? $location.name : '...'}</a>\n  </div>\n  <div class=\"secondary-col\">\n    <Clock />\n  </div>\n</div>\n\n<style>\n  .header {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: space-between;\n\t\tmargin-bottom: 1rem;\n\t}\n\t.main-col {\n\t\tflex-grow: 1;\n\t\tfont-size: 2rem;\n\t}\n\t.secondary-col {\n\t\tflex-grow: 0;\n\t\tdisplay: inline-flex;\n\t\tflex-wrap: wrap;\n\t\tgap: 12px;\n\t\talign-items: center;\n\t}\n</style>",
    "<script lang=\"ts\">var _a, _b;\n;\nimport dateFormat from 'dateformat';\nexport let station;\nexport let train;\nconst origin = (_a = train === null || train === void 0 ? void 0 : train.arrival) === null || _a === void 0 ? void 0 : _a.stations[0];\nconst destination = (_b = train === null || train === void 0 ? void 0 : train.departure) === null || _b === void 0 ? void 0 : _b.stations.slice(-1).pop();\n</script>\n\n<div class=\"wrapper\">\n  {#if origin}\n    <div class=\"origin\"><span>{@html origin}</span> &ctdot;</div>\n  {/if}\n  <div class=\"current\">\n    <div class=\"flex\">\n      {#if train?.arrival?.time}\n        <div class=\"time\">{dateFormat(train.arrival.time, 'HH:MM')} &rtrif;&nbsp;</div>\n      {/if}\n      <div>\n        {@html station.name}\n      </div>\n      {#if train?.departure?.time}\n        <div class=\"time\">&nbsp;&rtrif; {dateFormat(train.departure.time, 'HH:MM')}</div>\n      {/if}\n    </div>\n  </div>\n  {#if destination}\n    <div class=\"destination\">&ctdot; <span>{@html destination}</span></div>\n  {/if}\n</div>\n\n<style>\n  .wrapper {\n    display: flex;\n    gap: .5rem;\n  }\n  .wrapper>div {\n    padding: .2rem;\n  }\n  .wrapper .current {\n    background-color: white;\n    color:blue;\n    display: inline-block;\n    justify-items: stretch;\n    gap: 0.3rem;\n  }\n\n  .flex {\n    display: flex;\n  }\n  .time {\n    color: black;\n  }\n\n</style>",
    "<script lang=\"ts\">;\nimport dateFormat from 'dateformat';\nimport { fade } from 'svelte/transition';\nimport TrainRoute from \"../TimeTable/TrainRoute/TrainRoute.svelte\";\nexport let train;\nexport let station;\n</script>\n\n<div transition:fade class=\"wrapper\">\n  <div class=\"item\">\n    <div class=\"col-1_3\">\n      <div class=\"name\">{train.type}</div>\n      <div class=\"origin\">\n        <!-- {@html train.departure.stations[0]} -->\n      </div>\n    </div>\n    <div class=\"col-1_3 track\">\n      <!-- {train.arrival.platform} -->\n    </div>\n    <div class=\"col-1_3 time\">\n      <!-- {dateFormat(train.arrival.time, 'HH:MM')} -->\n    </div>\n  </div>\n  <TrainRoute station={station} train={train} />\n</div>\n\n<style>\n  .col-1_3 {\n    width: 33.33%;\n  }\n  .wrapper {\n    padding: 1rem;\n    margin-bottom: 0.2rem;\n    background-color: darkblue;\n    color: white;\n  }\n  .item {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n  }\n  .name {\n    font-size: 2rem;\n  }\n  .origin {\n    font-size: 0.8rem;\n  }\n  .track {\n    font-size: larger;\n    text-align: center;\n  }\n  .time {\n    font-size: 1.4rem;\n    text-align: right;\n  }\n</style>",
    "<script lang=\"ts\">var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n;\nimport { onMount, getContext } from 'svelte';\nimport currentStation from '../../stores/station-store';\nimport Station from \"../../components/Station/Station.svelte\";\nconst ctx = getContext('appContext');\nlet searchString;\nconst { dbApiService } = ctx;\nlet stations = [];\nconst updateItems = () => __awaiter(void 0, void 0, void 0, function* () {\n    stations = yield dbApiService.getStationsByName(searchString);\n});\nonMount(() => __awaiter(void 0, void 0, void 0, function* () {\n    yield updateItems();\n}));\nconst onItemSelect = (el) => {\n    const station = el.detail;\n    console.log('station.picture.url', station.picture.url);\n    document.getElementById('header').style.backgroundImage = station.picture.url ? `url(${station.picture.url})` : '';\n    currentStation.setStation(Object.assign({}, station));\n};\nconst onFormSubmit = () => __awaiter(void 0, void 0, void 0, function* () {\n    yield updateItems();\n});\n</script>\n\n<div class=\"location-search-form\">\n  <form on:submit|preventDefault={onFormSubmit}>\n    <input name=\"q\" placeholder=\"Find location\" class=\"station-input\" bind:value={searchString} />\n  </form>\n</div>\n\n<section>\n  {#each stations as station}\n    <Station active={false} on:stationselect=\"{onItemSelect}\" station={station} />{@html ' '}\n  {/each}\n</section>\n\n<style>\n  section {\n    padding: .3rem 0;\n  }\n\t.location-search-form {\n\t\tmargin-bottom: .3rem;\n\t}\n\n\t.station-input {\n\t\tborder: 1px solid #ccc;\n\t\tcolor: #444;\n\t\tpadding: 10px;\n\t\twidth: 100%;\n\t\tmargin: 0;\n\t\tbackground-color: white;\n\t\toutline: transparent;\n\t\tbox-sizing: border-box;\n\t\tfont-size: 2rem;\n\t}\n\t.station-input::placeholder {\n\t\tcolor: #ccc;\n\t}\n</style>",
    "<script lang=\"ts\">var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n;\nimport { getContext, onMount } from 'svelte';\nimport TrainOnRoute from \"../../components/TrainOnRoute/TrainOnRoute.svelte\";\nimport { params } from 'svelte-hash-router';\nimport currentStation from '../../stores/station-store';\nconst ctx = getContext('appContext');\nconst { dbTimetableService, dbApiService } = ctx;\nlet time = new Date();\nlet status = \"loading\";\nlet errorMessage = null;\nlet trainsOnRoute;\nonMount(() => __awaiter(void 0, void 0, void 0, function* () {\n    if (!$currentStation) {\n        const station = yield dbApiService.getStationByPrimaryEvaId(+$params.stationId);\n        currentStation.setStation(station);\n    }\n    const response = yield dbTimetableService.getTrainsOnRoute($currentStation.primaryEvaId.toString());\n    trainsOnRoute = [...response\n            .filter(el => el.arrival && el.arrival.time)\n            .sort((a, b) => a.arrival.time > b.arrival.time ? 1 : -1)];\n    console.log('trainsOnRoute', trainsOnRoute);\n    status = \"loaded\";\n}));\n</script>\n\n<section>\n  {#if status == \"loaded\"}\n    {#if trainsOnRoute && trainsOnRoute.length}\n      {#each trainsOnRoute as train}\n        <TrainOnRoute station={$currentStation} train={train} />\n      {/each}\n    {:else}\n      <div>No trains found</div>\n    {/if}\n  {:else if status == \"loading\"}\n    <div class=\"message\">\n      loading...\n    </div>\n  {/if}\n</section>\n\n<style>\n  section {\n    border: 2px solid #333;\n  }\n  .message {\n    padding: 1rem;\n  }\n</style>"
  ],
  "names": [],
  "mappings": "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"
}