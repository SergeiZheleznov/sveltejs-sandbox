var app=function(){"use strict";function e(){}const t=e=>e;function n(e,t){for(const n in t)e[n]=t[n];return e}function r(e){return e()}function i(){return Object.create(null)}function o(e){e.forEach(r)}function a(e){return"function"==typeof e}function s(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function u(t,...n){if(null==t)return e;const r=t.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}function c(e,t,n){e.$$.on_destroy.push(u(t,n))}function l(e){const t={};for(const n in e)"$"!==n[0]&&(t[n]=e[n]);return t}const f="undefined"!=typeof window;let p=f?()=>window.performance.now():()=>Date.now(),h=f?e=>requestAnimationFrame(e):e;const d=new Set;function v(e){d.forEach(t=>{t.c(e)||(d.delete(t),t.f())}),0!==d.size&&h(v)}function y(e,t){e.appendChild(t)}function m(e,t,n){e.insertBefore(t,n||null)}function g(e){e.parentNode.removeChild(e)}function b(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function E(e){return document.createElement(e)}function w(e){return document.createTextNode(e)}function N(){return w(" ")}function O(){return w("")}function S(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function x(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function T(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function k(e,t){e.value=null==t?"":t}function _(e,t,n){e.classList[n?"add":"remove"](t)}function D(e,t){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}class A{constructor(e=null){this.a=e,this.e=this.n=null}m(e,t,n=null){this.e||(this.e=E(t.nodeName),this.t=t,this.h(e)),this.i(n)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)m(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(g)}}const I=new Set;let C,R=0;function F(e,t,n,r,i,o,a,s=0){const u=16.666/r;let c="{\n";for(let e=0;e<=1;e+=u){const r=t+(n-t)*o(e);c+=100*e+`%{${a(r,1-r)}}\n`}const l=c+`100% {${a(n,1-n)}}\n}`,f=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(l)}_${s}`,p=e.ownerDocument;I.add(p);const h=p.__svelte_stylesheet||(p.__svelte_stylesheet=p.head.appendChild(E("style")).sheet),d=p.__svelte_rules||(p.__svelte_rules={});d[f]||(d[f]=!0,h.insertRule(`@keyframes ${f} ${l}`,h.cssRules.length));const v=e.style.animation||"";return e.style.animation=`${v?v+", ":""}${f} ${r}ms linear ${i}ms 1 both`,R+=1,f}function P(e,t){const n=(e.style.animation||"").split(", "),r=n.filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")),i=n.length-r.length;i&&(e.style.animation=r.join(", "),R-=i,R||h(()=>{R||(I.forEach(e=>{const t=e.__svelte_stylesheet;let n=t.cssRules.length;for(;n--;)t.deleteRule(n);e.__svelte_rules={}}),I.clear())}))}function M(e){C=e}function j(){if(!C)throw new Error("Function called outside component initialization");return C}function V(e){j().$$.on_mount.push(e)}function q(e){return j().$$.context.get(e)}const L=[],Q=[],$=[],B=[],U=Promise.resolve();let G=!1;function K(){G||(G=!0,U.then(Y))}function H(e){$.push(e)}let z=!1;const J=new Set;function Y(){if(!z){z=!0;do{for(let e=0;e<L.length;e+=1){const t=L[e];M(t),W(t.$$)}for(L.length=0;Q.length;)Q.pop()();for(let e=0;e<$.length;e+=1){const t=$[e];J.has(t)||(J.add(t),t())}$.length=0}while(L.length);for(;B.length;)B.pop()();G=!1,z=!1,J.clear()}}function W(e){if(null!==e.fragment){e.update(),o(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(H)}}let X;function Z(e,t,n){e.dispatchEvent(D(`${t?"intro":"outro"}${n}`))}const ee=new Set;let te;function ne(){te={r:0,c:[],p:te}}function re(){te.r||o(te.c),te=te.p}function ie(e,t){e&&e.i&&(ee.delete(e),e.i(t))}function oe(e,t,n,r){if(e&&e.o){if(ee.has(e))return;ee.add(e),te.c.push(()=>{ee.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}}const ae={duration:0};function se(n,r,i,s){let u=r(n,i),c=s?0:1,l=null,f=null,y=null;function m(){y&&P(n,y)}function g(e,t){const n=e.b-c;return t*=Math.abs(n),{a:c,b:e.b,d:n,duration:t,start:e.start,end:e.start+t,group:e.group}}function b(r){const{delay:i=0,duration:a=300,easing:s=t,tick:b=e,css:E}=u||ae,w={start:p()+i,b:r};r||(w.group=te,te.r+=1),l?f=w:(E&&(m(),y=F(n,c,r,a,i,s,E)),r&&b(0,1),l=g(w,a),H(()=>Z(n,r,"start")),function(e){let t;0===d.size&&h(v),new Promise(n=>{d.add(t={c:e,f:n})})}(e=>{if(f&&e>f.start&&(l=g(f,a),f=null,Z(n,l.b,"start"),E&&(m(),y=F(n,c,l.b,l.duration,0,s,u.css))),l)if(e>=l.end)b(c=l.b,1-c),Z(n,l.b,"end"),f||(l.b?m():--l.group.r||o(l.group.c)),l=null;else if(e>=l.start){const t=e-l.start;c=l.a+l.d*s(t/l.duration),b(c,1-c)}return!(!l&&!f)}))}return{run(e){a(u)?(X||(X=Promise.resolve(),X.then(()=>{X=null})),X).then(()=>{u=u(),b(e)}):b(e)},end(){m(),l=f=null}}}function ue(e){e&&e.c()}function ce(e,t,n){const{fragment:i,on_mount:s,on_destroy:u,after_update:c}=e.$$;i&&i.m(t,n),H(()=>{const t=s.map(r).filter(a);u?u.push(...t):o(t),e.$$.on_mount=[]}),c.forEach(H)}function le(e,t){const n=e.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function fe(t,n,r,a,s,u,c=[-1]){const l=C;M(t);const f=n.props||{},p=t.$$={fragment:null,ctx:null,props:u,update:e,not_equal:s,bound:i(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(l?l.$$.context:[]),callbacks:i(),dirty:c,skip_bound:!1};let h=!1;if(p.ctx=r?r(t,f,(e,n,...r)=>{const i=r.length?r[0]:n;return p.ctx&&s(p.ctx[e],p.ctx[e]=i)&&(!p.skip_bound&&p.bound[e]&&p.bound[e](i),h&&function(e,t){-1===e.$$.dirty[0]&&(L.push(e),K(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}(t,e)),n}):[],p.update(),h=!0,o(p.before_update),p.fragment=!!a&&a(p.ctx),n.target){if(n.hydrate){const e=function(e){return Array.from(e.childNodes)}(n.target);p.fragment&&p.fragment.l(e),e.forEach(g)}else p.fragment&&p.fragment.c();n.intro&&ie(t.$$.fragment),ce(t,n.target,n.anchor),Y()}M(l)}class pe{$destroy(){le(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var he=function(e,t){return(he=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */
var de=function(e,t){return(de=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function ve(e,t){function n(){this.constructor=e}de(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var ye=function(){return(ye=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function me(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function ge(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var be="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):void 0;function Ee(e){return(Ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function we(e){return Ne(e,[])}function Ne(e,t){switch(Ee(e)){case"string":return JSON.stringify(e);case"function":return e.name?"[function ".concat(e.name,"]"):"[function]";case"object":return null===e?"null":function(e,t){if(-1!==t.indexOf(e))return"[Circular]";var n=[].concat(t,[e]),r=function(e){var t=e[String(be)];if("function"==typeof t)return t;if("function"==typeof e.inspect)return e.inspect}(e);if(void 0!==r){var i=r.call(e);if(i!==e)return"string"==typeof i?i:Ne(i,n)}else if(Array.isArray(e))return function(e,t){if(0===e.length)return"[]";if(t.length>2)return"[Array]";for(var n=Math.min(10,e.length),r=e.length-n,i=[],o=0;o<n;++o)i.push(Ne(e[o],t));1===r?i.push("... 1 more item"):r>1&&i.push("... ".concat(r," more items"));return"["+i.join(", ")+"]"}(e,n);return function(e,t){var n=Object.keys(e);if(0===n.length)return"{}";if(t.length>2)return"["+function(e){var t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if("Object"===t&&"function"==typeof e.constructor){var n=e.constructor.name;if("string"==typeof n&&""!==n)return n}return t}(e)+"]";return"{ "+n.map((function(n){return n+": "+Ne(e[n],t)})).join(", ")+" }"}(e,n)}(e,t);default:return String(e)}}function Oe(e){var t=e.prototype.toJSON;"function"==typeof t||function(e,t){if(!Boolean(e))throw new Error(null!=t?t:"Unexpected invariant triggered.")}(0),e.prototype.inspect=t,be&&(e.prototype[be]=t)}var Se=function(){function e(e,t,n){this.start=e.start,this.end=t.end,this.startToken=e,this.endToken=t,this.source=n}return e.prototype.toJSON=function(){return{start:this.start,end:this.end}},e}();Oe(Se);var xe=function(){function e(e,t,n,r,i,o,a){this.kind=e,this.start=t,this.end=n,this.line=r,this.column=i,this.value=a,this.prev=o,this.next=null}return e.prototype.toJSON=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}},e}();function Te(e){return null!=e&&"string"==typeof e.kind}Oe(xe);var ke={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},_e=Object.freeze({});function De(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ke,r=void 0,i=Array.isArray(e),o=[e],a=-1,s=[],u=void 0,c=void 0,l=void 0,f=[],p=[],h=e;do{var d=++a===o.length,v=d&&0!==s.length;if(d){if(c=0===p.length?void 0:f[f.length-1],u=l,l=p.pop(),v){if(i)u=u.slice();else{for(var y={},m=0,g=Object.keys(u);m<g.length;m++){var b=g[m];y[b]=u[b]}u=y}for(var E=0,w=0;w<s.length;w++){var N=s[w][0],O=s[w][1];i&&(N-=E),i&&null===O?(u.splice(N,1),E++):u[N]=O}}a=r.index,o=r.keys,s=r.edits,i=r.inArray,r=r.prev}else{if(c=l?i?a:o[a]:void 0,null==(u=l?l[c]:h))continue;l&&f.push(c)}var S,x=void 0;if(!Array.isArray(u)){if(!Te(u))throw new Error("Invalid AST Node: ".concat(we(u),"."));var T=Ae(t,u.kind,d);if(T){if((x=T.call(t,u,c,l,f,p))===_e)break;if(!1===x){if(!d){f.pop();continue}}else if(void 0!==x&&(s.push([c,x]),!d)){if(!Te(x)){f.pop();continue}u=x}}}if(void 0===x&&v&&s.push([c,u]),d)f.pop();else r={inArray:i,index:a,keys:o,edits:s,prev:r},o=(i=Array.isArray(u))?u:null!==(S=n[u.kind])&&void 0!==S?S:[],a=-1,s=[],l&&p.push(l),l=u}while(void 0!==r);return 0!==s.length&&(h=s[s.length-1][1]),h}function Ae(e,t,n){var r=e[t];if(r){if(!n&&"function"==typeof r)return r;var i=n?r.leave:r.enter;if("function"==typeof i)return i}else{var o=n?e.leave:e.enter;if(o){if("function"==typeof o)return o;var a=o[t];if("function"==typeof a)return a}}}
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var Ie=function(e,t){return(Ie=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};var Ce="Invariant Violation",Re=Object.setPrototypeOf,Fe=void 0===Re?function(e,t){return e.__proto__=t,e}:Re,Pe=function(e){function t(n){void 0===n&&(n=Ce);var r=e.call(this,"number"==typeof n?Ce+": "+n+" (see https://github.com/apollographql/invariant-packages)":n)||this;return r.framesToPop=1,r.name=Ce,Fe(r,t.prototype),r}return function(e,t){function n(){this.constructor=e}Ie(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t}(Error);function Me(e,t){if(!e)throw new Pe(t)}function je(e){return function(){return console[e].apply(console,arguments)}}!function(e){e.warn=je("warn"),e.error=je("error")}(Me||(Me={}));var Ve={env:{}};if("object"==typeof process)Ve=process;else try{Function("stub","process = stub")(Ve)}catch(e){}
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var qe=function(){return(qe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function Le(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var Qe=Object.prototype,$e=Qe.toString,Be=Qe.hasOwnProperty,Ue=new Map;function Ge(e,t){try{return function e(t,n){if(t===n)return!0;var r=$e.call(t),i=$e.call(n);if(r!==i)return!1;switch(r){case"[object Array]":if(t.length!==n.length)return!1;case"[object Object]":if(Ke(t,n))return!0;var o=Object.keys(t),a=Object.keys(n),s=o.length;if(s!==a.length)return!1;for(var u=0;u<s;++u)if(!Be.call(n,o[u]))return!1;for(u=0;u<s;++u){var c=o[u];if(!e(t[c],n[c]))return!1}return!0;case"[object Error]":return t.name===n.name&&t.message===n.message;case"[object Number]":if(t!=t)return n!=n;case"[object Boolean]":case"[object Date]":return+t==+n;case"[object RegExp]":case"[object String]":return t==""+n;case"[object Map]":case"[object Set]":if(t.size!==n.size)return!1;if(Ke(t,n))return!0;for(var l=t.entries(),f="[object Map]"===r;;){var p=l.next();if(p.done)break;var h=p.value,d=h[0],v=h[1];if(!n.has(d))return!1;if(f&&!e(v,n.get(d)))return!1}return!0}return!1}(e,t)}finally{Ue.clear()}}function Ke(e,t){var n=Ue.get(e);if(n){if(n.has(t))return!0}else Ue.set(e,n=new Set);return n.add(t),!1}function He(e,t,n,r){if(function(e){return"IntValue"===e.kind}(n)||function(e){return"FloatValue"===e.kind}(n))e[t.value]=Number(n.value);else if(function(e){return"BooleanValue"===e.kind}(n)||function(e){return"StringValue"===e.kind}(n))e[t.value]=n.value;else if(function(e){return"ObjectValue"===e.kind}(n)){var i={};n.fields.map((function(e){return He(i,e.name,e.value,r)})),e[t.value]=i}else if(function(e){return"Variable"===e.kind}(n)){var o=(r||{})[n.name.value];e[t.value]=o}else if(function(e){return"ListValue"===e.kind}(n))e[t.value]=n.values.map((function(e){var n={};return He(n,t,e,r),n[t.value]}));else if(function(e){return"EnumValue"===e.kind}(n))e[t.value]=n.value;else{if(!function(e){return"NullValue"===e.kind}(n))throw"production"===process.env.NODE_ENV?new Pe(17):new Pe('The inline argument "'+t.value+'" of kind "'+n.kind+'"is not supported. Use variables instead of inline arguments to overcome this limitation.');e[t.value]=null}}var ze=["connection","include","skip","client","rest","export"];function Je(e,t,n){if(n&&n.connection&&n.connection.key){if(n.connection.filter&&n.connection.filter.length>0){var r=n.connection.filter?n.connection.filter:[];r.sort();var i=t,o={};return r.forEach((function(e){o[e]=i[e]})),n.connection.key+"("+JSON.stringify(o)+")"}return n.connection.key}var a=e;if(t){var s=function(e,t){t||(t={}),"function"==typeof t&&(t={cmp:t});var n,r="boolean"==typeof t.cycles&&t.cycles,i=t.cmp&&(n=t.cmp,function(e){return function(t,r){var i={key:t,value:e[t]},o={key:r,value:e[r]};return n(i,o)}}),o=[];return function e(t){if(t&&t.toJSON&&"function"==typeof t.toJSON&&(t=t.toJSON()),void 0!==t){if("number"==typeof t)return isFinite(t)?""+t:"null";if("object"!=typeof t)return JSON.stringify(t);var n,a;if(Array.isArray(t)){for(a="[",n=0;n<t.length;n++)n&&(a+=","),a+=e(t[n])||"null";return a+"]"}if(null===t)return"null";if(-1!==o.indexOf(t)){if(r)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var s=o.push(t)-1,u=Object.keys(t).sort(i&&i(t));for(a="",n=0;n<u.length;n++){var c=u[n],l=e(t[c]);l&&(a&&(a+=","),a+=JSON.stringify(c)+":"+l)}return o.splice(s,1),"{"+a+"}"}}(e)}(t);a+="("+s+")"}return n&&Object.keys(n).forEach((function(e){-1===ze.indexOf(e)&&(n[e]&&Object.keys(n[e]).length?a+="@"+e+"("+JSON.stringify(n[e])+")":a+="@"+e)})),a}function Ye(e,t){if(e.arguments&&e.arguments.length){var n={};return e.arguments.forEach((function(e){var r=e.name,i=e.value;return He(n,r,i,t)})),n}return null}function We(e){return e.alias?e.alias.value:e.name.value}function Xe(e){return"Field"===e.kind}function Ze(e){return"InlineFragment"===e.kind}function et(e){return e&&"id"===e.type&&"boolean"==typeof e.generated}function tt(e,t){return void 0===t&&(t=!1),qe({type:"id",generated:t},"string"==typeof e?{id:e,typename:void 0}:e)}function nt(e,t){if(e.directives&&e.directives.length){var n={};return e.directives.forEach((function(e){n[e.name.value]=Ye(e,t)})),n}return null}function rt(e,t){return void 0===t&&(t={}),(n=e.directives,n?n.filter(at).map((function(e){var t=e.arguments,n=e.name.value;"production"===process.env.NODE_ENV?Me(t&&1===t.length,14):Me(t&&1===t.length,"Incorrect number of arguments for the @"+n+" directive.");var r=t[0];"production"===process.env.NODE_ENV?Me(r.name&&"if"===r.name.value,15):Me(r.name&&"if"===r.name.value,"Invalid argument for the @"+n+" directive.");var i=r.value;return"production"===process.env.NODE_ENV?Me(i&&("Variable"===i.kind||"BooleanValue"===i.kind),16):Me(i&&("Variable"===i.kind||"BooleanValue"===i.kind),"Argument for the @"+n+" directive must be a variable or a boolean value."),{directive:e,ifArgument:r}})):[]).every((function(e){var n=e.directive,r=e.ifArgument,i=!1;return"Variable"===r.value.kind?(i=t[r.value.name.value],"production"===process.env.NODE_ENV?Me(void 0!==i,13):Me(void 0!==i,"Invalid variable referenced in @"+n.name.value+" directive.")):i=r.value.value,"skip"===n.name.value?!i:i}));var n}function it(e,t){return function(e){var t=[];return De(e,{Directive:function(e){t.push(e.name.value)}}),t}(t).some((function(t){return e.indexOf(t)>-1}))}function ot(e){return e&&it(["client"],e)&&it(["export"],e)}function at(e){var t=e.name.value;return"skip"===t||"include"===t}function st(e,t){var n=t,r=[];return e.definitions.forEach((function(e){if("OperationDefinition"===e.kind)throw"production"===process.env.NODE_ENV?new Pe(11):new Pe("Found a "+e.operation+" operation"+(e.name?" named '"+e.name.value+"'":"")+". No operations are allowed when using a fragment as a query. Only fragments are allowed.");"FragmentDefinition"===e.kind&&r.push(e)})),void 0===n&&("production"===process.env.NODE_ENV?Me(1===r.length,12):Me(1===r.length,"Found "+r.length+" fragments. `fragmentName` must be provided when there is not exactly 1 fragment."),n=r[0].name.value),qe(qe({},e),{definitions:Le([{kind:"OperationDefinition",operation:"query",selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:n}}]}}],e.definitions)})}function ut(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.forEach((function(t){null!=t&&Object.keys(t).forEach((function(n){e[n]=t[n]}))})),e}function ct(e){"production"===process.env.NODE_ENV?Me(e&&"Document"===e.kind,2):Me(e&&"Document"===e.kind,'Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a "gql" tag? http://docs.apollostack.com/apollo-client/core.html#gql');var t=e.definitions.filter((function(e){return"FragmentDefinition"!==e.kind})).map((function(e){if("OperationDefinition"!==e.kind)throw"production"===process.env.NODE_ENV?new Pe(3):new Pe('Schema type definitions not allowed in queries. Found: "'+e.kind+'"');return e}));return"production"===process.env.NODE_ENV?Me(t.length<=1,4):Me(t.length<=1,"Ambiguous GraphQL document: contains "+t.length+" operations"),e}function lt(e){return ct(e),e.definitions.filter((function(e){return"OperationDefinition"===e.kind}))[0]}function ft(e){return e.definitions.filter((function(e){return"OperationDefinition"===e.kind&&e.name})).map((function(e){return e.name.value}))[0]||null}function pt(e){return e.definitions.filter((function(e){return"FragmentDefinition"===e.kind}))}function ht(e){var t;ct(e);for(var n=0,r=e.definitions;n<r.length;n++){var i=r[n];if("OperationDefinition"===i.kind){var o=i.operation;if("query"===o||"mutation"===o||"subscription"===o)return i}"FragmentDefinition"!==i.kind||t||(t=i)}if(t)return t;throw"production"===process.env.NODE_ENV?new Pe(10):new Pe("Expected a parsed GraphQL query with a query, mutation, subscription, or a fragment.")}function dt(e){void 0===e&&(e=[]);var t={};return e.forEach((function(e){t[e.name.value]=e})),t}function vt(e){if(e&&e.variableDefinitions&&e.variableDefinitions.length){var t=e.variableDefinitions.filter((function(e){return e.defaultValue})).map((function(e){var t=e.variable,n=e.defaultValue,r={};return He(r,t.name,n),r}));return ut.apply(void 0,Le([{}],t))}return{}}function yt(e,t,n){var r=0;return e.forEach((function(n,i){t.call(this,n,i,e)&&(e[r++]=n)}),n),e.length=r,e}var mt={kind:"Field",name:{kind:"Name",value:"__typename"}};function gt(e){return function e(t,n){return t.selectionSet.selections.every((function(t){return"FragmentSpread"===t.kind&&e(n[t.name.value],n)}))}(lt(e)||function(e){"production"===process.env.NODE_ENV?Me("Document"===e.kind,7):Me("Document"===e.kind,'Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a "gql" tag? http://docs.apollostack.com/apollo-client/core.html#gql'),"production"===process.env.NODE_ENV?Me(e.definitions.length<=1,8):Me(e.definitions.length<=1,"Fragment must have exactly one definition.");var t=e.definitions[0];return"production"===process.env.NODE_ENV?Me("FragmentDefinition"===t.kind,9):Me("FragmentDefinition"===t.kind,"Must be a fragment definition."),t}(e),dt(pt(e)))?null:e}function bt(e){return function(t){return e.some((function(e){return e.name&&e.name===t.name.value||e.test&&e.test(t)}))}}function Et(e,t){var n=Object.create(null),r=[],i=Object.create(null),o=[],a=gt(De(t,{Variable:{enter:function(e,t,r){"VariableDefinition"!==r.kind&&(n[e.name.value]=!0)}},Field:{enter:function(t){if(e&&t.directives&&(e.some((function(e){return e.remove}))&&t.directives&&t.directives.some(bt(e))))return t.arguments&&t.arguments.forEach((function(e){"Variable"===e.value.kind&&r.push({name:e.value.name.value})})),t.selectionSet&&function e(t){var n=[];return t.selections.forEach((function(t){(Xe(t)||Ze(t))&&t.selectionSet?e(t.selectionSet).forEach((function(e){return n.push(e)})):"FragmentSpread"===t.kind&&n.push(t)})),n}(t.selectionSet).forEach((function(e){o.push({name:e.name.value})})),null}},FragmentSpread:{enter:function(e){i[e.name.value]=!0}},Directive:{enter:function(t){if(bt(e)(t))return null}}}));return a&&yt(r,(function(e){return!n[e.name]})).length&&(a=function(e,t){var n=function(e){return function(t){return e.some((function(e){return t.value&&"Variable"===t.value.kind&&t.value.name&&(e.name===t.value.name.value||e.test&&e.test(t))}))}}(e);return gt(De(t,{OperationDefinition:{enter:function(t){return qe(qe({},t),{variableDefinitions:t.variableDefinitions.filter((function(t){return!e.some((function(e){return e.name===t.variable.name.value}))}))})}},Field:{enter:function(t){if(e.some((function(e){return e.remove}))){var r=0;if(t.arguments.forEach((function(e){n(e)&&(r+=1)})),1===r)return null}}},Argument:{enter:function(e){if(n(e))return null}}}))}(r,a)),a&&yt(o,(function(e){return!i[e.name]})).length&&(a=function(e,t){function n(t){if(e.some((function(e){return e.name===t.name.value})))return null}return gt(De(t,{FragmentSpread:{enter:n},FragmentDefinition:{enter:n}}))}(o,a)),a}var wt={test:function(e){var t="connection"===e.name.value;return t&&(e.arguments&&e.arguments.some((function(e){return"key"===e.name.value}))||"production"===process.env.NODE_ENV||Me.warn("Removing an @connection directive even though it does not have a key. You may want to use the key parameter to specify a store key.")),t}};function Nt(e){return"query"===ht(e).operation?e:De(e,{OperationDefinition:{enter:function(e){return qe(qe({},e),{operation:"query"})}}})}var Ot="function"==typeof WeakMap&&!("object"==typeof navigator&&"ReactNative"===navigator.product),St=Object.prototype.toString;function xt(e){return function e(t,n){switch(St.call(t)){case"[object Array]":if(n.has(t))return n.get(t);var r=t.slice(0);return n.set(t,r),r.forEach((function(t,i){r[i]=e(t,n)})),r;case"[object Object]":if(n.has(t))return n.get(t);var i=Object.create(Object.getPrototypeOf(t));return n.set(t,i),Object.keys(t).forEach((function(r){i[r]=e(t[r],n)})),i;default:return t}}(e,new Map)}function Tt(e){return("undefined"!=typeof process&&process.env.NODE_ENV?process.env.NODE_ENV:"development")===e}function kt(){return!0===Tt("test")}function _t(e){try{return e()}catch(e){console.error&&console.error(e)}}function Dt(e){return e.errors&&e.errors.length}function At(e){if((!0===Tt("development")||kt())&&!("function"==typeof Symbol&&"string"==typeof Symbol("")))return function e(t){return Object.freeze(t),Object.getOwnPropertyNames(t).forEach((function(n){null===t[n]||"object"!=typeof t[n]&&"function"!=typeof t[n]||Object.isFrozen(t[n])||e(t[n])})),t}(e);return e}var It=Object.prototype.hasOwnProperty;function Ct(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Rt(e)}function Rt(e){var t=e[0]||{},n=e.length;if(n>1){var r=[];t=Mt(t,r);for(var i=1;i<n;++i)t=Pt(t,e[i],r)}return t}function Ft(e){return null!==e&&"object"==typeof e}function Pt(e,t,n){return Ft(t)&&Ft(e)?(Object.isExtensible&&!Object.isExtensible(e)&&(e=Mt(e,n)),Object.keys(t).forEach((function(r){var i=t[r];if(It.call(e,r)){var o=e[r];i!==o&&(e[r]=Pt(Mt(o,n),i,n))}else e[r]=i})),e):t}function Mt(e,t){return null!==e&&"object"==typeof e&&t.indexOf(e)<0&&(e=Array.isArray(e)?e.slice(0):qe({__proto__:Object.getPrototypeOf(e)},e),t.push(e)),e}var jt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Vt(e,t,n){return e(n={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&n.path)}},n.exports),n.exports}var qt=Vt((function(e,t){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}Object.defineProperty(t,"__esModule",{value:!0}),t.Observable=void 0;var o=function(){return"function"==typeof Symbol},a=function(e){return o()&&Boolean(Symbol[e])},s=function(e){return a(e)?Symbol[e]:"@@"+e};o()&&!a("observable")&&(Symbol.observable=Symbol("observable"));var u=s("iterator"),c=s("observable"),l=s("species");function f(e,t){var n=e[t];if(null!=n){if("function"!=typeof n)throw new TypeError(n+" is not a function");return n}}function p(e){var t=e.constructor;return void 0!==t&&null===(t=t[l])&&(t=void 0),void 0!==t?t:N}function h(e){return e instanceof N}function d(e){d.log?d.log(e):setTimeout((function(){throw e}))}function v(e){Promise.resolve().then((function(){try{e()}catch(e){d(e)}}))}function y(e){var t=e._cleanup;if(void 0!==t&&(e._cleanup=void 0,t))try{if("function"==typeof t)t();else{var n=f(t,"unsubscribe");n&&n.call(t)}}catch(e){d(e)}}function m(e){e._observer=void 0,e._queue=void 0,e._state="closed"}function g(e,t,n){e._state="running";var r=e._observer;try{var i=f(r,t);switch(t){case"next":i&&i.call(r,n);break;case"error":if(m(e),!i)throw n;i.call(r,n);break;case"complete":m(e),i&&i.call(r)}}catch(e){d(e)}"closed"===e._state?y(e):"running"===e._state&&(e._state="ready")}function b(e,t,n){if("closed"!==e._state){if("buffering"!==e._state)return"ready"!==e._state?(e._state="buffering",e._queue=[{type:t,value:n}],void v((function(){return function(e){var t=e._queue;if(t){e._queue=void 0,e._state="ready";for(var n=0;n<t.length&&(g(e,t[n].type,t[n].value),"closed"!==e._state);++n);}}(e)}))):void g(e,t,n);e._queue.push({type:t,value:n})}}var E=function(){function e(t,r){n(this,e),this._cleanup=void 0,this._observer=t,this._queue=void 0,this._state="initializing";var i=new w(this);try{this._cleanup=r.call(void 0,i)}catch(e){i.error(e)}"initializing"===this._state&&(this._state="ready")}return i(e,[{key:"unsubscribe",value:function(){"closed"!==this._state&&(m(this),y(this))}},{key:"closed",get:function(){return"closed"===this._state}}]),e}(),w=function(){function e(t){n(this,e),this._subscription=t}return i(e,[{key:"next",value:function(e){b(this._subscription,"next",e)}},{key:"error",value:function(e){b(this._subscription,"error",e)}},{key:"complete",value:function(){b(this._subscription,"complete")}},{key:"closed",get:function(){return"closed"===this._subscription._state}}]),e}(),N=function(){function e(t){if(n(this,e),!(this instanceof e))throw new TypeError("Observable cannot be called as a function");if("function"!=typeof t)throw new TypeError("Observable initializer must be a function");this._subscriber=t}return i(e,[{key:"subscribe",value:function(e){return"object"==typeof e&&null!==e||(e={next:e,error:arguments[1],complete:arguments[2]}),new E(e,this._subscriber)}},{key:"forEach",value:function(e){var t=this;return new Promise((function(n,r){if("function"==typeof e)var i=t.subscribe({next:function(t){try{e(t,o)}catch(e){r(e),i.unsubscribe()}},error:r,complete:n});else r(new TypeError(e+" is not a function"));function o(){i.unsubscribe(),n()}}))}},{key:"map",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(p(this))((function(n){return t.subscribe({next:function(t){try{t=e(t)}catch(e){return n.error(e)}n.next(t)},error:function(e){n.error(e)},complete:function(){n.complete()}})}))}},{key:"filter",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(p(this))((function(n){return t.subscribe({next:function(t){try{if(!e(t))return}catch(e){return n.error(e)}n.next(t)},error:function(e){n.error(e)},complete:function(){n.complete()}})}))}},{key:"reduce",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");var n=p(this),r=arguments.length>1,i=!1,o=arguments[1],a=o;return new n((function(n){return t.subscribe({next:function(t){var o=!i;if(i=!0,!o||r)try{a=e(a,t)}catch(e){return n.error(e)}else a=t},error:function(e){n.error(e)},complete:function(){if(!i&&!r)return n.error(new TypeError("Cannot reduce an empty sequence"));n.next(a),n.complete()}})}))}},{key:"concat",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=p(this);return new i((function(t){var r,o=0;return function e(a){r=a.subscribe({next:function(e){t.next(e)},error:function(e){t.error(e)},complete:function(){o===n.length?(r=void 0,t.complete()):e(i.from(n[o++]))}})}(e),function(){r&&(r.unsubscribe(),r=void 0)}}))}},{key:"flatMap",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");var n=p(this);return new n((function(r){var i=[],o=t.subscribe({next:function(t){if(e)try{t=e(t)}catch(e){return r.error(e)}var o=n.from(t).subscribe({next:function(e){r.next(e)},error:function(e){r.error(e)},complete:function(){var e=i.indexOf(o);e>=0&&i.splice(e,1),a()}});i.push(o)},error:function(e){r.error(e)},complete:function(){a()}});function a(){o.closed&&0===i.length&&r.complete()}return function(){i.forEach((function(e){return e.unsubscribe()})),o.unsubscribe()}}))}},{key:c,value:function(){return this}}],[{key:"from",value:function(t){var n="function"==typeof this?this:e;if(null==t)throw new TypeError(t+" is not an object");var r=f(t,c);if(r){var i=r.call(t);if(Object(i)!==i)throw new TypeError(i+" is not an object");return h(i)&&i.constructor===n?i:new n((function(e){return i.subscribe(e)}))}if(a("iterator")&&(r=f(t,u)))return new n((function(e){v((function(){if(!e.closed){var n=!0,i=!1,o=void 0;try{for(var a,s=r.call(t)[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var u=a.value;if(e.next(u),e.closed)return}}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}e.complete()}}))}));if(Array.isArray(t))return new n((function(e){v((function(){if(!e.closed){for(var n=0;n<t.length;++n)if(e.next(t[n]),e.closed)return;e.complete()}}))}));throw new TypeError(t+" is not observable")}},{key:"of",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i="function"==typeof this?this:e;return new i((function(e){v((function(){if(!e.closed){for(var t=0;t<n.length;++t)if(e.next(n[t]),e.closed)return;e.complete()}}))}))}},{key:l,get:function(){return this}}]),e}();t.Observable=N,o()&&Object.defineProperty(N,Symbol("extensions"),{value:{symbol:c,hostReportError:d},configurable:!0})})).Observable,Lt=function(e,t){return(Lt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};var Qt=function(){return(Qt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};var $t=function(e){function t(t,n){var r=e.call(this,t)||this;return r.link=n,r}return function(e,t){function n(){this.constructor=e}Lt(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t}(Error);function Bt(e){return e.request.length<=1}function Ut(e){return new qt((function(t){t.error(e)}))}function Gt(e,t){var n=Qt({},e);return Object.defineProperty(t,"setContext",{enumerable:!1,value:function(e){n=Qt({},n,"function"==typeof e?e(n):e)}}),Object.defineProperty(t,"getContext",{enumerable:!1,value:function(){return Qt({},n)}}),Object.defineProperty(t,"toKey",{enumerable:!1,value:function(){return function(e){var t=e.query,n=e.variables,r=e.operationName;return JSON.stringify([r,t,n])}(t)}}),t}function Kt(e,t){return t?t(e):qt.of()}function Ht(e){return"function"==typeof e?new Xt(e):e}function zt(){return new Xt((function(){return qt.of()}))}function Jt(e){return 0===e.length?zt():e.map(Ht).reduce((function(e,t){return e.concat(t)}))}function Yt(e,t,n){var r=Ht(t),i=Ht(n||new Xt(Kt));return Bt(r)&&Bt(i)?new Xt((function(t){return e(t)?r.request(t)||qt.of():i.request(t)||qt.of()})):new Xt((function(t,n){return e(t)?r.request(t,n)||qt.of():i.request(t,n)||qt.of()}))}var Wt=function(e,t){var n=Ht(e);if(Bt(n))return"production"===process.env.NODE_ENV||Me.warn(new $t("You are calling concat on a terminating link, which will have no effect",n)),n;var r=Ht(t);return Bt(r)?new Xt((function(e){return n.request(e,(function(e){return r.request(e)||qt.of()}))||qt.of()})):new Xt((function(e,t){return n.request(e,(function(e){return r.request(e,t)||qt.of()}))||qt.of()}))},Xt=function(){function e(e){e&&(this.request=e)}return e.prototype.split=function(t,n,r){return this.concat(Yt(t,n,r||new e(Kt)))},e.prototype.concat=function(e){return Wt(this,e)},e.prototype.request=function(e,t){throw"production"===process.env.NODE_ENV?new Pe(1):new Pe("request is not implemented")},e.empty=zt,e.from=Jt,e.split=Yt,e.execute=Zt,e}();function Zt(e,t){return e.request(Gt(t.context,function(e){var t={variables:e.variables||{},extensions:e.extensions||{},operationName:e.operationName,query:e.query};return t.operationName||(t.operationName="string"!=typeof t.query?ft(t.query):""),t}(function(e){for(var t=["query","operationName","variables","extensions","context"],n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];if(t.indexOf(i)<0)throw"production"===process.env.NODE_ENV?new Pe(2):new Pe("illegal argument: "+i)}return e}(t))))||qt.of()}var en,tn=function(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}("undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof module?module:Function("return this")());function nn(e){return e<7}!function(e){e[e.loading=1]="loading",e[e.setVariables=2]="setVariables",e[e.fetchMore=3]="fetchMore",e[e.refetch=4]="refetch",e[e.poll=6]="poll",e[e.ready=7]="ready",e[e.error=8]="error"}(en||(en={}));var rn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ve(t,e),t.prototype[tn]=function(){return this},t.prototype["@@observable"]=function(){return this},t}(qt);function on(e){return Array.isArray(e)&&e.length>0}var an,sn=function(e){function t(n){var r,i,o=n.graphQLErrors,a=n.networkError,s=n.errorMessage,u=n.extraInfo,c=e.call(this,s)||this;return c.graphQLErrors=o||[],c.networkError=a||null,c.message=s||(i="",on((r=c).graphQLErrors)&&r.graphQLErrors.forEach((function(e){var t=e?e.message:"Error message not found.";i+="GraphQL error: "+t+"\n"})),r.networkError&&(i+="Network error: "+r.networkError.message+"\n"),i=i.replace(/\n$/,"")),c.extraInfo=u,c.__proto__=t.prototype,c}return ve(t,e),t}(Error);!function(e){e[e.normal=1]="normal",e[e.refetch=2]="refetch",e[e.poll=3]="poll"}(an||(an={}));var un=function(e){function t(t){var n=t.queryManager,r=t.options,i=t.shouldSubscribe,o=void 0===i||i,a=e.call(this,(function(e){return a.onSubscribe(e)}))||this;a.observers=new Set,a.subscriptions=new Set,a.isTornDown=!1,a.options=r,a.variables=r.variables||{},a.queryId=n.generateQueryId(),a.shouldSubscribe=o;var s=lt(r.query);return a.queryName=s&&s.name&&s.name.value,a.queryManager=n,a}return ve(t,e),t.prototype.result=function(){var e=this;return new Promise((function(t,n){var r={next:function(n){t(n),e.observers.delete(r),e.observers.size||e.queryManager.removeQuery(e.queryId),setTimeout((function(){i.unsubscribe()}),0)},error:n},i=e.subscribe(r)}))},t.prototype.currentResult=function(){var e=this.getCurrentResult();return void 0===e.data&&(e.data={}),e},t.prototype.getCurrentResult=function(){if(this.isTornDown){var e=this.lastResult;return{data:!this.lastError&&e&&e.data||void 0,error:this.lastError,loading:!1,networkStatus:en.error}}var t,n,r,i=this.queryManager.getCurrentQueryResult(this),o=i.data,a=i.partial,s=this.queryManager.queryStore.get(this.queryId),u=this.options.fetchPolicy,c="network-only"===u||"no-cache"===u;if(s){var l=s.networkStatus;if(n=s,void 0===(r=this.options.errorPolicy)&&(r="none"),n&&(n.networkError||"none"===r&&on(n.graphQLErrors)))return{data:void 0,loading:!1,networkStatus:l,error:new sn({graphQLErrors:s.graphQLErrors,networkError:s.networkError})};s.variables&&(this.options.variables=ye(ye({},this.options.variables),s.variables),this.variables=this.options.variables),t={data:o,loading:nn(l),networkStatus:l},s.graphQLErrors&&"all"===this.options.errorPolicy&&(t.errors=s.graphQLErrors)}else{var f=c||a&&"cache-only"!==u;t={data:o,loading:f,networkStatus:f?en.loading:en.ready}}return a||this.updateLastResult(ye(ye({},t),{stale:!1})),ye(ye({},t),{partial:a})},t.prototype.isDifferentFromLastResult=function(e){var t=this.lastResultSnapshot;return!(t&&e&&t.networkStatus===e.networkStatus&&t.stale===e.stale&&Ge(t.data,e.data))},t.prototype.getLastResult=function(){return this.lastResult},t.prototype.getLastError=function(){return this.lastError},t.prototype.resetLastResults=function(){delete this.lastResult,delete this.lastResultSnapshot,delete this.lastError,this.isTornDown=!1},t.prototype.resetQueryStoreErrors=function(){var e=this.queryManager.queryStore.get(this.queryId);e&&(e.networkError=null,e.graphQLErrors=[])},t.prototype.refetch=function(e){var t=this.options.fetchPolicy;return"cache-only"===t?Promise.reject("production"===process.env.NODE_ENV?new Pe(1):new Pe("cache-only fetchPolicy option should not be used together with query refetch.")):("no-cache"!==t&&"cache-and-network"!==t&&(t="network-only"),Ge(this.variables,e)||(this.variables=ye(ye({},this.variables),e)),Ge(this.options.variables,this.variables)||(this.options.variables=ye(ye({},this.options.variables),this.variables)),this.queryManager.fetchQuery(this.queryId,ye(ye({},this.options),{fetchPolicy:t}),an.refetch))},t.prototype.fetchMore=function(e){var t=this;"production"===process.env.NODE_ENV?Me(e.updateQuery,2):Me(e.updateQuery,"updateQuery option is required. This function defines how to update the query data with the new results.");var n=ye(ye({},e.query?e:ye(ye(ye({},this.options),e),{variables:ye(ye({},this.variables),e.variables)})),{fetchPolicy:"network-only"}),r=this.queryManager.generateQueryId();return this.queryManager.fetchQuery(r,n,an.normal,this.queryId).then((function(i){return t.updateQuery((function(t){return e.updateQuery(t,{fetchMoreResult:i.data,variables:n.variables})})),t.queryManager.stopQuery(r),i}),(function(e){throw t.queryManager.stopQuery(r),e}))},t.prototype.subscribeToMore=function(e){var t=this,n=this.queryManager.startGraphQLSubscription({query:e.document,variables:e.variables}).subscribe({next:function(n){var r=e.updateQuery;r&&t.updateQuery((function(e,t){var i=t.variables;return r(e,{subscriptionData:n,variables:i})}))},error:function(t){e.onError?e.onError(t):"production"===process.env.NODE_ENV||Me.error("Unhandled GraphQL subscription error",t)}});return this.subscriptions.add(n),function(){t.subscriptions.delete(n)&&n.unsubscribe()}},t.prototype.setOptions=function(e){var t=this.options.fetchPolicy;this.options=ye(ye({},this.options),e),e.pollInterval?this.startPolling(e.pollInterval):0===e.pollInterval&&this.stopPolling();var n=e.fetchPolicy;return this.setVariables(this.options.variables,t!==n&&("cache-only"===t||"standby"===t||"network-only"===n),e.fetchResults)},t.prototype.setVariables=function(e,t,n){return void 0===t&&(t=!1),void 0===n&&(n=!0),this.isTornDown=!1,e=e||this.variables,!t&&Ge(e,this.variables)?this.observers.size&&n?this.result():Promise.resolve():(this.variables=this.options.variables=e,this.observers.size?this.queryManager.fetchQuery(this.queryId,this.options):Promise.resolve())},t.prototype.updateQuery=function(e){var t=this.queryManager,n=t.getQueryWithPreviousResult(this.queryId),r=n.previousResult,i=n.variables,o=n.document,a=_t((function(){return e(r,{variables:i})}));a&&(t.dataStore.markUpdateQueryResult(o,i,a),t.broadcastQueries())},t.prototype.stopPolling=function(){this.queryManager.stopPollingQuery(this.queryId),this.options.pollInterval=void 0},t.prototype.startPolling=function(e){fn(this),this.options.pollInterval=e,this.queryManager.startPollingQuery(this.options,this.queryId)},t.prototype.updateLastResult=function(e){var t=this.lastResult;return this.lastResult=e,this.lastResultSnapshot=this.queryManager.assumeImmutableResults?e:xt(e),t},t.prototype.onSubscribe=function(e){var t=this;try{var n=e._subscription._observer;n&&!n.error&&(n.error=cn)}catch(e){}var r=!this.observers.size;return this.observers.add(e),e.next&&this.lastResult&&e.next(this.lastResult),e.error&&this.lastError&&e.error(this.lastError),r&&this.setUpQuery(),function(){t.observers.delete(e)&&!t.observers.size&&t.tearDownQuery()}},t.prototype.setUpQuery=function(){var e=this,t=this.queryManager,n=this.queryId;this.shouldSubscribe&&t.addObservableQuery(n,this),this.options.pollInterval&&(fn(this),t.startPollingQuery(this.options,n));var r=function(t){e.updateLastResult(ye(ye({},e.lastResult),{errors:t.graphQLErrors,networkStatus:en.error,loading:!1})),ln(e.observers,"error",e.lastError=t)};t.observeQuery(n,this.options,{next:function(n){if(e.lastError||e.isDifferentFromLastResult(n)){var r=e.updateLastResult(n),i=e.options,o=i.query,a=i.variables,s=i.fetchPolicy;t.transform(o).hasClientExports?t.getLocalState().addExportedVariables(o,a).then((function(i){var a=e.variables;e.variables=e.options.variables=i,!n.loading&&r&&"cache-only"!==s&&t.transform(o).serverQuery&&!Ge(a,i)?e.refetch():ln(e.observers,"next",n)})):ln(e.observers,"next",n)}},error:r}).catch(r)},t.prototype.tearDownQuery=function(){var e=this.queryManager;this.isTornDown=!0,e.stopPollingQuery(this.queryId),this.subscriptions.forEach((function(e){return e.unsubscribe()})),this.subscriptions.clear(),e.removeObservableQuery(this.queryId),e.stopQuery(this.queryId),this.observers.clear()},t}(rn);function cn(e){"production"===process.env.NODE_ENV||Me.error("Unhandled error",e.message,e.stack)}function ln(e,t,n){var r=[];e.forEach((function(e){return e[t]&&r.push(e)})),r.forEach((function(e){return e[t](n)}))}function fn(e){var t=e.options.fetchPolicy;"production"===process.env.NODE_ENV?Me("cache-first"!==t&&"cache-only"!==t,3):Me("cache-first"!==t&&"cache-only"!==t,"Queries that specify the cache-first and cache-only fetchPolicies cannot also be polling queries.")}var pn=function(){function e(){this.store={}}return e.prototype.getStore=function(){return this.store},e.prototype.get=function(e){return this.store[e]},e.prototype.initMutation=function(e,t,n){this.store[e]={mutation:t,variables:n||{},loading:!0,error:null}},e.prototype.markMutationError=function(e,t){var n=this.store[e];n&&(n.loading=!1,n.error=t)},e.prototype.markMutationResult=function(e){var t=this.store[e];t&&(t.loading=!1,t.error=null)},e.prototype.reset=function(){this.store={}},e}(),hn=function(){function e(){this.store={}}return e.prototype.getStore=function(){return this.store},e.prototype.get=function(e){return this.store[e]},e.prototype.initQuery=function(e){var t=this.store[e.queryId];"production"===process.env.NODE_ENV?Me(!t||t.document===e.document||Ge(t.document,e.document),19):Me(!t||t.document===e.document||Ge(t.document,e.document),"Internal Error: may not update existing query string in store");var n,r=!1,i=null;e.storePreviousVariables&&t&&t.networkStatus!==en.loading&&(Ge(t.variables,e.variables)||(r=!0,i=t.variables)),n=r?en.setVariables:e.isPoll?en.poll:e.isRefetch?en.refetch:en.loading;var o=[];t&&t.graphQLErrors&&(o=t.graphQLErrors),this.store[e.queryId]={document:e.document,variables:e.variables,previousVariables:i,networkError:null,graphQLErrors:o,networkStatus:n,metadata:e.metadata},"string"==typeof e.fetchMoreForQueryId&&this.store[e.fetchMoreForQueryId]&&(this.store[e.fetchMoreForQueryId].networkStatus=en.fetchMore)},e.prototype.markQueryResult=function(e,t,n){this.store&&this.store[e]&&(this.store[e].networkError=null,this.store[e].graphQLErrors=on(t.errors)?t.errors:[],this.store[e].previousVariables=null,this.store[e].networkStatus=en.ready,"string"==typeof n&&this.store[n]&&(this.store[n].networkStatus=en.ready))},e.prototype.markQueryError=function(e,t,n){this.store&&this.store[e]&&(this.store[e].networkError=t,this.store[e].networkStatus=en.error,"string"==typeof n&&this.markQueryResultClient(n,!0))},e.prototype.markQueryResultClient=function(e,t){var n=this.store&&this.store[e];n&&(n.networkError=null,n.previousVariables=null,t&&(n.networkStatus=en.ready))},e.prototype.stopQuery=function(e){delete this.store[e]},e.prototype.reset=function(e){var t=this;Object.keys(this.store).forEach((function(n){e.indexOf(n)<0?t.stopQuery(n):t.store[n].networkStatus=en.loading}))},e}();var dn=function(){function e(e){var t=e.cache,n=e.client,r=e.resolvers,i=e.fragmentMatcher;this.cache=t,n&&(this.client=n),r&&this.addResolvers(r),i&&this.setFragmentMatcher(i)}return e.prototype.addResolvers=function(e){var t=this;this.resolvers=this.resolvers||{},Array.isArray(e)?e.forEach((function(e){t.resolvers=Ct(t.resolvers,e)})):this.resolvers=Ct(this.resolvers,e)},e.prototype.setResolvers=function(e){this.resolvers={},this.addResolvers(e)},e.prototype.getResolvers=function(){return this.resolvers||{}},e.prototype.runResolvers=function(e){var t=e.document,n=e.remoteResult,r=e.context,i=e.variables,o=e.onlyRunForcedResolvers,a=void 0!==o&&o;return me(this,void 0,void 0,(function(){return ge(this,(function(e){return t?[2,this.resolveDocument(t,n.data,r,i,this.fragmentMatcher,a).then((function(e){return ye(ye({},n),{data:e.result})}))]:[2,n]}))}))},e.prototype.setFragmentMatcher=function(e){this.fragmentMatcher=e},e.prototype.getFragmentMatcher=function(){return this.fragmentMatcher},e.prototype.clientQuery=function(e){if(it(["client"],e)){if(this.resolvers)return e;"production"===process.env.NODE_ENV||Me.warn("Found @client directives in a query but no ApolloClient resolvers were specified. This means ApolloClient local resolver handling has been disabled, and @client directives will be passed through to your link chain.")}return null},e.prototype.serverQuery=function(e){return this.resolvers?function(e){ct(e);var t=Et([{test:function(e){return"client"===e.name.value},remove:!0}],e);return t&&(t=De(t,{FragmentDefinition:{enter:function(e){if(e.selectionSet&&e.selectionSet.selections.every((function(e){return Xe(e)&&"__typename"===e.name.value})))return null}}})),t}(e):e},e.prototype.prepareContext=function(e){void 0===e&&(e={});var t=this.cache;return ye(ye({},e),{cache:t,getCacheKey:function(e){if(t.config)return t.config.dataIdFromObject(e);"production"===process.env.NODE_ENV?Me(!1,6):Me(!1,"To use context.getCacheKey, you need to use a cache that has a configurable dataIdFromObject, like apollo-cache-inmemory.")}})},e.prototype.addExportedVariables=function(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),me(this,void 0,void 0,(function(){return ge(this,(function(r){return e?[2,this.resolveDocument(e,this.buildRootValueFromCache(e,t)||{},this.prepareContext(n),t).then((function(e){return ye(ye({},t),e.exportedVariables)}))]:[2,ye({},t)]}))}))},e.prototype.shouldForceResolvers=function(e){var t=!1;return De(e,{Directive:{enter:function(e){if("client"===e.name.value&&e.arguments&&(t=e.arguments.some((function(e){return"always"===e.name.value&&"BooleanValue"===e.value.kind&&!0===e.value.value}))))return _e}}}),t},e.prototype.buildRootValueFromCache=function(e,t){return this.cache.diff({query:Nt(e),variables:t,returnPartialData:!0,optimistic:!1}).result},e.prototype.resolveDocument=function(e,t,n,r,i,o){return void 0===n&&(n={}),void 0===r&&(r={}),void 0===i&&(i=function(){return!0}),void 0===o&&(o=!1),me(this,void 0,void 0,(function(){var a,s,u,c,l,f,p,h,d;return ge(this,(function(v){var y;return a=ht(e),s=pt(e),u=dt(s),c=a.operation,l=c?(y=c).charAt(0).toUpperCase()+y.slice(1):"Query",p=(f=this).cache,h=f.client,d={fragmentMap:u,context:ye(ye({},n),{cache:p,client:h}),variables:r,fragmentMatcher:i,defaultOperationType:l,exportedVariables:{},onlyRunForcedResolvers:o},[2,this.resolveSelectionSet(a.selectionSet,t,d).then((function(e){return{result:e,exportedVariables:d.exportedVariables}}))]}))}))},e.prototype.resolveSelectionSet=function(e,t,n){return me(this,void 0,void 0,(function(){var r,i,o,a,s,u=this;return ge(this,(function(c){return r=n.fragmentMap,i=n.context,o=n.variables,a=[t],s=function(e){return me(u,void 0,void 0,(function(){var s,u;return ge(this,(function(c){return rt(e,o)?Xe(e)?[2,this.resolveField(e,t,n).then((function(t){var n;void 0!==t&&a.push(((n={})[We(e)]=t,n))}))]:(Ze(e)?s=e:(s=r[e.name.value],"production"===process.env.NODE_ENV?Me(s,7):Me(s,"No fragment named "+e.name.value)),s&&s.typeCondition&&(u=s.typeCondition.name.value,n.fragmentMatcher(t,u,i))?[2,this.resolveSelectionSet(s.selectionSet,t,n).then((function(e){a.push(e)}))]:[2]):[2]}))}))},[2,Promise.all(e.selections.map(s)).then((function(){return Rt(a)}))]}))}))},e.prototype.resolveField=function(e,t,n){return me(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,f,p=this;return ge(this,(function(h){return r=n.variables,i=e.name.value,o=We(e),a=i!==o,s=t[o]||t[i],u=Promise.resolve(s),n.onlyRunForcedResolvers&&!this.shouldForceResolvers(e)||(c=t.__typename||n.defaultOperationType,(l=this.resolvers&&this.resolvers[c])&&(f=l[a?i:o])&&(u=Promise.resolve(f(t,Ye(e,r),n.context,{field:e,fragmentMap:n.fragmentMap})))),[2,u.then((function(t){return void 0===t&&(t=s),e.directives&&e.directives.forEach((function(e){"export"===e.name.value&&e.arguments&&e.arguments.forEach((function(e){"as"===e.name.value&&"StringValue"===e.value.kind&&(n.exportedVariables[e.value.value]=t)}))})),e.selectionSet?null==t?t:Array.isArray(t)?p.resolveSubSelectedArray(e,t,n):e.selectionSet?p.resolveSelectionSet(e.selectionSet,t,n):void 0:t}))]}))}))},e.prototype.resolveSubSelectedArray=function(e,t,n){var r=this;return Promise.all(t.map((function(t){return null===t?null:Array.isArray(t)?r.resolveSubSelectedArray(e,t,n):e.selectionSet?r.resolveSelectionSet(e.selectionSet,t,n):void 0})))},e}();function vn(e){var t=new Set,n=null;return new rn((function(r){return t.add(r),n=n||e.subscribe({next:function(e){t.forEach((function(t){return t.next&&t.next(e)}))},error:function(e){t.forEach((function(t){return t.error&&t.error(e)}))},complete:function(){t.forEach((function(e){return e.complete&&e.complete()}))}}),function(){t.delete(r)&&!t.size&&n&&(n.unsubscribe(),n=null)}}))}var yn=Object.prototype.hasOwnProperty,mn=function(){function e(e){var t=e.link,n=e.queryDeduplication,r=void 0!==n&&n,i=e.store,o=e.onBroadcast,a=void 0===o?function(){}:o,s=e.ssrMode,u=void 0!==s&&s,c=e.clientAwareness,l=void 0===c?{}:c,f=e.localState,p=e.assumeImmutableResults;this.mutationStore=new pn,this.queryStore=new hn,this.clientAwareness={},this.idCounter=1,this.queries=new Map,this.fetchQueryRejectFns=new Map,this.transformCache=new(Ot?WeakMap:Map),this.inFlightLinkObservables=new Map,this.pollingInfoByQueryId=new Map,this.link=t,this.queryDeduplication=r,this.dataStore=i,this.onBroadcast=a,this.clientAwareness=l,this.localState=f||new dn({cache:i.getCache()}),this.ssrMode=u,this.assumeImmutableResults=!!p}return e.prototype.stop=function(){var e=this;this.queries.forEach((function(t,n){e.stopQueryNoBroadcast(n)})),this.fetchQueryRejectFns.forEach((function(e){e("production"===process.env.NODE_ENV?new Pe(8):new Pe("QueryManager stopped while query was in flight"))}))},e.prototype.mutate=function(e){var t=e.mutation,n=e.variables,r=e.optimisticResponse,i=e.updateQueries,o=e.refetchQueries,a=void 0===o?[]:o,s=e.awaitRefetchQueries,u=void 0!==s&&s,c=e.update,l=e.errorPolicy,f=void 0===l?"none":l,p=e.fetchPolicy,h=e.context,d=void 0===h?{}:h;return me(this,void 0,void 0,(function(){var e,o,s,l=this;return ge(this,(function(h){switch(h.label){case 0:return"production"===process.env.NODE_ENV?Me(t,9):Me(t,"mutation option is required. You must specify your GraphQL document in the mutation option."),"production"===process.env.NODE_ENV?Me(!p||"no-cache"===p,10):Me(!p||"no-cache"===p,"Mutations only support a 'no-cache' fetchPolicy. If you don't want to disable the cache, remove your fetchPolicy setting to proceed with the default mutation behavior."),e=this.generateQueryId(),t=this.transform(t).document,this.setQuery(e,(function(){return{document:t}})),n=this.getVariables(t,n),this.transform(t).hasClientExports?[4,this.localState.addExportedVariables(t,n,d)]:[3,2];case 1:n=h.sent(),h.label=2;case 2:return o=function(){var e={};return i&&l.queries.forEach((function(t,n){var r=t.observableQuery;if(r){var o=r.queryName;o&&yn.call(i,o)&&(e[n]={updater:i[o],query:l.queryStore.get(n)})}})),e},this.mutationStore.initMutation(e,t,n),this.dataStore.markMutationInit({mutationId:e,document:t,variables:n,updateQueries:o(),update:c,optimisticResponse:r}),this.broadcastQueries(),s=this,[2,new Promise((function(i,l){var h,v;s.getObservableFromLink(t,ye(ye({},d),{optimisticResponse:r}),n,!1).subscribe({next:function(r){Dt(r)&&"none"===f?v=new sn({graphQLErrors:r.errors}):(s.mutationStore.markMutationResult(e),"no-cache"!==p&&s.dataStore.markMutationResult({mutationId:e,result:r,document:t,variables:n,updateQueries:o(),update:c}),h=r)},error:function(t){s.mutationStore.markMutationError(e,t),s.dataStore.markMutationComplete({mutationId:e,optimisticResponse:r}),s.broadcastQueries(),s.setQuery(e,(function(){return{document:null}})),l(new sn({networkError:t}))},complete:function(){if(v&&s.mutationStore.markMutationError(e,v),s.dataStore.markMutationComplete({mutationId:e,optimisticResponse:r}),s.broadcastQueries(),v)l(v);else{"function"==typeof a&&(a=a(h));var t=[];on(a)&&a.forEach((function(e){if("string"==typeof e)s.queries.forEach((function(n){var r=n.observableQuery;r&&r.queryName===e&&t.push(r.refetch())}));else{var n={query:e.query,variables:e.variables,fetchPolicy:"network-only"};e.context&&(n.context=e.context),t.push(s.query(n))}})),Promise.all(u?t:[]).then((function(){s.setQuery(e,(function(){return{document:null}})),"ignore"===f&&h&&Dt(h)&&delete h.errors,i(h)}))}}})}))]}}))}))},e.prototype.fetchQuery=function(e,t,n,r){return me(this,void 0,void 0,(function(){var i,o,a,s,u,c,l,f,p,h,d,v,y,m,g,b,E,w,N=this;return ge(this,(function(O){switch(O.label){case 0:return i=t.metadata,o=void 0===i?null:i,a=t.fetchPolicy,s=void 0===a?"cache-first":a,u=t.context,c=void 0===u?{}:u,l=this.transform(t.query).document,f=this.getVariables(l,t.variables),this.transform(l).hasClientExports?[4,this.localState.addExportedVariables(l,f,c)]:[3,2];case 1:f=O.sent(),O.label=2;case 2:if(t=ye(ye({},t),{variables:f}),d=h="network-only"===s||"no-cache"===s,h||(v=this.dataStore.getCache().diff({query:l,variables:f,returnPartialData:!0,optimistic:!1}),y=v.complete,m=v.result,d=!y||"cache-and-network"===s,p=m),g=d&&"cache-only"!==s&&"standby"!==s,it(["live"],l)&&(g=!0),b=this.idCounter++,E="no-cache"!==s?this.updateQueryWatch(e,l,t):void 0,this.setQuery(e,(function(){return{document:l,lastRequestId:b,invalidated:!0,cancel:E}})),this.invalidate(r),this.queryStore.initQuery({queryId:e,document:l,storePreviousVariables:g,variables:f,isPoll:n===an.poll,isRefetch:n===an.refetch,metadata:o,fetchMoreForQueryId:r}),this.broadcastQueries(),g){if(w=this.fetchRequest({requestId:b,queryId:e,document:l,options:t,fetchMoreForQueryId:r}).catch((function(t){throw t.hasOwnProperty("graphQLErrors")?t:(b>=N.getQuery(e).lastRequestId&&(N.queryStore.markQueryError(e,t,r),N.invalidate(e),N.invalidate(r),N.broadcastQueries()),new sn({networkError:t}))})),"cache-and-network"!==s)return[2,w];w.catch((function(){}))}return this.queryStore.markQueryResultClient(e,!g),this.invalidate(e),this.invalidate(r),this.transform(l).hasForcedResolvers?[2,this.localState.runResolvers({document:l,remoteResult:{data:p},context:c,variables:f,onlyRunForcedResolvers:!0}).then((function(n){return N.markQueryResult(e,n,t,r),N.broadcastQueries(),n}))]:(this.broadcastQueries(),[2,{data:p}])}}))}))},e.prototype.markQueryResult=function(e,t,n,r){var i=n.fetchPolicy,o=n.variables,a=n.errorPolicy;"no-cache"===i?this.setQuery(e,(function(){return{newData:{result:t.data,complete:!0}}})):this.dataStore.markQueryResult(t,this.getQuery(e).document,o,r,"ignore"===a||"all"===a)},e.prototype.queryListenerForObserver=function(e,t,n){var r=this;function i(e,t){if(n[e])try{n[e](t)}catch(e){"production"===process.env.NODE_ENV||Me.error(e)}else"error"===e&&("production"===process.env.NODE_ENV||Me.error(t))}return function(n,o){if(r.invalidate(e,!1),n){var a=r.getQuery(e),s=a.observableQuery,u=a.document,c=s?s.options.fetchPolicy:t.fetchPolicy;if("standby"!==c){var l=nn(n.networkStatus),f=s&&s.getLastResult(),p=!(!f||f.networkStatus===n.networkStatus),h=t.returnPartialData||!o&&n.previousVariables||p&&t.notifyOnNetworkStatusChange||"cache-only"===c||"cache-and-network"===c;if(!l||h){var d=on(n.graphQLErrors),v=s&&s.options.errorPolicy||t.errorPolicy||"none";if("none"===v&&d||n.networkError)return i("error",new sn({graphQLErrors:n.graphQLErrors,networkError:n.networkError}));try{var y=void 0,m=void 0;if(o)"no-cache"!==c&&"network-only"!==c&&r.setQuery(e,(function(){return{newData:null}})),y=o.result,m=!o.complete;else{var g=s&&s.getLastError(),b="none"!==v&&(g&&g.graphQLErrors)!==n.graphQLErrors;if(f&&f.data&&!b)y=f.data,m=!1;else{var E=r.dataStore.getCache().diff({query:u,variables:n.previousVariables||n.variables,returnPartialData:!0,optimistic:!0});y=E.result,m=!E.complete}}var w=m&&!(t.returnPartialData||"cache-only"===c),N={data:w?f&&f.data:y,loading:l,networkStatus:n.networkStatus,stale:w};"all"===v&&d&&(N.errors=n.graphQLErrors),i("next",N)}catch(e){i("error",new sn({networkError:e}))}}}}}},e.prototype.transform=function(e){var t,n=this.transformCache;if(!n.has(e)){var r=this.dataStore.getCache(),i=r.transformDocument(e),o=(t=r.transformForLink(i),Et([wt],ct(t))),a=this.localState.clientQuery(i),s=this.localState.serverQuery(o),u={document:i,hasClientExports:ot(i),hasForcedResolvers:this.localState.shouldForceResolvers(i),clientQuery:a,serverQuery:s,defaultVars:vt(lt(i))},c=function(e){e&&!n.has(e)&&n.set(e,u)};c(e),c(i),c(a),c(s)}return n.get(e)},e.prototype.getVariables=function(e,t){return ye(ye({},this.transform(e).defaultVars),t)},e.prototype.watchQuery=function(e,t){void 0===t&&(t=!0),"production"===process.env.NODE_ENV?Me("standby"!==e.fetchPolicy,11):Me("standby"!==e.fetchPolicy,'client.watchQuery cannot be called with fetchPolicy set to "standby"'),e.variables=this.getVariables(e.query,e.variables),void 0===e.notifyOnNetworkStatusChange&&(e.notifyOnNetworkStatusChange=!1);var n=ye({},e);return new un({queryManager:this,options:n,shouldSubscribe:t})},e.prototype.query=function(e){var t=this;return"production"===process.env.NODE_ENV?Me(e.query,12):Me(e.query,"query option is required. You must specify your GraphQL document in the query option."),"production"===process.env.NODE_ENV?Me("Document"===e.query.kind,13):Me("Document"===e.query.kind,'You must wrap the query string in a "gql" tag.'),"production"===process.env.NODE_ENV?Me(!e.returnPartialData,14):Me(!e.returnPartialData,"returnPartialData option only supported on watchQuery."),"production"===process.env.NODE_ENV?Me(!e.pollInterval,15):Me(!e.pollInterval,"pollInterval option only supported on watchQuery."),new Promise((function(n,r){var i=t.watchQuery(e,!1);t.fetchQueryRejectFns.set("query:"+i.queryId,r),i.result().then(n,r).then((function(){return t.fetchQueryRejectFns.delete("query:"+i.queryId)}))}))},e.prototype.generateQueryId=function(){return String(this.idCounter++)},e.prototype.stopQueryInStore=function(e){this.stopQueryInStoreNoBroadcast(e),this.broadcastQueries()},e.prototype.stopQueryInStoreNoBroadcast=function(e){this.stopPollingQuery(e),this.queryStore.stopQuery(e),this.invalidate(e)},e.prototype.addQueryListener=function(e,t){this.setQuery(e,(function(e){return e.listeners.add(t),{invalidated:!1}}))},e.prototype.updateQueryWatch=function(e,t,n){var r=this,i=this.getQuery(e).cancel;i&&i();return this.dataStore.getCache().watch({query:t,variables:n.variables,optimistic:!0,previousResult:function(){var t=null,n=r.getQuery(e).observableQuery;if(n){var i=n.getLastResult();i&&(t=i.data)}return t},callback:function(t){r.setQuery(e,(function(){return{invalidated:!0,newData:t}}))}})},e.prototype.addObservableQuery=function(e,t){this.setQuery(e,(function(){return{observableQuery:t}}))},e.prototype.removeObservableQuery=function(e){var t=this.getQuery(e).cancel;this.setQuery(e,(function(){return{observableQuery:null}})),t&&t()},e.prototype.clearStore=function(){this.fetchQueryRejectFns.forEach((function(e){e("production"===process.env.NODE_ENV?new Pe(16):new Pe("Store reset while query was in flight (not completed in link chain)"))}));var e=[];return this.queries.forEach((function(t,n){t.observableQuery&&e.push(n)})),this.queryStore.reset(e),this.mutationStore.reset(),this.dataStore.reset()},e.prototype.resetStore=function(){var e=this;return this.clearStore().then((function(){return e.reFetchObservableQueries()}))},e.prototype.reFetchObservableQueries=function(e){var t=this;void 0===e&&(e=!1);var n=[];return this.queries.forEach((function(r,i){var o=r.observableQuery;if(o){var a=o.options.fetchPolicy;o.resetLastResults(),"cache-only"===a||!e&&"standby"===a||n.push(o.refetch()),t.setQuery(i,(function(){return{newData:null}})),t.invalidate(i)}})),this.broadcastQueries(),Promise.all(n)},e.prototype.observeQuery=function(e,t,n){return this.addQueryListener(e,this.queryListenerForObserver(e,t,n)),this.fetchQuery(e,t)},e.prototype.startQuery=function(e,t,n){return"production"===process.env.NODE_ENV||Me.warn("The QueryManager.startQuery method has been deprecated"),this.addQueryListener(e,n),this.fetchQuery(e,t).catch((function(){})),e},e.prototype.startGraphQLSubscription=function(e){var t=this,n=e.query,r=e.fetchPolicy,i=e.variables;n=this.transform(n).document,i=this.getVariables(n,i);var o=function(e){return t.getObservableFromLink(n,{},e,!1).map((function(i){if(r&&"no-cache"===r||(t.dataStore.markSubscriptionResult(i,n,e),t.broadcastQueries()),Dt(i))throw new sn({graphQLErrors:i.errors});return i}))};if(this.transform(n).hasClientExports){var a=this.localState.addExportedVariables(n,i).then(o);return new rn((function(e){var t=null;return a.then((function(n){return t=n.subscribe(e)}),e.error),function(){return t&&t.unsubscribe()}}))}return o(i)},e.prototype.stopQuery=function(e){this.stopQueryNoBroadcast(e),this.broadcastQueries()},e.prototype.stopQueryNoBroadcast=function(e){this.stopQueryInStoreNoBroadcast(e),this.removeQuery(e)},e.prototype.removeQuery=function(e){this.fetchQueryRejectFns.delete("query:"+e),this.fetchQueryRejectFns.delete("fetchRequest:"+e),this.getQuery(e).subscriptions.forEach((function(e){return e.unsubscribe()})),this.queries.delete(e)},e.prototype.getCurrentQueryResult=function(e,t){void 0===t&&(t=!0);var n=e.options,r=n.variables,i=n.query,o=n.fetchPolicy,a=n.returnPartialData,s=e.getLastResult(),u=this.getQuery(e.queryId).newData;if(u&&u.complete)return{data:u.result,partial:!1};if("no-cache"===o||"network-only"===o)return{data:void 0,partial:!1};var c=this.dataStore.getCache().diff({query:i,variables:r,previousResult:s?s.data:void 0,returnPartialData:!0,optimistic:t}),l=c.result,f=c.complete;return{data:f||a?l:void 0,partial:!f}},e.prototype.getQueryWithPreviousResult=function(e){var t;if("string"==typeof e){var n=this.getQuery(e).observableQuery;"production"===process.env.NODE_ENV?Me(n,17):Me(n,"ObservableQuery with this id doesn't exist: "+e),t=n}else t=e;var r=t.options,i=r.variables,o=r.query;return{previousResult:this.getCurrentQueryResult(t,!1).data,variables:i,document:o}},e.prototype.broadcastQueries=function(){var e=this;this.onBroadcast(),this.queries.forEach((function(t,n){t.invalidated&&t.listeners.forEach((function(r){r&&r(e.queryStore.get(n),t.newData)}))}))},e.prototype.getLocalState=function(){return this.localState},e.prototype.getObservableFromLink=function(e,t,n,r){var i,o=this;void 0===r&&(r=this.queryDeduplication);var a=this.transform(e).serverQuery;if(a){var s=this.inFlightLinkObservables,u=this.link,c={query:a,variables:n,operationName:ft(a)||void 0,context:this.prepareContext(ye(ye({},t),{forceFetch:!r}))};if(t=c.context,r){var l=s.get(a)||new Map;s.set(a,l);var f=JSON.stringify(n);if(!(i=l.get(f))){l.set(f,i=vn(Zt(u,c)));var p=function(){l.delete(f),l.size||s.delete(a),h.unsubscribe()},h=i.subscribe({next:p,error:p,complete:p})}}else i=vn(Zt(u,c))}else i=rn.of({data:{}}),t=this.prepareContext(t);var d=this.transform(e).clientQuery;return d&&(i=function(e,t){return new rn((function(n){var r=n.next,i=n.error,o=n.complete,a=0,s=!1,u={next:function(e){++a,new Promise((function(n){n(t(e))})).then((function(e){--a,r&&r.call(n,e),s&&u.complete()}),(function(e){--a,i&&i.call(n,e)}))},error:function(e){i&&i.call(n,e)},complete:function(){s=!0,a||o&&o.call(n)}},c=e.subscribe(u);return function(){return c.unsubscribe()}}))}(i,(function(e){return o.localState.runResolvers({document:d,remoteResult:e,context:t,variables:n})}))),i},e.prototype.fetchRequest=function(e){var t,n,r=this,i=e.requestId,o=e.queryId,a=e.document,s=e.options,u=e.fetchMoreForQueryId,c=s.variables,l=s.errorPolicy,f=void 0===l?"none":l,p=s.fetchPolicy;return new Promise((function(e,l){var h=r.getObservableFromLink(a,s.context,c),d="fetchRequest:"+o;r.fetchQueryRejectFns.set(d,l);var v=function(){r.fetchQueryRejectFns.delete(d),r.setQuery(o,(function(e){e.subscriptions.delete(y)}))},y=h.map((function(e){if(i>=r.getQuery(o).lastRequestId&&(r.markQueryResult(o,e,s,u),r.queryStore.markQueryResult(o,e,u),r.invalidate(o),r.invalidate(u),r.broadcastQueries()),"none"===f&&on(e.errors))return l(new sn({graphQLErrors:e.errors}));if("all"===f&&(n=e.errors),u||"no-cache"===p)t=e.data;else{var h=r.dataStore.getCache().diff({variables:c,query:a,optimistic:!1,returnPartialData:!0}),d=h.result;(h.complete||s.returnPartialData)&&(t=d)}})).subscribe({error:function(e){v(),l(e)},complete:function(){v(),e({data:t,errors:n,loading:!1,networkStatus:en.ready,stale:!1})}});r.setQuery(o,(function(e){e.subscriptions.add(y)}))}))},e.prototype.getQuery=function(e){return this.queries.get(e)||{listeners:new Set,invalidated:!1,document:null,newData:null,lastRequestId:1,observableQuery:null,subscriptions:new Set}},e.prototype.setQuery=function(e,t){var n=this.getQuery(e),r=ye(ye({},n),t(n));this.queries.set(e,r)},e.prototype.invalidate=function(e,t){void 0===t&&(t=!0),e&&this.setQuery(e,(function(){return{invalidated:t}}))},e.prototype.prepareContext=function(e){void 0===e&&(e={});var t=this.localState.prepareContext(e);return ye(ye({},t),{clientAwareness:this.clientAwareness})},e.prototype.checkInFlight=function(e){var t=this.queryStore.get(e);return t&&t.networkStatus!==en.ready&&t.networkStatus!==en.error},e.prototype.startPollingQuery=function(e,t,n){var r=this,i=e.pollInterval;if("production"===process.env.NODE_ENV?Me(i,18):Me(i,"Attempted to start a polling query without a polling interval."),!this.ssrMode){var o=this.pollingInfoByQueryId.get(t);o||this.pollingInfoByQueryId.set(t,o={}),o.interval=i,o.options=ye(ye({},e),{fetchPolicy:"network-only"});var a=function(){var e=r.pollingInfoByQueryId.get(t);e&&(r.checkInFlight(t)?s():r.fetchQuery(t,e.options,an.poll).then(s,s))},s=function(){var e=r.pollingInfoByQueryId.get(t);e&&(clearTimeout(e.timeout),e.timeout=setTimeout(a,e.interval))};n&&this.addQueryListener(t,n),s()}return t},e.prototype.stopPollingQuery=function(e){this.pollingInfoByQueryId.delete(e)},e}(),gn=function(){function e(e){this.cache=e}return e.prototype.getCache=function(){return this.cache},e.prototype.markQueryResult=function(e,t,n,r,i){void 0===i&&(i=!1);var o=!Dt(e);i&&Dt(e)&&e.data&&(o=!0),!r&&o&&this.cache.write({result:e.data,dataId:"ROOT_QUERY",query:t,variables:n})},e.prototype.markSubscriptionResult=function(e,t,n){Dt(e)||this.cache.write({result:e.data,dataId:"ROOT_SUBSCRIPTION",query:t,variables:n})},e.prototype.markMutationInit=function(e){var t,n=this;e.optimisticResponse&&(t="function"==typeof e.optimisticResponse?e.optimisticResponse(e.variables):e.optimisticResponse,this.cache.recordOptimisticTransaction((function(r){var i=n.cache;n.cache=r;try{n.markMutationResult({mutationId:e.mutationId,result:{data:t},document:e.document,variables:e.variables,updateQueries:e.updateQueries,update:e.update})}finally{n.cache=i}}),e.mutationId))},e.prototype.markMutationResult=function(e){var t=this;if(!Dt(e.result)){var n=[{result:e.result.data,dataId:"ROOT_MUTATION",query:e.document,variables:e.variables}],r=e.updateQueries;r&&Object.keys(r).forEach((function(i){var o=r[i],a=o.query,s=o.updater,u=t.cache.diff({query:a.document,variables:a.variables,returnPartialData:!0,optimistic:!1}),c=u.result;if(u.complete){var l=_t((function(){return s(c,{mutationResult:e.result,queryName:ft(a.document)||void 0,queryVariables:a.variables})}));l&&n.push({result:l,dataId:"ROOT_QUERY",query:a.document,variables:a.variables})}})),this.cache.performTransaction((function(t){n.forEach((function(e){return t.write(e)}));var r=e.update;r&&_t((function(){return r(t,e.result)}))}))}},e.prototype.markMutationComplete=function(e){var t=e.mutationId;e.optimisticResponse&&this.cache.removeOptimistic(t)},e.prototype.markUpdateQueryResult=function(e,t,n){this.cache.write({result:n,dataId:"ROOT_QUERY",variables:t,query:e})},e.prototype.reset=function(){return this.cache.reset()},e}(),bn=!1,En=function(){function e(e){var t=this;this.defaultOptions={},this.resetStoreCallbacks=[],this.clearStoreCallbacks=[];var n=e.cache,r=e.ssrMode,i=void 0!==r&&r,o=e.ssrForceFetchDelay,a=void 0===o?0:o,s=e.connectToDevTools,u=e.queryDeduplication,c=void 0===u||u,l=e.defaultOptions,f=e.assumeImmutableResults,p=void 0!==f&&f,h=e.resolvers,d=e.typeDefs,v=e.fragmentMatcher,y=e.name,m=e.version,g=e.link;if(!g&&h&&(g=Xt.empty()),!g||!n)throw"production"===process.env.NODE_ENV?new Pe(4):new Pe("In order to initialize Apollo Client, you must specify 'link' and 'cache' properties in the options object.\nThese options are part of the upgrade requirements when migrating from Apollo Client 1.x to Apollo Client 2.x.\nFor more information, please visit: https://www.apollographql.com/docs/tutorial/client.html#apollo-client-setup");this.link=g,this.cache=n,this.store=new gn(n),this.disableNetworkFetches=i||a>0,this.queryDeduplication=c,this.defaultOptions=l||{},this.typeDefs=d,a&&setTimeout((function(){return t.disableNetworkFetches=!1}),a),this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.reFetchObservableQueries.bind(this);var b="production"!==process.env.NODE_ENV&&"undefined"!=typeof window&&!window.__APOLLO_CLIENT__;(void 0===s?b:s&&"undefined"!=typeof window)&&(window.__APOLLO_CLIENT__=this),bn||"production"===process.env.NODE_ENV||(bn=!0,"undefined"!=typeof window&&window.document&&window.top===window.self&&void 0===window.__APOLLO_DEVTOOLS_GLOBAL_HOOK__&&window.navigator&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("Chrome")>-1&&console.debug("Download the Apollo DevTools for a better development experience: https://chrome.google.com/webstore/detail/apollo-client-developer-t/jdkknkkbebbapilgoeccciglkfbmbnfm")),this.version="2.6.10",this.localState=new dn({cache:n,client:this,resolvers:h,fragmentMatcher:v}),this.queryManager=new mn({link:this.link,store:this.store,queryDeduplication:c,ssrMode:i,clientAwareness:{name:y,version:m},localState:this.localState,assumeImmutableResults:p,onBroadcast:function(){t.devToolsHookCb&&t.devToolsHookCb({action:{},state:{queries:t.queryManager.queryStore.getStore(),mutations:t.queryManager.mutationStore.getStore()},dataWithOptimisticResults:t.cache.extract(!0)})}})}return e.prototype.stop=function(){this.queryManager.stop()},e.prototype.watchQuery=function(e){return this.defaultOptions.watchQuery&&(e=ye(ye({},this.defaultOptions.watchQuery),e)),!this.disableNetworkFetches||"network-only"!==e.fetchPolicy&&"cache-and-network"!==e.fetchPolicy||(e=ye(ye({},e),{fetchPolicy:"cache-first"})),this.queryManager.watchQuery(e)},e.prototype.query=function(e){return this.defaultOptions.query&&(e=ye(ye({},this.defaultOptions.query),e)),"production"===process.env.NODE_ENV?Me("cache-and-network"!==e.fetchPolicy,5):Me("cache-and-network"!==e.fetchPolicy,"The cache-and-network fetchPolicy does not work with client.query, because client.query can only return a single result. Please use client.watchQuery to receive multiple results from the cache and the network, or consider using a different fetchPolicy, such as cache-first or network-only."),this.disableNetworkFetches&&"network-only"===e.fetchPolicy&&(e=ye(ye({},e),{fetchPolicy:"cache-first"})),this.queryManager.query(e)},e.prototype.mutate=function(e){return this.defaultOptions.mutate&&(e=ye(ye({},this.defaultOptions.mutate),e)),this.queryManager.mutate(e)},e.prototype.subscribe=function(e){return this.queryManager.startGraphQLSubscription(e)},e.prototype.readQuery=function(e,t){return void 0===t&&(t=!1),this.cache.readQuery(e,t)},e.prototype.readFragment=function(e,t){return void 0===t&&(t=!1),this.cache.readFragment(e,t)},e.prototype.writeQuery=function(e){var t=this.cache.writeQuery(e);return this.queryManager.broadcastQueries(),t},e.prototype.writeFragment=function(e){var t=this.cache.writeFragment(e);return this.queryManager.broadcastQueries(),t},e.prototype.writeData=function(e){var t=this.cache.writeData(e);return this.queryManager.broadcastQueries(),t},e.prototype.__actionHookForDevTools=function(e){this.devToolsHookCb=e},e.prototype.__requestRaw=function(e){return Zt(this.link,e)},e.prototype.initQueryManager=function(){return"production"===process.env.NODE_ENV||Me.warn("Calling the initQueryManager method is no longer necessary, and it will be removed from ApolloClient in version 3.0."),this.queryManager},e.prototype.resetStore=function(){var e=this;return Promise.resolve().then((function(){return e.queryManager.clearStore()})).then((function(){return Promise.all(e.resetStoreCallbacks.map((function(e){return e()})))})).then((function(){return e.reFetchObservableQueries()}))},e.prototype.clearStore=function(){var e=this;return Promise.resolve().then((function(){return e.queryManager.clearStore()})).then((function(){return Promise.all(e.clearStoreCallbacks.map((function(e){return e()})))}))},e.prototype.onResetStore=function(e){var t=this;return this.resetStoreCallbacks.push(e),function(){t.resetStoreCallbacks=t.resetStoreCallbacks.filter((function(t){return t!==e}))}},e.prototype.onClearStore=function(e){var t=this;return this.clearStoreCallbacks.push(e),function(){t.clearStoreCallbacks=t.clearStoreCallbacks.filter((function(t){return t!==e}))}},e.prototype.reFetchObservableQueries=function(e){return this.queryManager.reFetchObservableQueries(e)},e.prototype.extract=function(e){return this.cache.extract(e)},e.prototype.restore=function(e){return this.cache.restore(e)},e.prototype.addResolvers=function(e){this.localState.addResolvers(e)},e.prototype.setResolvers=function(e){this.localState.setResolvers(e)},e.prototype.getResolvers=function(){return this.localState.getResolvers()},e.prototype.setLocalStateFragmentMatcher=function(e){this.localState.setFragmentMatcher(e)},e}(),wn=function(e,t){return(wn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function Nn(e,t){function n(){this.constructor=e}wn(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var On=function(){return(On=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function Sn(e){return{kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GeneratedClientQuery"},selectionSet:xn(e)}]}}function xn(e){if("number"==typeof e||"boolean"==typeof e||"string"==typeof e||null==e)return null;if(Array.isArray(e))return xn(e[0]);var t=[];return Object.keys(e).forEach((function(n){var r={kind:"Field",name:{kind:"Name",value:n},selectionSet:xn(e[n])||void 0};t.push(r)})),{kind:"SelectionSet",selections:t}}var Tn={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:null,variableDefinitions:null,directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:null,name:{kind:"Name",value:"__typename"},arguments:[],directives:[],selectionSet:null}]}}]},kn=function(){function e(){}return e.prototype.transformDocument=function(e){return e},e.prototype.transformForLink=function(e){return e},e.prototype.readQuery=function(e,t){return void 0===t&&(t=!1),this.read({query:e.query,variables:e.variables,optimistic:t})},e.prototype.readFragment=function(e,t){return void 0===t&&(t=!1),this.read({query:st(e.fragment,e.fragmentName),variables:e.variables,rootId:e.id,optimistic:t})},e.prototype.writeQuery=function(e){this.write({dataId:"ROOT_QUERY",result:e.data,query:e.query,variables:e.variables})},e.prototype.writeFragment=function(e){this.write({dataId:e.id,result:e.data,variables:e.variables,query:st(e.fragment,e.fragmentName)})},e.prototype.writeData=function(e){var t,n,r=e.id,i=e.data;if(void 0!==r){var o=null;try{o=this.read({rootId:r,optimistic:!1,query:Tn})}catch(e){}var a=o&&o.__typename||"__ClientData",s=Object.assign({__typename:a},i);this.writeFragment({id:r,fragment:(t=s,n=a,{kind:"Document",definitions:[{kind:"FragmentDefinition",typeCondition:{kind:"NamedType",name:{kind:"Name",value:n||"__FakeType"}},name:{kind:"Name",value:"GeneratedClientQuery"},selectionSet:xn(t)}]}),data:s})}else this.writeQuery({query:Sn(i),data:i})},e}(),_n=null,Dn={},An=1,In="@wry/context:Slot",Cn=Array,Rn=Cn[In]||function(){var e=function(){function e(){this.id=["slot",An++,Date.now(),Math.random().toString(36).slice(2)].join(":")}return e.prototype.hasValue=function(){for(var e=_n;e;e=e.parent)if(this.id in e.slots){var t=e.slots[this.id];if(t===Dn)break;return e!==_n&&(_n.slots[this.id]=t),!0}return _n&&(_n.slots[this.id]=Dn),!1},e.prototype.getValue=function(){if(this.hasValue())return _n.slots[this.id]},e.prototype.withValue=function(e,t,n,r){var i,o=((i={__proto__:null})[this.id]=e,i),a=_n;_n={parent:a,slots:o};try{return t.apply(r,n)}finally{_n=a}},e.bind=function(e){var t=_n;return function(){var n=_n;try{return _n=t,e.apply(this,arguments)}finally{_n=n}}},e.noContext=function(e,t,n){if(!_n)return e.apply(n,t);var r=_n;try{return _n=null,e.apply(n,t)}finally{_n=r}},e}();try{Object.defineProperty(Cn,In,{value:Cn[In]=e,enumerable:!1,writable:!1,configurable:!1})}finally{return e}}();Rn.bind,Rn.noContext;function Fn(){}var Pn=function(){function e(e,t){void 0===e&&(e=1/0),void 0===t&&(t=Fn),this.max=e,this.dispose=t,this.map=new Map,this.newest=null,this.oldest=null}return e.prototype.has=function(e){return this.map.has(e)},e.prototype.get=function(e){var t=this.getEntry(e);return t&&t.value},e.prototype.getEntry=function(e){var t=this.map.get(e);if(t&&t!==this.newest){var n=t.older,r=t.newer;r&&(r.older=n),n&&(n.newer=r),t.older=this.newest,t.older.newer=t,t.newer=null,this.newest=t,t===this.oldest&&(this.oldest=r)}return t},e.prototype.set=function(e,t){var n=this.getEntry(e);return n?n.value=t:(n={key:e,value:t,newer:null,older:this.newest},this.newest&&(this.newest.newer=n),this.newest=n,this.oldest=this.oldest||n,this.map.set(e,n),n.value)},e.prototype.clean=function(){for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)},e.prototype.delete=function(e){var t=this.map.get(e);return!!t&&(t===this.newest&&(this.newest=t.older),t===this.oldest&&(this.oldest=t.newer),t.newer&&(t.newer.older=t.older),t.older&&(t.older.newer=t.newer),this.map.delete(e),this.dispose(t.value,e),!0)},e}(),Mn=new Rn,jn=[],Vn=[];function qn(e,t){if(!e)throw new Error(t||"assertion failure")}function Ln(e){switch(e.length){case 0:throw new Error("unknown value");case 1:return e[0];case 2:throw e[1]}}var Qn=function(){function e(t,n){this.fn=t,this.args=n,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],++e.count}return e.prototype.recompute=function(){if(qn(!this.recomputing,"already recomputing"),function(e){var t=Mn.getValue();if(t)return e.parents.add(t),t.childValues.has(e)||t.childValues.set(e,[]),Bn(e)?Kn(t,e):Hn(t,e),t}(this)||!Jn(this))return Bn(this)?function(e){var t=Yn(e);Mn.withValue(e,$n,[e]),function(e){if("function"==typeof e.subscribe)try{Xn(e),e.unsubscribe=e.subscribe.apply(null,e.args)}catch(t){return e.setDirty(),!1}return!0}(e)&&function(e){if(e.dirty=!1,Bn(e))return;Gn(e)}(e);return t.forEach(Jn),Ln(e.value)}(this):Ln(this.value)},e.prototype.setDirty=function(){this.dirty||(this.dirty=!0,this.value.length=0,Un(this),Xn(this))},e.prototype.dispose=function(){var e=this;Yn(this).forEach(Jn),Xn(this),this.parents.forEach((function(t){t.setDirty(),Wn(t,e)}))},e.count=0,e}();function $n(e){e.recomputing=!0,e.value.length=0;try{e.value[0]=e.fn.apply(null,e.args)}catch(t){e.value[1]=t}e.recomputing=!1}function Bn(e){return e.dirty||!(!e.dirtyChildren||!e.dirtyChildren.size)}function Un(e){e.parents.forEach((function(t){return Kn(t,e)}))}function Gn(e){e.parents.forEach((function(t){return Hn(t,e)}))}function Kn(e,t){if(qn(e.childValues.has(t)),qn(Bn(t)),e.dirtyChildren){if(e.dirtyChildren.has(t))return}else e.dirtyChildren=Vn.pop()||new Set;e.dirtyChildren.add(t),Un(e)}function Hn(e,t){qn(e.childValues.has(t)),qn(!Bn(t));var n,r,i,o=e.childValues.get(t);0===o.length?e.childValues.set(t,t.value.slice(0)):(n=o,r=t.value,(i=n.length)>0&&i===r.length&&n[i-1]===r[i-1]||e.setDirty()),zn(e,t),Bn(e)||Gn(e)}function zn(e,t){var n=e.dirtyChildren;n&&(n.delete(t),0===n.size&&(Vn.length<100&&Vn.push(n),e.dirtyChildren=null))}function Jn(e){return 0===e.parents.size&&"function"==typeof e.reportOrphan&&!0===e.reportOrphan()}function Yn(e){var t=jn;return e.childValues.size>0&&(t=[],e.childValues.forEach((function(n,r){Wn(e,r),t.push(r)}))),qn(null===e.dirtyChildren),t}function Wn(e,t){t.parents.delete(e),e.childValues.delete(t),zn(e,t)}function Xn(e){var t=e.unsubscribe;"function"==typeof t&&(e.unsubscribe=void 0,t())}var Zn=function(){function e(e){this.weakness=e}return e.prototype.lookup=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.lookupArray(e)},e.prototype.lookupArray=function(e){var t=this;return e.forEach((function(e){return t=t.getChildTrie(e)})),t.data||(t.data=Object.create(null))},e.prototype.getChildTrie=function(t){var n=this.weakness&&function(e){switch(typeof e){case"object":if(null===e)break;case"function":return!0}return!1}(t)?this.weak||(this.weak=new WeakMap):this.strong||(this.strong=new Map),r=n.get(t);return r||n.set(t,r=new e(this.weakness)),r},e}();var er=new Zn("function"==typeof WeakMap);function tr(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return er.lookupArray(e)}var nr=new Set;function rr(e,t){void 0===t&&(t=Object.create(null));var n=new Pn(t.max||Math.pow(2,16),(function(e){return e.dispose()})),r=!!t.disposable,i=t.makeCacheKey||tr;function o(){if(!r||Mn.hasValue()){var o=i.apply(null,arguments);if(void 0===o)return e.apply(null,arguments);var a=Array.prototype.slice.call(arguments),s=n.get(o);s?s.args=a:(s=new Qn(e,a),n.set(o,s),s.subscribe=t.subscribe,r&&(s.reportOrphan=function(){return n.delete(o)}));var u=s.recompute();return n.set(o,s),nr.add(n),Mn.hasValue()||(nr.forEach((function(e){return e.clean()})),nr.clear()),r?void 0:u}}return o.dirty=function(){var e=i.apply(null,arguments),t=void 0!==e&&n.get(e);t&&t.setDirty()},o}var ir=!1;function or(){var e=!ir;return kt()||(ir=!0),e}var ar=function(){function e(){}return e.prototype.ensureReady=function(){return Promise.resolve()},e.prototype.canBypassInit=function(){return!0},e.prototype.match=function(e,t,n){var r=n.store.get(e.id),i="ROOT_QUERY"===e.id;if(!r)return i;var o=r.__typename,a=void 0===o?i&&"Query":o;return a?a===t||(or()&&("production"===process.env.NODE_ENV||Me.error("You are using the simple (heuristic) fragment matcher, but your queries contain union or interface types. Apollo Client will not be able to accurately map fragments. To make this error go away, use the `IntrospectionFragmentMatcher` as described in the docs: https://www.apollographql.com/docs/react/advanced/fragments.html#fragment-matcher")),"heuristic"):(or()&&("production"===process.env.NODE_ENV||Me.warn("You're using fragments in your queries, but either don't have the addTypename:\n  true option set in Apollo Client, or you are trying to write a fragment to the store without the __typename.\n   Please turn on the addTypename option and include __typename when writing fragments so that Apollo Client\n   can accurately match fragments."),"production"===process.env.NODE_ENV||Me.warn("Could not find __typename on Fragment ",t,r),"production"===process.env.NODE_ENV||Me.warn("DEPRECATION WARNING: using fragments without __typename is unsupported behavior and will be removed in future versions of Apollo client. You should fix this and set addTypename to true now.")),"heuristic")},e}(),sr=Object.prototype.hasOwnProperty,ur=function(){function e(e){var t=this;void 0===e&&(e=Object.create(null)),this.data=e,this.depend=rr((function(e){return t.data[e]}),{disposable:!0,makeCacheKey:function(e){return e}})}return e.prototype.toObject=function(){return this.data},e.prototype.get=function(e){return this.depend(e),this.data[e]},e.prototype.set=function(e,t){t!==this.data[e]&&(this.data[e]=t,this.depend.dirty(e))},e.prototype.delete=function(e){sr.call(this.data,e)&&(delete this.data[e],this.depend.dirty(e))},e.prototype.clear=function(){this.replace(null)},e.prototype.replace=function(e){var t=this;e?(Object.keys(e).forEach((function(n){t.set(n,e[n])})),Object.keys(this.data).forEach((function(n){sr.call(e,n)||t.delete(n)}))):Object.keys(this.data).forEach((function(e){t.delete(e)}))},e}();function cr(e){return new ur(e)}var lr=function(){function e(e){var t=this,n=void 0===e?{}:e,r=n.cacheKeyRoot,i=void 0===r?new Zn(Ot):r,o=n.freezeResults,a=void 0!==o&&o,s=this,u=s.executeStoreQuery,c=s.executeSelectionSet,l=s.executeSubSelectedArray;this.freezeResults=a,this.executeStoreQuery=rr((function(e){return u.call(t,e)}),{makeCacheKey:function(e){var t=e.query,n=e.rootValue,r=e.contextValue,o=e.variableValues,a=e.fragmentMatcher;if(r.store instanceof ur)return i.lookup(r.store,t,a,JSON.stringify(o),n.id)}}),this.executeSelectionSet=rr((function(e){return c.call(t,e)}),{makeCacheKey:function(e){var t=e.selectionSet,n=e.rootValue,r=e.execContext;if(r.contextValue.store instanceof ur)return i.lookup(r.contextValue.store,t,r.fragmentMatcher,JSON.stringify(r.variableValues),n.id)}}),this.executeSubSelectedArray=rr((function(e){return l.call(t,e)}),{makeCacheKey:function(e){var t=e.field,n=e.array,r=e.execContext;if(r.contextValue.store instanceof ur)return i.lookup(r.contextValue.store,t,n,JSON.stringify(r.variableValues))}})}return e.prototype.readQueryFromStore=function(e){return this.diffQueryAgainstStore(On(On({},e),{returnPartialData:!1})).result},e.prototype.diffQueryAgainstStore=function(e){var t,n=e.store,r=e.query,i=e.variables,o=e.previousResult,a=e.returnPartialData,s=void 0===a||a,u=e.rootId,c=void 0===u?"ROOT_QUERY":u,l=e.fragmentMatcherFunction,f=e.config;i=ut({},vt((t=lt(r),"production"===process.env.NODE_ENV?Me(t&&"query"===t.operation,6):Me(t&&"query"===t.operation,"Must contain a query definition."),t)),i);var p={store:n,dataIdFromObject:f&&f.dataIdFromObject,cacheRedirects:f&&f.cacheRedirects||{}},h=this.executeStoreQuery({query:r,rootValue:{type:"id",id:c,generated:!0,typename:"Query"},contextValue:p,variableValues:i,fragmentMatcher:l}),d=h.missing&&h.missing.length>0;return d&&!s&&h.missing.forEach((function(e){if(!e.tolerable)throw"production"===process.env.NODE_ENV?new Pe(8):new Pe("Can't find field "+e.fieldName+" on object "+JSON.stringify(e.object,null,2)+".")})),o&&Ge(o,h.result)&&(h.result=o),{result:h.result,complete:!d}},e.prototype.executeStoreQuery=function(e){var t=e.query,n=e.rootValue,r=e.contextValue,i=e.variableValues,o=e.fragmentMatcher,a=void 0===o?pr:o,s=ht(t),u={query:t,fragmentMap:dt(pt(t)),contextValue:r,variableValues:i,fragmentMatcher:a};return this.executeSelectionSet({selectionSet:s.selectionSet,rootValue:n,execContext:u})},e.prototype.executeSelectionSet=function(e){var t=this,n=e.selectionSet,r=e.rootValue,i=e.execContext,o=i.fragmentMap,a=i.contextValue,s=i.variableValues,u={result:null},c=[],l=a.store.get(r.id),f=l&&l.__typename||"ROOT_QUERY"===r.id&&"Query"||void 0;function p(e){var t;return e.missing&&(u.missing=u.missing||[],(t=u.missing).push.apply(t,e.missing)),e.result}return n.selections.forEach((function(e){var n;if(rt(e,s))if(Xe(e)){var u=p(t.executeField(l,f,e,i));void 0!==u&&c.push(((n={})[We(e)]=u,n))}else{var h=void 0;if(Ze(e))h=e;else if(!(h=o[e.name.value]))throw"production"===process.env.NODE_ENV?new Pe(9):new Pe("No fragment named "+e.name.value);var d=h.typeCondition&&h.typeCondition.name.value,v=!d||i.fragmentMatcher(r,d,a);if(v){var y=t.executeSelectionSet({selectionSet:h.selectionSet,rootValue:r,execContext:i});"heuristic"===v&&y.missing&&(y=On(On({},y),{missing:y.missing.map((function(e){return On(On({},e),{tolerable:!0})}))})),c.push(p(y))}}})),u.result=Rt(c),this.freezeResults&&"production"!==process.env.NODE_ENV&&Object.freeze(u.result),u},e.prototype.executeField=function(e,t,n,r){var i=r.variableValues,o=r.contextValue,a=function(e,t,n,r,i,o){o.resultKey;var a=o.directives,s=n;(r||a)&&(s=Je(s,r,a));var u=void 0;if(e&&void 0===(u=e[s])&&i.cacheRedirects&&"string"==typeof t){var c=i.cacheRedirects[t];if(c){var l=c[n];l&&(u=l(e,r,{getCacheKey:function(e){var t=i.dataIdFromObject(e);return t&&tt({id:t,typename:e.__typename})}}))}}if(void 0===u)return{result:u,missing:[{object:e,fieldName:s,tolerable:!1}]};f=u,null!=f&&"object"==typeof f&&"json"===f.type&&(u=u.json);var f;return{result:u}}(e,t,n.name.value,Ye(n,i),o,{resultKey:We(n),directives:nt(n,i)});return Array.isArray(a.result)?this.combineExecResults(a,this.executeSubSelectedArray({field:n,array:a.result,execContext:r})):n.selectionSet?null==a.result?a:this.combineExecResults(a,this.executeSelectionSet({selectionSet:n.selectionSet,rootValue:a.result,execContext:r})):(fr(n,a.result),this.freezeResults&&"production"!==process.env.NODE_ENV&&At(a),a)},e.prototype.combineExecResults=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return t.forEach((function(t){t.missing&&(e=e||[]).push.apply(e,t.missing)})),{result:t.pop().result,missing:e}},e.prototype.executeSubSelectedArray=function(e){var t,n=this,r=e.field,i=e.array,o=e.execContext;function a(e){return e.missing&&(t=t||[]).push.apply(t,e.missing),e.result}return i=i.map((function(e){return null===e?null:Array.isArray(e)?a(n.executeSubSelectedArray({field:r,array:e,execContext:o})):r.selectionSet?a(n.executeSelectionSet({selectionSet:r.selectionSet,rootValue:e,execContext:o})):(fr(r,e),e)})),this.freezeResults&&"production"!==process.env.NODE_ENV&&Object.freeze(i),{result:i,missing:t}},e}();function fr(e,t){if(!e.selectionSet&&et(t))throw"production"===process.env.NODE_ENV?new Pe(10):new Pe("Missing selection set for object of type "+t.typename+" returned for query field "+e.name.value)}function pr(){return!0}var hr=function(){function e(e){void 0===e&&(e=Object.create(null)),this.data=e}return e.prototype.toObject=function(){return this.data},e.prototype.get=function(e){return this.data[e]},e.prototype.set=function(e,t){this.data[e]=t},e.prototype.delete=function(e){this.data[e]=void 0},e.prototype.clear=function(){this.data=Object.create(null)},e.prototype.replace=function(e){this.data=e||Object.create(null)},e}(),dr=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="WriteError",t}return Nn(t,e),t}(Error);var vr=function(){function e(){}return e.prototype.writeQueryToStore=function(e){var t=e.query,n=e.result,r=e.store,i=void 0===r?cr():r,o=e.variables,a=e.dataIdFromObject,s=e.fragmentMatcherFunction;return this.writeResultToStore({dataId:"ROOT_QUERY",result:n,document:t,store:i,variables:o,dataIdFromObject:a,fragmentMatcherFunction:s})},e.prototype.writeResultToStore=function(e){var t=e.dataId,n=e.result,r=e.document,i=e.store,o=void 0===i?cr():i,a=e.variables,s=e.dataIdFromObject,u=e.fragmentMatcherFunction,c=lt(r);try{return this.writeSelectionSetToStore({result:n,dataId:t,selectionSet:c.selectionSet,context:{store:o,processedData:{},variables:ut({},vt(c),a),dataIdFromObject:s,fragmentMap:dt(pt(r)),fragmentMatcherFunction:u}})}catch(e){throw function(e,t){var n=new dr("Error writing result to store for query:\n "+JSON.stringify(t));return n.message+="\n"+e.message,n.stack=e.stack,n}(e,r)}},e.prototype.writeSelectionSetToStore=function(e){var t=this,n=e.result,r=e.dataId,i=e.selectionSet,o=e.context,a=o.variables,s=o.store,u=o.fragmentMap;return i.selections.forEach((function(e){var i;if(rt(e,a))if(Xe(e)){var s=We(e),c=n[s];if(void 0!==c)t.writeFieldToStore({dataId:r,value:c,field:e,context:o});else{var l=!1,f=!1;e.directives&&e.directives.length&&(l=e.directives.some((function(e){return e.name&&"defer"===e.name.value})),f=e.directives.some((function(e){return e.name&&"client"===e.name.value}))),l||f||!o.fragmentMatcherFunction||"production"===process.env.NODE_ENV||Me.warn("Missing field "+s+" in "+JSON.stringify(n,null,2).substring(0,100))}}else{var p=void 0;Ze(e)?p=e:(p=(u||{})[e.name.value],"production"===process.env.NODE_ENV?Me(p,3):Me(p,"No fragment named "+e.name.value+"."));var h=!0;if(o.fragmentMatcherFunction&&p.typeCondition){var d=r||"self",v=tt({id:d,typename:void 0}),y={store:new hr((i={},i[d]=n,i)),cacheRedirects:{}},m=o.fragmentMatcherFunction(v,p.typeCondition.name.value,y);!0!==Tt("production")&&"heuristic"===m&&("production"===process.env.NODE_ENV||Me.error("WARNING: heuristic fragment matching going on!")),h=!!m}h&&t.writeSelectionSetToStore({result:n,selectionSet:p.selectionSet,dataId:r,context:o})}})),s},e.prototype.writeFieldToStore=function(e){var t,n,r,i=e.field,o=e.value,a=e.dataId,s=e.context,u=s.variables,c=s.dataIdFromObject,l=s.store,f=function(e,t){var n=null;e.directives&&(n={},e.directives.forEach((function(e){n[e.name.value]={},e.arguments&&e.arguments.forEach((function(r){var i=r.name,o=r.value;return He(n[e.name.value],i,o,t)}))})));var r=null;return e.arguments&&e.arguments.length&&(r={},e.arguments.forEach((function(e){var n=e.name,i=e.value;return He(r,n,i,t)}))),Je(e.name.value,r,n)}(i,u);if(i.selectionSet&&null!==o)if(Array.isArray(o)){var p=a+"."+f;n=this.processArrayValue(o,p,i.selectionSet,s)}else{var h=a+"."+f,d=!0;if(yr(h)||(h="$"+h),c){var v=c(o);"production"===process.env.NODE_ENV?Me(!v||!yr(v),4):Me(!v||!yr(v),'IDs returned by dataIdFromObject cannot begin with the "$" character.'),(v||"number"==typeof v&&0===v)&&(h=v,d=!1)}mr(h,i,s.processedData)||this.writeSelectionSetToStore({dataId:h,result:o,selectionSet:i.selectionSet,context:s});var y=o.__typename;n=tt({id:h,typename:y},d);var m=(r=l.get(a))&&r[f];if(m!==n&&et(m)){var g=void 0!==m.typename,b=void 0!==y,E=g&&b&&m.typename!==y;"production"===process.env.NODE_ENV?Me(!d||m.generated||E,5):Me(!d||m.generated||E,"Store error: the application attempted to write an object with no provided id but the store already contains an id of "+m.id+" for this object. The selectionSet that was trying to be written is:\n"+JSON.stringify(i)),"production"===process.env.NODE_ENV?Me(!g||b,6):Me(!g||b,"Store error: the application attempted to write an object with no provided typename but the store already contains an object with typename of "+m.typename+" for the object of id "+m.id+". The selectionSet that was trying to be written is:\n"+JSON.stringify(i)),m.generated&&(E?d||l.delete(m.id):function e(t,n,r){if(t===n)return!1;var i=r.get(t),o=r.get(n),a=!1;Object.keys(i).forEach((function(t){var n=i[t],s=o[t];et(n)&&yr(n.id)&&et(s)&&!Ge(n,s)&&e(n.id,s.id,r)&&(a=!0)})),r.delete(t);var s=On(On({},i),o);if(Ge(s,o))return a;return r.set(n,s),!0}(m.id,n.id,l))}}else n=null!=o&&"object"==typeof o?{type:"json",json:o}:o;(r=l.get(a))&&Ge(n,r[f])||l.set(a,On(On({},r),((t={})[f]=n,t)))},e.prototype.processArrayValue=function(e,t,n,r){var i=this;return e.map((function(e,o){if(null===e)return null;var a=t+"."+o;if(Array.isArray(e))return i.processArrayValue(e,a,n,r);var s=!0;if(r.dataIdFromObject){var u=r.dataIdFromObject(e);u&&(a=u,s=!1)}return mr(a,n,r.processedData)||i.writeSelectionSetToStore({dataId:a,result:e,selectionSet:n,context:r}),tt({id:a,typename:e.__typename},s)}))},e}();function yr(e){return"$"===e[0]}function mr(e,t,n){if(!n)return!1;if(n[e]){if(n[e].indexOf(t)>=0)return!0;n[e].push(t)}else n[e]=[t];return!1}var gr={fragmentMatcher:new ar,dataIdFromObject:function(e){if(e.__typename){if(void 0!==e.id)return e.__typename+":"+e.id;if(void 0!==e._id)return e.__typename+":"+e._id}return null},addTypename:!0,resultCaching:!0,freezeResults:!1};var br=Object.prototype.hasOwnProperty,Er=function(e){function t(t,n,r){var i=e.call(this,Object.create(null))||this;return i.optimisticId=t,i.parent=n,i.transaction=r,i}return Nn(t,e),t.prototype.toObject=function(){return On(On({},this.parent.toObject()),this.data)},t.prototype.get=function(e){return br.call(this.data,e)?this.data[e]:this.parent.get(e)},t}(hr),wr=function(e){function t(t){void 0===t&&(t={});var n=e.call(this)||this;n.watches=new Set,n.typenameDocumentCache=new Map,n.cacheKeyRoot=new Zn(Ot),n.silenceBroadcast=!1,n.config=On(On({},gr),t),n.config.customResolvers&&("production"===process.env.NODE_ENV||Me.warn("customResolvers have been renamed to cacheRedirects. Please update your config as we will be deprecating customResolvers in the next major version."),n.config.cacheRedirects=n.config.customResolvers),n.config.cacheResolvers&&("production"===process.env.NODE_ENV||Me.warn("cacheResolvers have been renamed to cacheRedirects. Please update your config as we will be deprecating cacheResolvers in the next major version."),n.config.cacheRedirects=n.config.cacheResolvers),n.addTypename=!!n.config.addTypename,n.data=n.config.resultCaching?new ur:new hr,n.optimisticData=n.data,n.storeWriter=new vr,n.storeReader=new lr({cacheKeyRoot:n.cacheKeyRoot,freezeResults:t.freezeResults});var r=n,i=r.maybeBroadcastWatch;return n.maybeBroadcastWatch=rr((function(e){return i.call(n,e)}),{makeCacheKey:function(e){if(!e.optimistic&&!e.previousResult)return r.data instanceof ur?r.cacheKeyRoot.lookup(e.query,JSON.stringify(e.variables)):void 0}}),n}return Nn(t,e),t.prototype.restore=function(e){return e&&this.data.replace(e),this},t.prototype.extract=function(e){return void 0===e&&(e=!1),(e?this.optimisticData:this.data).toObject()},t.prototype.read=function(e){if("string"==typeof e.rootId&&void 0===this.data.get(e.rootId))return null;var t=this.config.fragmentMatcher,n=t&&t.match;return this.storeReader.readQueryFromStore({store:e.optimistic?this.optimisticData:this.data,query:this.transformDocument(e.query),variables:e.variables,rootId:e.rootId,fragmentMatcherFunction:n,previousResult:e.previousResult,config:this.config})||null},t.prototype.write=function(e){var t=this.config.fragmentMatcher,n=t&&t.match;this.storeWriter.writeResultToStore({dataId:e.dataId,result:e.result,variables:e.variables,document:this.transformDocument(e.query),store:this.data,dataIdFromObject:this.config.dataIdFromObject,fragmentMatcherFunction:n}),this.broadcastWatches()},t.prototype.diff=function(e){var t=this.config.fragmentMatcher,n=t&&t.match;return this.storeReader.diffQueryAgainstStore({store:e.optimistic?this.optimisticData:this.data,query:this.transformDocument(e.query),variables:e.variables,returnPartialData:e.returnPartialData,previousResult:e.previousResult,fragmentMatcherFunction:n,config:this.config})},t.prototype.watch=function(e){var t=this;return this.watches.add(e),function(){t.watches.delete(e)}},t.prototype.evict=function(e){throw"production"===process.env.NODE_ENV?new Pe(7):new Pe("eviction is not implemented on InMemory Cache")},t.prototype.reset=function(){return this.data.clear(),this.broadcastWatches(),Promise.resolve()},t.prototype.removeOptimistic=function(e){for(var t=[],n=0,r=this.optimisticData;r instanceof Er;)r.optimisticId===e?++n:t.push(r),r=r.parent;if(n>0){for(this.optimisticData=r;t.length>0;){var i=t.pop();this.performTransaction(i.transaction,i.optimisticId)}this.broadcastWatches()}},t.prototype.performTransaction=function(e,t){var n=this.data,r=this.silenceBroadcast;this.silenceBroadcast=!0,"string"==typeof t&&(this.data=this.optimisticData=new Er(t,this.optimisticData,e));try{e(this)}finally{this.silenceBroadcast=r,this.data=n}this.broadcastWatches()},t.prototype.recordOptimisticTransaction=function(e,t){return this.performTransaction(e,t)},t.prototype.transformDocument=function(e){if(this.addTypename){var t=this.typenameDocumentCache.get(e);return t||(t=De(ct(e),{SelectionSet:{enter:function(e,t,n){if(!n||"OperationDefinition"!==n.kind){var r=e.selections;if(r&&!r.some((function(e){return Xe(e)&&("__typename"===e.name.value||0===e.name.value.lastIndexOf("__",0))}))){var i=n;if(!(Xe(i)&&i.directives&&i.directives.some((function(e){return"export"===e.name.value}))))return qe(qe({},e),{selections:Le(r,[mt])})}}}}}),this.typenameDocumentCache.set(e,t),this.typenameDocumentCache.set(t,t)),t}return e},t.prototype.broadcastWatches=function(){var e=this;this.silenceBroadcast||this.watches.forEach((function(t){return e.maybeBroadcastWatch(t)}))},t.prototype.maybeBroadcastWatch=function(e){e.callback(this.diff({query:e.query,variables:e.variables,previousResult:e.previousResult&&e.previousResult(),optimistic:e.optimistic}))},t}(kn),Nr=function(e,t){return(Nr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};var Or=function(){return(Or=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */
var Sr=function(){return(Sr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function xr(e){var t=e.split(/\r\n|[\n\r]/g),n=function(e){for(var t=null,n=1;n<e.length;n++){var r=e[n],i=Tr(r);if(i!==r.length&&((null===t||i<t)&&0===(t=i)))break}return null===t?0:t}(t);if(0!==n)for(var r=1;r<t.length;r++)t[r]=t[r].slice(n);for(;t.length>0&&kr(t[0]);)t.shift();for(;t.length>0&&kr(t[t.length-1]);)t.pop();return t.join("\n")}function Tr(e){for(var t=0;t<e.length&&(" "===e[t]||"\t"===e[t]);)t++;return t}function kr(e){return Tr(e)===e.length}function _r(e){return De(e,{leave:Dr})}var Dr={Name:function(e){return e.value},Variable:function(e){return"$"+e.name},Document:function(e){return Ir(e.definitions,"\n\n")+"\n"},OperationDefinition:function(e){var t=e.operation,n=e.name,r=Rr("(",Ir(e.variableDefinitions,", "),")"),i=Ir(e.directives," "),o=e.selectionSet;return n||i||r||"query"!==t?Ir([t,Ir([n,r]),i,o]," "):o},VariableDefinition:function(e){var t=e.variable,n=e.type,r=e.defaultValue,i=e.directives;return t+": "+n+Rr(" = ",r)+Rr(" ",Ir(i," "))},SelectionSet:function(e){return Cr(e.selections)},Field:function(e){var t=e.alias,n=e.name,r=e.arguments,i=e.directives,o=e.selectionSet;return Ir([Rr("",t,": ")+n+Rr("(",Ir(r,", "),")"),Ir(i," "),o]," ")},Argument:function(e){return e.name+": "+e.value},FragmentSpread:function(e){return"..."+e.name+Rr(" ",Ir(e.directives," "))},InlineFragment:function(e){var t=e.typeCondition,n=e.directives,r=e.selectionSet;return Ir(["...",Rr("on ",t),Ir(n," "),r]," ")},FragmentDefinition:function(e){var t=e.name,n=e.typeCondition,r=e.variableDefinitions,i=e.directives,o=e.selectionSet;return"fragment ".concat(t).concat(Rr("(",Ir(r,", "),")")," ")+"on ".concat(n," ").concat(Rr("",Ir(i," ")," "))+o},IntValue:function(e){return e.value},FloatValue:function(e){return e.value},StringValue:function(e,t){var n=e.value;return e.block?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=-1===e.indexOf("\n"),i=" "===e[0]||"\t"===e[0],o='"'===e[e.length-1],a="\\"===e[e.length-1],s=!r||o||a||n,u="";return!s||r&&i||(u+="\n"+t),u+=t?e.replace(/\n/g,"\n"+t):e,s&&(u+="\n"),'"""'+u.replace(/"""/g,'\\"""')+'"""'}(n,"description"===t?"":"  "):JSON.stringify(n)},BooleanValue:function(e){return e.value?"true":"false"},NullValue:function(){return"null"},EnumValue:function(e){return e.value},ListValue:function(e){return"["+Ir(e.values,", ")+"]"},ObjectValue:function(e){return"{"+Ir(e.fields,", ")+"}"},ObjectField:function(e){return e.name+": "+e.value},Directive:function(e){return"@"+e.name+Rr("(",Ir(e.arguments,", "),")")},NamedType:function(e){return e.name},ListType:function(e){return"["+e.type+"]"},NonNullType:function(e){return e.type+"!"},SchemaDefinition:Ar((function(e){var t=e.directives,n=e.operationTypes;return Ir(["schema",Ir(t," "),Cr(n)]," ")})),OperationTypeDefinition:function(e){return e.operation+": "+e.type},ScalarTypeDefinition:Ar((function(e){return Ir(["scalar",e.name,Ir(e.directives," ")]," ")})),ObjectTypeDefinition:Ar((function(e){var t=e.name,n=e.interfaces,r=e.directives,i=e.fields;return Ir(["type",t,Rr("implements ",Ir(n," & ")),Ir(r," "),Cr(i)]," ")})),FieldDefinition:Ar((function(e){var t=e.name,n=e.arguments,r=e.type,i=e.directives;return t+(Mr(n)?Rr("(\n",Fr(Ir(n,"\n")),"\n)"):Rr("(",Ir(n,", "),")"))+": "+r+Rr(" ",Ir(i," "))})),InputValueDefinition:Ar((function(e){var t=e.name,n=e.type,r=e.defaultValue,i=e.directives;return Ir([t+": "+n,Rr("= ",r),Ir(i," ")]," ")})),InterfaceTypeDefinition:Ar((function(e){var t=e.name,n=e.interfaces,r=e.directives,i=e.fields;return Ir(["interface",t,Rr("implements ",Ir(n," & ")),Ir(r," "),Cr(i)]," ")})),UnionTypeDefinition:Ar((function(e){var t=e.name,n=e.directives,r=e.types;return Ir(["union",t,Ir(n," "),r&&0!==r.length?"= "+Ir(r," | "):""]," ")})),EnumTypeDefinition:Ar((function(e){var t=e.name,n=e.directives,r=e.values;return Ir(["enum",t,Ir(n," "),Cr(r)]," ")})),EnumValueDefinition:Ar((function(e){return Ir([e.name,Ir(e.directives," ")]," ")})),InputObjectTypeDefinition:Ar((function(e){var t=e.name,n=e.directives,r=e.fields;return Ir(["input",t,Ir(n," "),Cr(r)]," ")})),DirectiveDefinition:Ar((function(e){var t=e.name,n=e.arguments,r=e.repeatable,i=e.locations;return"directive @"+t+(Mr(n)?Rr("(\n",Fr(Ir(n,"\n")),"\n)"):Rr("(",Ir(n,", "),")"))+(r?" repeatable":"")+" on "+Ir(i," | ")})),SchemaExtension:function(e){var t=e.directives,n=e.operationTypes;return Ir(["extend schema",Ir(t," "),Cr(n)]," ")},ScalarTypeExtension:function(e){return Ir(["extend scalar",e.name,Ir(e.directives," ")]," ")},ObjectTypeExtension:function(e){var t=e.name,n=e.interfaces,r=e.directives,i=e.fields;return Ir(["extend type",t,Rr("implements ",Ir(n," & ")),Ir(r," "),Cr(i)]," ")},InterfaceTypeExtension:function(e){var t=e.name,n=e.interfaces,r=e.directives,i=e.fields;return Ir(["extend interface",t,Rr("implements ",Ir(n," & ")),Ir(r," "),Cr(i)]," ")},UnionTypeExtension:function(e){var t=e.name,n=e.directives,r=e.types;return Ir(["extend union",t,Ir(n," "),r&&0!==r.length?"= "+Ir(r," | "):""]," ")},EnumTypeExtension:function(e){var t=e.name,n=e.directives,r=e.values;return Ir(["extend enum",t,Ir(n," "),Cr(r)]," ")},InputObjectTypeExtension:function(e){var t=e.name,n=e.directives,r=e.fields;return Ir(["extend input",t,Ir(n," "),Cr(r)]," ")}};function Ar(e){return function(t){return Ir([t.description,e(t)],"\n")}}function Ir(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return null!==(t=null==e?void 0:e.filter((function(e){return e})).join(n))&&void 0!==t?t:""}function Cr(e){return e&&0!==e.length?"{\n"+Fr(Ir(e,"\n"))+"\n}":""}function Rr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return t?e+t+n:""}function Fr(e){return e&&"  "+e.replace(/\n/g,"\n  ")}function Pr(e){return-1!==e.indexOf("\n")}function Mr(e){return e&&e.some(Pr)}var jr={http:{includeQuery:!0,includeExtensions:!1},headers:{accept:"*/*","content-type":"application/json"},options:{method:"POST"}},Vr=function(e,t,n){var r=new Error(n);throw r.name="ServerError",r.response=e,r.statusCode=e.status,r.result=t,r},qr=function(e,t){var n;try{n=JSON.stringify(e)}catch(e){var r="production"===process.env.NODE_ENV?new Pe(2):new Pe("Network request failed. "+t+" is not serializable: "+e.message);throw r.parseError=e,r}return n},Lr=function(e){void 0===e&&(e={});var t=e.uri,n=void 0===t?"/graphql":t,r=e.fetch,i=e.includeExtensions,o=e.useGETForQueries,a=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["uri","fetch","includeExtensions","useGETForQueries"]);!function(e){if(!e&&"undefined"==typeof fetch){var t="unfetch";throw"undefined"==typeof window&&(t="node-fetch"),"production"===process.env.NODE_ENV?new Pe(1):new Pe("\nfetch is not found globally and no fetcher passed, to fix pass a fetch for\nyour environment like https://www.npmjs.com/package/"+t+".\n\nFor example:\nimport fetch from '"+t+"';\nimport { createHttpLink } from 'apollo-link-http';\n\nconst link = createHttpLink({ uri: '/graphql', fetch: fetch });")}}(r),r||(r=fetch);var s={http:{includeExtensions:i},options:a.fetchOptions,credentials:a.credentials,headers:a.headers};return new Xt((function(e){var t=function(e,t){return e.getContext().uri||("function"==typeof t?t(e):t||"/graphql")}(e,n),i=e.getContext(),a={};if(i.clientAwareness){var u=i.clientAwareness,c=u.name,l=u.version;c&&(a["apollographql-client-name"]=c),l&&(a["apollographql-client-version"]=l)}var f,p=Or({},a,i.headers),h={http:i.http,options:i.fetchOptions,credentials:i.credentials,headers:p},d=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=Sr({},t.options,{headers:t.headers,credentials:t.credentials}),o=t.http;n.forEach((function(e){i=Sr({},i,e.options,{headers:Sr({},i.headers,e.headers)}),e.credentials&&(i.credentials=e.credentials),o=Sr({},o,e.http)}));var a=e.operationName,s=e.extensions,u=e.variables,c=e.query,l={operationName:a,variables:u};return o.includeExtensions&&(l.extensions=s),o.includeQuery&&(l.query=_r(c)),{options:i,body:l}}(e,jr,s,h),v=d.options,y=d.body;if(!v.signal){var m=function(){if("undefined"==typeof AbortController)return{controller:!1,signal:!1};var e=new AbortController;return{controller:e,signal:e.signal}}(),g=m.controller,b=m.signal;(f=g)&&(v.signal=b)}if(o&&!e.query.definitions.some((function(e){return"OperationDefinition"===e.kind&&"mutation"===e.operation}))&&(v.method="GET"),"GET"===v.method){var E=function(e,t){var n=[],r=function(e,t){n.push(e+"="+encodeURIComponent(t))};"query"in t&&r("query",t.query);t.operationName&&r("operationName",t.operationName);if(t.variables){var i=void 0;try{i=qr(t.variables,"Variables map")}catch(e){return{parseError:e}}r("variables",i)}if(t.extensions){var o=void 0;try{o=qr(t.extensions,"Extensions map")}catch(e){return{parseError:e}}r("extensions",o)}var a="",s=e,u=e.indexOf("#");-1!==u&&(a=e.substr(u),s=e.substr(0,u));var c=-1===s.indexOf("?")?"?":"&";return{newURI:s+c+n.join("&")+a}}(t,y),w=E.newURI,N=E.parseError;if(N)return Ut(N);t=w}else try{v.body=qr(y,"Payload")}catch(N){return Ut(N)}return new qt((function(n){var i;return r(t,v).then((function(t){return e.setContext({response:t}),t})).then((i=e,function(e){return e.text().then((function(t){try{return JSON.parse(t)}catch(r){var n=r;return n.name="ServerParseError",n.response=e,n.statusCode=e.status,n.bodyText=t,Promise.reject(n)}})).then((function(t){return e.status>=300&&Vr(e,t,"Response not successful: Received status code "+e.status),Array.isArray(t)||t.hasOwnProperty("data")||t.hasOwnProperty("errors")||Vr(e,t,"Server response was missing for query '"+(Array.isArray(i)?i.map((function(e){return e.operationName})):i.operationName)+"'."),t}))})).then((function(e){return n.next(e),n.complete(),e})).catch((function(e){"AbortError"!==e.name&&(e.result&&e.result.errors&&e.result.data&&n.next(e.result),n.error(e))})),function(){f&&f.abort()}}))}))};var Qr=function(e){function t(t){return e.call(this,Lr(t).request)||this}return function(e,t){function n(){this.constructor=e}Nr(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t}(Xt),$r=function(e,t){return($r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */function Br(e){return new Xt((function(t,n){return new qt((function(r){var i,o,a;try{i=n(t).subscribe({next:function(i){i.errors&&(a=e({graphQLErrors:i.errors,response:i,operation:t,forward:n}))?o=a.subscribe({next:r.next.bind(r),error:r.error.bind(r),complete:r.complete.bind(r)}):r.next(i)},error:function(i){(a=e({operation:t,networkError:i,graphQLErrors:i&&i.result&&i.result.errors,forward:n}))?o=a.subscribe({next:r.next.bind(r),error:r.error.bind(r),complete:r.complete.bind(r)}):r.error(i)},complete:function(){a||r.complete.bind(r)()}})}catch(i){e({networkError:i,operation:t,forward:n}),r.error(i)}return function(){i&&i.unsubscribe(),o&&i.unsubscribe()}}))}))}!function(e){function t(t){var n=e.call(this)||this;return n.link=Br(t),n}(function(e,t){function n(){this.constructor=e}$r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)})(t,e),t.prototype.request=function(e,t){return this.link.request(e,t)}}(Xt);function Ur(e,t){if(!Boolean(e))throw new Error(t)}function Gr(e){return(Gr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Kr="function"==typeof Symbol?Symbol.toStringTag:"@@toStringTag";function Hr(e,t){for(var n,r=/\r\n|[\n\r]/g,i=1,o=t+1;(n=r.exec(e.body))&&n.index<t;)i+=1,o=t+1-(n.index+n[0].length);return{line:i,column:o}}function zr(e){return Jr(e.source,Hr(e.source,e.start))}function Jr(e,t){var n=e.locationOffset.column-1,r=Wr(n)+e.body,i=t.line-1,o=e.locationOffset.line-1,a=t.line+o,s=1===t.line?n:0,u=t.column+s,c="".concat(e.name,":").concat(a,":").concat(u,"\n"),l=r.split(/\r\n|[\n\r]/g),f=l[i];if(f.length>120){for(var p=Math.floor(u/80),h=u%80,d=[],v=0;v<f.length;v+=80)d.push(f.slice(v,v+80));return c+Yr([["".concat(a),d[0]]].concat(d.slice(1,p+1).map((function(e){return["",e]})),[[" ",Wr(h-1)+"^"],["",d[p+1]]]))}return c+Yr([["".concat(a-1),l[i-1]],["".concat(a),f],["",Wr(u-1)+"^"],["".concat(a+1),l[i+1]]])}function Yr(e){var t=e.filter((function(e){e[0];return void 0!==e[1]})),n=Math.max.apply(Math,t.map((function(e){return e[0].length})));return t.map((function(e){var t,r=e[0],i=e[1];return Wr(n-(t=r).length)+t+(i?" | "+i:" |")})).join("\n")}function Wr(e){return Array(e+1).join(" ")}function Xr(e){return(Xr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ei(e,t){return!t||"object"!==Xr(t)&&"function"!=typeof t?ti(e):t}function ti(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ni(e){var t="function"==typeof Map?new Map:void 0;return(ni=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return ri(e,arguments,ai(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),oi(r,e)})(e)}function ri(e,t,n){return(ri=ii()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&oi(i,n.prototype),i}).apply(null,arguments)}function ii(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function oi(e,t){return(oi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ai(e){return(ai=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var si=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oi(e,t)}(s,e);var t,n,r,i,o,a=(t=s,n=ii(),function(){var e,r=ai(t);if(n){var i=ai(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return ei(this,e)});function s(e,t,n,r,i,o,u){var c,l,f,p,h;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),h=a.call(this,e);var d,v=Array.isArray(t)?0!==t.length?t:void 0:t?[t]:void 0,y=n;!y&&v&&(y=null===(d=v[0].loc)||void 0===d?void 0:d.source);var m,g=r;!g&&v&&(g=v.reduce((function(e,t){return t.loc&&e.push(t.loc.start),e}),[])),g&&0===g.length&&(g=void 0),r&&n?m=r.map((function(e){return Hr(n,e)})):v&&(m=v.reduce((function(e,t){return t.loc&&e.push(Hr(t.loc.source,t.loc.start)),e}),[]));var b,E=u;if(null==E&&null!=o){var w=o.extensions;"object"==Gr(b=w)&&null!==b&&(E=w)}return Object.defineProperties(ti(h),{name:{value:"GraphQLError"},message:{value:e,enumerable:!0,writable:!0},locations:{value:null!==(c=m)&&void 0!==c?c:void 0,enumerable:null!=m},path:{value:null!=i?i:void 0,enumerable:null!=i},nodes:{value:null!=v?v:void 0},source:{value:null!==(l=y)&&void 0!==l?l:void 0},positions:{value:null!==(f=g)&&void 0!==f?f:void 0},originalError:{value:o},extensions:{value:null!==(p=E)&&void 0!==p?p:void 0,enumerable:null!=E}}),(null==o?void 0:o.stack)?(Object.defineProperty(ti(h),"stack",{value:o.stack,writable:!0,configurable:!0}),ei(h)):(Error.captureStackTrace?Error.captureStackTrace(ti(h),s):Object.defineProperty(ti(h),"stack",{value:Error().stack,writable:!0,configurable:!0}),h)}return r=s,(i=[{key:"toString",value:function(){return function(e){var t=e.message;if(e.nodes)for(var n=0,r=e.nodes;n<r.length;n++){var i=r[n];i.loc&&(t+="\n\n"+zr(i.loc))}else if(e.source&&e.locations)for(var o=0,a=e.locations;o<a.length;o++){var s=a[o];t+="\n\n"+Jr(e.source,s)}return t}(this)}},{key:Kr,get:function(){return"Object"}}])&&Zr(r.prototype,i),o&&Zr(r,o),s}(ni(Error));function ui(e,t,n){return new si("Syntax Error: ".concat(n),void 0,e,[t])}var ci=Object.freeze({NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType",SCHEMA_DEFINITION:"SchemaDefinition",OPERATION_TYPE_DEFINITION:"OperationTypeDefinition",SCALAR_TYPE_DEFINITION:"ScalarTypeDefinition",OBJECT_TYPE_DEFINITION:"ObjectTypeDefinition",FIELD_DEFINITION:"FieldDefinition",INPUT_VALUE_DEFINITION:"InputValueDefinition",INTERFACE_TYPE_DEFINITION:"InterfaceTypeDefinition",UNION_TYPE_DEFINITION:"UnionTypeDefinition",ENUM_TYPE_DEFINITION:"EnumTypeDefinition",ENUM_VALUE_DEFINITION:"EnumValueDefinition",INPUT_OBJECT_TYPE_DEFINITION:"InputObjectTypeDefinition",DIRECTIVE_DEFINITION:"DirectiveDefinition",SCHEMA_EXTENSION:"SchemaExtension",SCALAR_TYPE_EXTENSION:"ScalarTypeExtension",OBJECT_TYPE_EXTENSION:"ObjectTypeExtension",INTERFACE_TYPE_EXTENSION:"InterfaceTypeExtension",UNION_TYPE_EXTENSION:"UnionTypeExtension",ENUM_TYPE_EXTENSION:"EnumTypeExtension",INPUT_OBJECT_TYPE_EXTENSION:"InputObjectTypeExtension"});function li(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var fi=function(){function e(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GraphQL request",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{line:1,column:1};this.body=e,this.name=t,this.locationOffset=n,this.locationOffset.line>0||Ur(0,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||Ur(0,"column in locationOffset is 1-indexed and must be positive.")}var t,n,r;return t=e,(n=[{key:Kr,get:function(){return"Source"}}])&&li(t.prototype,n),r&&li(t,r),e}(),pi=Object.freeze({SOF:"<SOF>",EOF:"<EOF>",BANG:"!",DOLLAR:"$",AMP:"&",PAREN_L:"(",PAREN_R:")",SPREAD:"...",COLON:":",EQUALS:"=",AT:"@",BRACKET_L:"[",BRACKET_R:"]",BRACE_L:"{",PIPE:"|",BRACE_R:"}",NAME:"Name",INT:"Int",FLOAT:"Float",STRING:"String",BLOCK_STRING:"BlockString",COMMENT:"Comment"}),hi=Object.freeze({QUERY:"QUERY",MUTATION:"MUTATION",SUBSCRIPTION:"SUBSCRIPTION",FIELD:"FIELD",FRAGMENT_DEFINITION:"FRAGMENT_DEFINITION",FRAGMENT_SPREAD:"FRAGMENT_SPREAD",INLINE_FRAGMENT:"INLINE_FRAGMENT",VARIABLE_DEFINITION:"VARIABLE_DEFINITION",SCHEMA:"SCHEMA",SCALAR:"SCALAR",OBJECT:"OBJECT",FIELD_DEFINITION:"FIELD_DEFINITION",ARGUMENT_DEFINITION:"ARGUMENT_DEFINITION",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",ENUM_VALUE:"ENUM_VALUE",INPUT_OBJECT:"INPUT_OBJECT",INPUT_FIELD_DEFINITION:"INPUT_FIELD_DEFINITION"}),di=function(){function e(e){var t=new xe(pi.SOF,0,0,0,0,null);this.source=e,this.lastToken=t,this.token=t,this.line=1,this.lineStart=0}var t=e.prototype;return t.advance=function(){return this.lastToken=this.token,this.token=this.lookahead()},t.lookahead=function(){var e=this.token;if(e.kind!==pi.EOF)do{var t;e=null!==(t=e.next)&&void 0!==t?t:e.next=yi(this,e)}while(e.kind===pi.COMMENT);return e},e}();function vi(e){return isNaN(e)?pi.EOF:e<127?JSON.stringify(String.fromCharCode(e)):'"\\u'.concat(("00"+e.toString(16).toUpperCase()).slice(-4),'"')}function yi(e,t){var n=e.source,r=n.body,i=r.length,o=function(e,t,n){var r=e.length,i=t;for(;i<r;){var o=e.charCodeAt(i);if(9===o||32===o||44===o||65279===o)++i;else if(10===o)++i,++n.line,n.lineStart=i;else{if(13!==o)break;10===e.charCodeAt(i+1)?i+=2:++i,++n.line,n.lineStart=i}}return i}(r,t.end,e),a=e.line,s=1+o-e.lineStart;if(o>=i)return new xe(pi.EOF,i,i,a,s,t);var u=r.charCodeAt(o);switch(u){case 33:return new xe(pi.BANG,o,o+1,a,s,t);case 35:return function(e,t,n,r,i){var o,a=e.body,s=t;do{o=a.charCodeAt(++s)}while(!isNaN(o)&&(o>31||9===o));return new xe(pi.COMMENT,t,s,n,r,i,a.slice(t+1,s))}(n,o,a,s,t);case 36:return new xe(pi.DOLLAR,o,o+1,a,s,t);case 38:return new xe(pi.AMP,o,o+1,a,s,t);case 40:return new xe(pi.PAREN_L,o,o+1,a,s,t);case 41:return new xe(pi.PAREN_R,o,o+1,a,s,t);case 46:if(46===r.charCodeAt(o+1)&&46===r.charCodeAt(o+2))return new xe(pi.SPREAD,o,o+3,a,s,t);break;case 58:return new xe(pi.COLON,o,o+1,a,s,t);case 61:return new xe(pi.EQUALS,o,o+1,a,s,t);case 64:return new xe(pi.AT,o,o+1,a,s,t);case 91:return new xe(pi.BRACKET_L,o,o+1,a,s,t);case 93:return new xe(pi.BRACKET_R,o,o+1,a,s,t);case 123:return new xe(pi.BRACE_L,o,o+1,a,s,t);case 124:return new xe(pi.PIPE,o,o+1,a,s,t);case 125:return new xe(pi.BRACE_R,o,o+1,a,s,t);case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 95:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return function(e,t,n,r,i){var o=e.body,a=o.length,s=t+1,u=0;for(;s!==a&&!isNaN(u=o.charCodeAt(s))&&(95===u||u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122);)++s;return new xe(pi.NAME,t,s,n,r,i,o.slice(t,s))}(n,o,a,s,t);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return function(e,t,n,r,i,o){var a=e.body,s=n,u=t,c=!1;45===s&&(s=a.charCodeAt(++u));if(48===s){if((s=a.charCodeAt(++u))>=48&&s<=57)throw ui(e,u,"Invalid number, unexpected digit after 0: ".concat(vi(s),"."))}else u=mi(e,u,s),s=a.charCodeAt(u);46===s&&(c=!0,s=a.charCodeAt(++u),u=mi(e,u,s),s=a.charCodeAt(u));69!==s&&101!==s||(c=!0,43!==(s=a.charCodeAt(++u))&&45!==s||(s=a.charCodeAt(++u)),u=mi(e,u,s),s=a.charCodeAt(u));if(46===s||function(e){return 95===e||e>=65&&e<=90||e>=97&&e<=122}(s))throw ui(e,u,"Invalid number, expected digit but got: ".concat(vi(s),"."));return new xe(c?pi.FLOAT:pi.INT,t,u,r,i,o,a.slice(t,u))}(n,o,u,a,s,t);case 34:return 34===r.charCodeAt(o+1)&&34===r.charCodeAt(o+2)?function(e,t,n,r,i,o){var a=e.body,s=t+3,u=s,c=0,l="";for(;s<a.length&&!isNaN(c=a.charCodeAt(s));){if(34===c&&34===a.charCodeAt(s+1)&&34===a.charCodeAt(s+2))return l+=a.slice(u,s),new xe(pi.BLOCK_STRING,t,s+3,n,r,i,xr(l));if(c<32&&9!==c&&10!==c&&13!==c)throw ui(e,s,"Invalid character within String: ".concat(vi(c),"."));10===c?(++s,++o.line,o.lineStart=s):13===c?(10===a.charCodeAt(s+1)?s+=2:++s,++o.line,o.lineStart=s):92===c&&34===a.charCodeAt(s+1)&&34===a.charCodeAt(s+2)&&34===a.charCodeAt(s+3)?(l+=a.slice(u,s)+'"""',u=s+=4):++s}throw ui(e,s,"Unterminated string.")}(n,o,a,s,t,e):function(e,t,n,r,i){var o=e.body,a=t+1,s=a,u=0,c="";for(;a<o.length&&!isNaN(u=o.charCodeAt(a))&&10!==u&&13!==u;){if(34===u)return c+=o.slice(s,a),new xe(pi.STRING,t,a+1,n,r,i,c);if(u<32&&9!==u)throw ui(e,a,"Invalid character within String: ".concat(vi(u),"."));if(++a,92===u){switch(c+=o.slice(s,a-1),u=o.charCodeAt(a)){case 34:c+='"';break;case 47:c+="/";break;case 92:c+="\\";break;case 98:c+="\b";break;case 102:c+="\f";break;case 110:c+="\n";break;case 114:c+="\r";break;case 116:c+="\t";break;case 117:var l=gi(o.charCodeAt(a+1),o.charCodeAt(a+2),o.charCodeAt(a+3),o.charCodeAt(a+4));if(l<0){var f=o.slice(a+1,a+5);throw ui(e,a,"Invalid character escape sequence: \\u".concat(f,"."))}c+=String.fromCharCode(l),a+=4;break;default:throw ui(e,a,"Invalid character escape sequence: \\".concat(String.fromCharCode(u),"."))}s=++a}}throw ui(e,a,"Unterminated string.")}(n,o,a,s,t)}throw ui(n,o,function(e){if(e<32&&9!==e&&10!==e&&13!==e)return"Cannot contain the invalid character ".concat(vi(e),".");if(39===e)return"Unexpected single quote character ('), did you mean to use a double quote (\")?";return"Cannot parse the unexpected character ".concat(vi(e),".")}(u))}function mi(e,t,n){var r=e.body,i=t,o=n;if(o>=48&&o<=57){do{o=r.charCodeAt(++i)}while(o>=48&&o<=57);return i}throw ui(e,i,"Invalid number, expected digit but got: ".concat(vi(o),"."))}function gi(e,t,n,r){return bi(e)<<12|bi(t)<<8|bi(n)<<4|bi(r)}function bi(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}var Ei=function(){function e(e,t){var n="string"==typeof e?new fi(e):e;n instanceof fi||Ur(0,"Must provide Source. Received: ".concat(we(n),".")),this._lexer=new di(n),this._options=t}var t=e.prototype;return t.parseName=function(){var e=this.expectToken(pi.NAME);return{kind:ci.NAME,value:e.value,loc:this.loc(e)}},t.parseDocument=function(){var e=this._lexer.token;return{kind:ci.DOCUMENT,definitions:this.many(pi.SOF,this.parseDefinition,pi.EOF),loc:this.loc(e)}},t.parseDefinition=function(){if(this.peek(pi.NAME))switch(this._lexer.token.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"schema":case"scalar":case"type":case"interface":case"union":case"enum":case"input":case"directive":return this.parseTypeSystemDefinition();case"extend":return this.parseTypeSystemExtension()}else{if(this.peek(pi.BRACE_L))return this.parseOperationDefinition();if(this.peekDescription())return this.parseTypeSystemDefinition()}throw this.unexpected()},t.parseOperationDefinition=function(){var e=this._lexer.token;if(this.peek(pi.BRACE_L))return{kind:ci.OPERATION_DEFINITION,operation:"query",name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet(),loc:this.loc(e)};var t,n=this.parseOperationType();return this.peek(pi.NAME)&&(t=this.parseName()),{kind:ci.OPERATION_DEFINITION,operation:n,name:t,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(e)}},t.parseOperationType=function(){var e=this.expectToken(pi.NAME);switch(e.value){case"query":return"query";case"mutation":return"mutation";case"subscription":return"subscription"}throw this.unexpected(e)},t.parseVariableDefinitions=function(){return this.optionalMany(pi.PAREN_L,this.parseVariableDefinition,pi.PAREN_R)},t.parseVariableDefinition=function(){var e=this._lexer.token;return{kind:ci.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(pi.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(pi.EQUALS)?this.parseValueLiteral(!0):void 0,directives:this.parseDirectives(!0),loc:this.loc(e)}},t.parseVariable=function(){var e=this._lexer.token;return this.expectToken(pi.DOLLAR),{kind:ci.VARIABLE,name:this.parseName(),loc:this.loc(e)}},t.parseSelectionSet=function(){var e=this._lexer.token;return{kind:ci.SELECTION_SET,selections:this.many(pi.BRACE_L,this.parseSelection,pi.BRACE_R),loc:this.loc(e)}},t.parseSelection=function(){return this.peek(pi.SPREAD)?this.parseFragment():this.parseField()},t.parseField=function(){var e,t,n=this._lexer.token,r=this.parseName();return this.expectOptionalToken(pi.COLON)?(e=r,t=this.parseName()):t=r,{kind:ci.FIELD,alias:e,name:t,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(pi.BRACE_L)?this.parseSelectionSet():void 0,loc:this.loc(n)}},t.parseArguments=function(e){var t=e?this.parseConstArgument:this.parseArgument;return this.optionalMany(pi.PAREN_L,t,pi.PAREN_R)},t.parseArgument=function(){var e=this._lexer.token,t=this.parseName();return this.expectToken(pi.COLON),{kind:ci.ARGUMENT,name:t,value:this.parseValueLiteral(!1),loc:this.loc(e)}},t.parseConstArgument=function(){var e=this._lexer.token;return{kind:ci.ARGUMENT,name:this.parseName(),value:(this.expectToken(pi.COLON),this.parseValueLiteral(!0)),loc:this.loc(e)}},t.parseFragment=function(){var e=this._lexer.token;this.expectToken(pi.SPREAD);var t=this.expectOptionalKeyword("on");return!t&&this.peek(pi.NAME)?{kind:ci.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1),loc:this.loc(e)}:{kind:ci.INLINE_FRAGMENT,typeCondition:t?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(e)}},t.parseFragmentDefinition=function(){var e,t=this._lexer.token;return this.expectKeyword("fragment"),!0===(null===(e=this._options)||void 0===e?void 0:e.experimentalFragmentVariables)?{kind:ci.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(t)}:{kind:ci.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(t)}},t.parseFragmentName=function(){if("on"===this._lexer.token.value)throw this.unexpected();return this.parseName()},t.parseValueLiteral=function(e){var t=this._lexer.token;switch(t.kind){case pi.BRACKET_L:return this.parseList(e);case pi.BRACE_L:return this.parseObject(e);case pi.INT:return this._lexer.advance(),{kind:ci.INT,value:t.value,loc:this.loc(t)};case pi.FLOAT:return this._lexer.advance(),{kind:ci.FLOAT,value:t.value,loc:this.loc(t)};case pi.STRING:case pi.BLOCK_STRING:return this.parseStringLiteral();case pi.NAME:switch(this._lexer.advance(),t.value){case"true":return{kind:ci.BOOLEAN,value:!0,loc:this.loc(t)};case"false":return{kind:ci.BOOLEAN,value:!1,loc:this.loc(t)};case"null":return{kind:ci.NULL,loc:this.loc(t)};default:return{kind:ci.ENUM,value:t.value,loc:this.loc(t)}}case pi.DOLLAR:if(!e)return this.parseVariable()}throw this.unexpected()},t.parseStringLiteral=function(){var e=this._lexer.token;return this._lexer.advance(),{kind:ci.STRING,value:e.value,block:e.kind===pi.BLOCK_STRING,loc:this.loc(e)}},t.parseList=function(e){var t=this,n=this._lexer.token;return{kind:ci.LIST,values:this.any(pi.BRACKET_L,(function(){return t.parseValueLiteral(e)}),pi.BRACKET_R),loc:this.loc(n)}},t.parseObject=function(e){var t=this,n=this._lexer.token;return{kind:ci.OBJECT,fields:this.any(pi.BRACE_L,(function(){return t.parseObjectField(e)}),pi.BRACE_R),loc:this.loc(n)}},t.parseObjectField=function(e){var t=this._lexer.token,n=this.parseName();return this.expectToken(pi.COLON),{kind:ci.OBJECT_FIELD,name:n,value:this.parseValueLiteral(e),loc:this.loc(t)}},t.parseDirectives=function(e){for(var t=[];this.peek(pi.AT);)t.push(this.parseDirective(e));return t},t.parseDirective=function(e){var t=this._lexer.token;return this.expectToken(pi.AT),{kind:ci.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(e),loc:this.loc(t)}},t.parseTypeReference=function(){var e,t=this._lexer.token;return this.expectOptionalToken(pi.BRACKET_L)?(e=this.parseTypeReference(),this.expectToken(pi.BRACKET_R),e={kind:ci.LIST_TYPE,type:e,loc:this.loc(t)}):e=this.parseNamedType(),this.expectOptionalToken(pi.BANG)?{kind:ci.NON_NULL_TYPE,type:e,loc:this.loc(t)}:e},t.parseNamedType=function(){var e=this._lexer.token;return{kind:ci.NAMED_TYPE,name:this.parseName(),loc:this.loc(e)}},t.parseTypeSystemDefinition=function(){var e=this.peekDescription()?this._lexer.lookahead():this._lexer.token;if(e.kind===pi.NAME)switch(e.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}throw this.unexpected(e)},t.peekDescription=function(){return this.peek(pi.STRING)||this.peek(pi.BLOCK_STRING)},t.parseDescription=function(){if(this.peekDescription())return this.parseStringLiteral()},t.parseSchemaDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("schema");var n=this.parseDirectives(!0),r=this.many(pi.BRACE_L,this.parseOperationTypeDefinition,pi.BRACE_R);return{kind:ci.SCHEMA_DEFINITION,description:t,directives:n,operationTypes:r,loc:this.loc(e)}},t.parseOperationTypeDefinition=function(){var e=this._lexer.token,t=this.parseOperationType();this.expectToken(pi.COLON);var n=this.parseNamedType();return{kind:ci.OPERATION_TYPE_DEFINITION,operation:t,type:n,loc:this.loc(e)}},t.parseScalarTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("scalar");var n=this.parseName(),r=this.parseDirectives(!0);return{kind:ci.SCALAR_TYPE_DEFINITION,description:t,name:n,directives:r,loc:this.loc(e)}},t.parseObjectTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("type");var n=this.parseName(),r=this.parseImplementsInterfaces(),i=this.parseDirectives(!0),o=this.parseFieldsDefinition();return{kind:ci.OBJECT_TYPE_DEFINITION,description:t,name:n,interfaces:r,directives:i,fields:o,loc:this.loc(e)}},t.parseImplementsInterfaces=function(){var e=[];if(this.expectOptionalKeyword("implements")){this.expectOptionalToken(pi.AMP);do{var t;e.push(this.parseNamedType())}while(this.expectOptionalToken(pi.AMP)||!0===(null===(t=this._options)||void 0===t?void 0:t.allowLegacySDLImplementsInterfaces)&&this.peek(pi.NAME))}return e},t.parseFieldsDefinition=function(){var e;return!0===(null===(e=this._options)||void 0===e?void 0:e.allowLegacySDLEmptyFields)&&this.peek(pi.BRACE_L)&&this._lexer.lookahead().kind===pi.BRACE_R?(this._lexer.advance(),this._lexer.advance(),[]):this.optionalMany(pi.BRACE_L,this.parseFieldDefinition,pi.BRACE_R)},t.parseFieldDefinition=function(){var e=this._lexer.token,t=this.parseDescription(),n=this.parseName(),r=this.parseArgumentDefs();this.expectToken(pi.COLON);var i=this.parseTypeReference(),o=this.parseDirectives(!0);return{kind:ci.FIELD_DEFINITION,description:t,name:n,arguments:r,type:i,directives:o,loc:this.loc(e)}},t.parseArgumentDefs=function(){return this.optionalMany(pi.PAREN_L,this.parseInputValueDef,pi.PAREN_R)},t.parseInputValueDef=function(){var e=this._lexer.token,t=this.parseDescription(),n=this.parseName();this.expectToken(pi.COLON);var r,i=this.parseTypeReference();this.expectOptionalToken(pi.EQUALS)&&(r=this.parseValueLiteral(!0));var o=this.parseDirectives(!0);return{kind:ci.INPUT_VALUE_DEFINITION,description:t,name:n,type:i,defaultValue:r,directives:o,loc:this.loc(e)}},t.parseInterfaceTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("interface");var n=this.parseName(),r=this.parseImplementsInterfaces(),i=this.parseDirectives(!0),o=this.parseFieldsDefinition();return{kind:ci.INTERFACE_TYPE_DEFINITION,description:t,name:n,interfaces:r,directives:i,fields:o,loc:this.loc(e)}},t.parseUnionTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("union");var n=this.parseName(),r=this.parseDirectives(!0),i=this.parseUnionMemberTypes();return{kind:ci.UNION_TYPE_DEFINITION,description:t,name:n,directives:r,types:i,loc:this.loc(e)}},t.parseUnionMemberTypes=function(){var e=[];if(this.expectOptionalToken(pi.EQUALS)){this.expectOptionalToken(pi.PIPE);do{e.push(this.parseNamedType())}while(this.expectOptionalToken(pi.PIPE))}return e},t.parseEnumTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("enum");var n=this.parseName(),r=this.parseDirectives(!0),i=this.parseEnumValuesDefinition();return{kind:ci.ENUM_TYPE_DEFINITION,description:t,name:n,directives:r,values:i,loc:this.loc(e)}},t.parseEnumValuesDefinition=function(){return this.optionalMany(pi.BRACE_L,this.parseEnumValueDefinition,pi.BRACE_R)},t.parseEnumValueDefinition=function(){var e=this._lexer.token,t=this.parseDescription(),n=this.parseName(),r=this.parseDirectives(!0);return{kind:ci.ENUM_VALUE_DEFINITION,description:t,name:n,directives:r,loc:this.loc(e)}},t.parseInputObjectTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("input");var n=this.parseName(),r=this.parseDirectives(!0),i=this.parseInputFieldsDefinition();return{kind:ci.INPUT_OBJECT_TYPE_DEFINITION,description:t,name:n,directives:r,fields:i,loc:this.loc(e)}},t.parseInputFieldsDefinition=function(){return this.optionalMany(pi.BRACE_L,this.parseInputValueDef,pi.BRACE_R)},t.parseTypeSystemExtension=function(){var e=this._lexer.lookahead();if(e.kind===pi.NAME)switch(e.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(e)},t.parseSchemaExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");var t=this.parseDirectives(!0),n=this.optionalMany(pi.BRACE_L,this.parseOperationTypeDefinition,pi.BRACE_R);if(0===t.length&&0===n.length)throw this.unexpected();return{kind:ci.SCHEMA_EXTENSION,directives:t,operationTypes:n,loc:this.loc(e)}},t.parseScalarTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");var t=this.parseName(),n=this.parseDirectives(!0);if(0===n.length)throw this.unexpected();return{kind:ci.SCALAR_TYPE_EXTENSION,name:t,directives:n,loc:this.loc(e)}},t.parseObjectTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");var t=this.parseName(),n=this.parseImplementsInterfaces(),r=this.parseDirectives(!0),i=this.parseFieldsDefinition();if(0===n.length&&0===r.length&&0===i.length)throw this.unexpected();return{kind:ci.OBJECT_TYPE_EXTENSION,name:t,interfaces:n,directives:r,fields:i,loc:this.loc(e)}},t.parseInterfaceTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");var t=this.parseName(),n=this.parseImplementsInterfaces(),r=this.parseDirectives(!0),i=this.parseFieldsDefinition();if(0===n.length&&0===r.length&&0===i.length)throw this.unexpected();return{kind:ci.INTERFACE_TYPE_EXTENSION,name:t,interfaces:n,directives:r,fields:i,loc:this.loc(e)}},t.parseUnionTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");var t=this.parseName(),n=this.parseDirectives(!0),r=this.parseUnionMemberTypes();if(0===n.length&&0===r.length)throw this.unexpected();return{kind:ci.UNION_TYPE_EXTENSION,name:t,directives:n,types:r,loc:this.loc(e)}},t.parseEnumTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");var t=this.parseName(),n=this.parseDirectives(!0),r=this.parseEnumValuesDefinition();if(0===n.length&&0===r.length)throw this.unexpected();return{kind:ci.ENUM_TYPE_EXTENSION,name:t,directives:n,values:r,loc:this.loc(e)}},t.parseInputObjectTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");var t=this.parseName(),n=this.parseDirectives(!0),r=this.parseInputFieldsDefinition();if(0===n.length&&0===r.length)throw this.unexpected();return{kind:ci.INPUT_OBJECT_TYPE_EXTENSION,name:t,directives:n,fields:r,loc:this.loc(e)}},t.parseDirectiveDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("directive"),this.expectToken(pi.AT);var n=this.parseName(),r=this.parseArgumentDefs(),i=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");var o=this.parseDirectiveLocations();return{kind:ci.DIRECTIVE_DEFINITION,description:t,name:n,arguments:r,repeatable:i,locations:o,loc:this.loc(e)}},t.parseDirectiveLocations=function(){this.expectOptionalToken(pi.PIPE);var e=[];do{e.push(this.parseDirectiveLocation())}while(this.expectOptionalToken(pi.PIPE));return e},t.parseDirectiveLocation=function(){var e=this._lexer.token,t=this.parseName();if(void 0!==hi[t.value])return t;throw this.unexpected(e)},t.loc=function(e){var t;if(!0!==(null===(t=this._options)||void 0===t?void 0:t.noLocation))return new Se(e,this._lexer.lastToken,this._lexer.source)},t.peek=function(e){return this._lexer.token.kind===e},t.expectToken=function(e){var t=this._lexer.token;if(t.kind===e)return this._lexer.advance(),t;throw ui(this._lexer.source,t.start,"Expected ".concat(Ni(e),", found ").concat(wi(t),"."))},t.expectOptionalToken=function(e){var t=this._lexer.token;if(t.kind===e)return this._lexer.advance(),t},t.expectKeyword=function(e){var t=this._lexer.token;if(t.kind!==pi.NAME||t.value!==e)throw ui(this._lexer.source,t.start,'Expected "'.concat(e,'", found ').concat(wi(t),"."));this._lexer.advance()},t.expectOptionalKeyword=function(e){var t=this._lexer.token;return t.kind===pi.NAME&&t.value===e&&(this._lexer.advance(),!0)},t.unexpected=function(e){var t=null!=e?e:this._lexer.token;return ui(this._lexer.source,t.start,"Unexpected ".concat(wi(t),"."))},t.any=function(e,t,n){this.expectToken(e);for(var r=[];!this.expectOptionalToken(n);)r.push(t.call(this));return r},t.optionalMany=function(e,t,n){if(this.expectOptionalToken(e)){var r=[];do{r.push(t.call(this))}while(!this.expectOptionalToken(n));return r}return[]},t.many=function(e,t,n){this.expectToken(e);var r=[];do{r.push(t.call(this))}while(!this.expectOptionalToken(n));return r},e}();function wi(e){var t=e.value;return Ni(e.kind)+(null!=t?' "'.concat(t,'"'):"")}function Ni(e){return function(e){return e===pi.BANG||e===pi.DOLLAR||e===pi.AMP||e===pi.PAREN_L||e===pi.PAREN_R||e===pi.SPREAD||e===pi.COLON||e===pi.EQUALS||e===pi.AT||e===pi.BRACKET_L||e===pi.BRACKET_R||e===pi.BRACE_L||e===pi.PIPE||e===pi.BRACE_R}(e)?'"'.concat(e,'"'):e}var Oi,Si=((Oi=Object.freeze({__proto__:null,parse:function(e,t){return new Ei(e,t).parseDocument()},parseValue:function(e,t){var n=new Ei(e,t);n.expectToken(pi.SOF);var r=n.parseValueLiteral(!1);return n.expectToken(pi.EOF),r},parseType:function(e,t){var n=new Ei(e,t);n.expectToken(pi.SOF);var r=n.parseTypeReference();return n.expectToken(pi.EOF),r}}))&&Oi.default||Oi).parse;function xi(e){return e.replace(/[\s,]+/g," ").trim()}var Ti={},ki={};var _i=!0;var Di=!1;function Ai(e){var t=xi(e);if(Ti[t])return Ti[t];var n=Si(e,{experimentalFragmentVariables:Di});if(!n||"Document"!==n.kind)throw new Error("Not a valid GraphQL document.");return n=function e(t,n){var r=Object.prototype.toString.call(t);if("[object Array]"===r)return t.map((function(t){return e(t,n)}));if("[object Object]"!==r)throw new Error("Unexpected input.");n&&t.loc&&delete t.loc,t.loc&&(delete t.loc.startToken,delete t.loc.endToken);var i,o,a,s=Object.keys(t);for(i in s)s.hasOwnProperty(i)&&(o=t[s[i]],"[object Object]"!==(a=Object.prototype.toString.call(o))&&"[object Array]"!==a||(t[s[i]]=e(o,!0)));return t}(n=function(e){for(var t,n={},r=[],i=0;i<e.definitions.length;i++){var o=e.definitions[i];if("FragmentDefinition"===o.kind){var a=o.name.value,s=xi((t=o.loc).source.body.substring(t.start,t.end));ki.hasOwnProperty(a)&&!ki[a][s]?(_i&&console.warn("Warning: fragment with name "+a+" already exists.\ngraphql-tag enforces all fragment names across your application to be unique; read more about\nthis in the docs: http://dev.apollodata.com/core/fragments.html#unique-names"),ki[a][s]=!0):ki.hasOwnProperty(a)||(ki[a]={},ki[a][s]=!0),n[s]||(n[s]=!0,r.push(o))}else r.push(o)}return e.definitions=r,e}(n),!1),Ti[t]=n,n}function Ii(){for(var e=Array.prototype.slice.call(arguments),t=e[0],n="string"==typeof t?t:t[0],r=1;r<e.length;r++)e[r]&&e[r].kind&&"Document"===e[r].kind?n+=e[r].loc.source.body:n+=e[r],n+=t[r];return Ai(n)}Ii.default=Ii,Ii.resetCaches=function(){Ti={},ki={}},Ii.disableFragmentWarnings=function(){_i=!1},Ii.enableExperimentalFragmentVariables=function(){Di=!0},Ii.disableExperimentalFragmentVariables=function(){Di=!1};var Ci=Ii,Ri=["request","uri","credentials","headers","fetch","fetchOptions","clientState","onError","cacheRedirects","cache","name","version","resolvers","typeDefs","fragmentMatcher"],Fi=function(e){function t(t){void 0===t&&(t={});if(t){var n=Object.keys(t).filter((function(e){return-1===Ri.indexOf(e)}));n.length>0&&("production"===process.env.NODE_ENV||Me.warn("ApolloBoost was initialized with unsupported options: "+n.join(" ")))}var r=t.request,i=t.uri,o=t.credentials,a=t.headers,s=t.fetch,u=t.fetchOptions,c=t.clientState,l=t.cacheRedirects,f=t.onError,p=t.name,h=t.version,d=t.resolvers,v=t.typeDefs,y=t.fragmentMatcher,m=t.cache;"production"===process.env.NODE_ENV?Me(!m||!l,1):Me(!m||!l,"Incompatible cache configuration. When not providing `cache`, configure the provided instance with `cacheRedirects` instead."),m||(m=l?new wr({cacheRedirects:l}):new wr);var g=Br(f||function(e){var t=e.graphQLErrors,n=e.networkError;t&&t.forEach((function(e){var t=e.message,n=e.locations,r=e.path;return"production"===process.env.NODE_ENV||Me.warn("[GraphQL error]: Message: "+t+", Location: "+n+", Path: "+r)})),n&&("production"===process.env.NODE_ENV||Me.warn("[Network error]: "+n))}),b=!!r&&new Xt((function(e,t){return new qt((function(n){var i;return Promise.resolve(e).then((function(e){return r(e)})).then((function(){i=t(e).subscribe({next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)})})).catch(n.error.bind(n)),function(){i&&i.unsubscribe()}}))})),E=new Qr({uri:i||"/graphql",fetch:s,fetchOptions:u||{},credentials:o||"same-origin",headers:a||{}}),w=Xt.from([g,b,E].filter((function(e){return!!e}))),N=d,O=v,S=y;return c&&(c.defaults&&m.writeData({data:c.defaults}),N=c.resolvers,O=c.typeDefs,S=c.fragmentMatcher),e.call(this,{cache:m,link:w,name:p,version:h,resolvers:N,typeDefs:O,fragmentMatcher:S})||this}return function(e,t){function n(){this.constructor=e}he(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t}(En),Pi=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}},Mi=Object.prototype.toString;function ji(e){return"[object Array]"===Mi.call(e)}function Vi(e){return void 0===e}function qi(e){return null!==e&&"object"==typeof e}function Li(e){if("[object Object]"!==Mi.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function Qi(e){return"[object Function]"===Mi.call(e)}function $i(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),ji(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}var Bi={isArray:ji,isArrayBuffer:function(e){return"[object ArrayBuffer]"===Mi.call(e)},isBuffer:function(e){return null!==e&&!Vi(e)&&null!==e.constructor&&!Vi(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:qi,isPlainObject:Li,isUndefined:Vi,isDate:function(e){return"[object Date]"===Mi.call(e)},isFile:function(e){return"[object File]"===Mi.call(e)},isBlob:function(e){return"[object Blob]"===Mi.call(e)},isFunction:Qi,isStream:function(e){return qi(e)&&Qi(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:$i,merge:function e(){var t={};function n(n,r){Li(t[r])&&Li(n)?t[r]=e(t[r],n):Li(n)?t[r]=e({},n):ji(n)?t[r]=n.slice():t[r]=n}for(var r=0,i=arguments.length;r<i;r++)$i(arguments[r],n);return t},extend:function(e,t,n){return $i(t,(function(t,r){e[r]=n&&"function"==typeof t?Pi(t,n):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}};function Ui(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var Gi=function(e,t,n){if(!t)return e;var r;if(n)r=n(t);else if(Bi.isURLSearchParams(t))r=t.toString();else{var i=[];Bi.forEach(t,(function(e,t){null!=e&&(Bi.isArray(e)?t+="[]":e=[e],Bi.forEach(e,(function(e){Bi.isDate(e)?e=e.toISOString():Bi.isObject(e)&&(e=JSON.stringify(e)),i.push(Ui(t)+"="+Ui(e))})))})),r=i.join("&")}if(r){var o=e.indexOf("#");-1!==o&&(e=e.slice(0,o)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e};function Ki(){this.handlers=[]}Ki.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},Ki.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},Ki.prototype.forEach=function(e){Bi.forEach(this.handlers,(function(t){null!==t&&e(t)}))};var Hi=Ki,zi=function(e,t,n){return Bi.forEach(n,(function(n){e=n(e,t)})),e},Ji=function(e){return!(!e||!e.__CANCEL__)},Yi=function(e,t){Bi.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))},Wi=function(e,t,n,r,i){return function(e,t,n,r,i){return e.config=t,n&&(e.code=n),e.request=r,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}(new Error(e),t,n,r,i)},Xi=Bi.isStandardBrowserEnv()?{write:function(e,t,n,r,i,o){var a=[];a.push(e+"="+encodeURIComponent(t)),Bi.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),Bi.isString(r)&&a.push("path="+r),Bi.isString(i)&&a.push("domain="+i),!0===o&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}},Zi=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],eo=Bi.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(t){var n=Bi.isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0},to=function(e){return new Promise((function(t,n){var r=e.data,i=e.headers;Bi.isFormData(r)&&delete i["Content-Type"],(Bi.isBlob(r)||Bi.isFile(r))&&r.type&&delete i["Content-Type"];var o=new XMLHttpRequest;if(e.auth){var a=e.auth.username||"",s=unescape(encodeURIComponent(e.auth.password))||"";i.Authorization="Basic "+btoa(a+":"+s)}var u,c,l=(u=e.baseURL,c=e.url,u&&!/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(c)?function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}(u,c):c);if(o.open(e.method.toUpperCase(),Gi(l,e.params,e.paramsSerializer),!0),o.timeout=e.timeout,o.onreadystatechange=function(){if(o&&4===o.readyState&&(0!==o.status||o.responseURL&&0===o.responseURL.indexOf("file:"))){var r,i,a,s,u,c="getAllResponseHeaders"in o?(r=o.getAllResponseHeaders(),u={},r?(Bi.forEach(r.split("\n"),(function(e){if(s=e.indexOf(":"),i=Bi.trim(e.substr(0,s)).toLowerCase(),a=Bi.trim(e.substr(s+1)),i){if(u[i]&&Zi.indexOf(i)>=0)return;u[i]="set-cookie"===i?(u[i]?u[i]:[]).concat([a]):u[i]?u[i]+", "+a:a}})),u):u):null,l={data:e.responseType&&"text"!==e.responseType?o.response:o.responseText,status:o.status,statusText:o.statusText,headers:c,config:e,request:o};!function(e,t,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(Wi("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}(t,n,l),o=null}},o.onabort=function(){o&&(n(Wi("Request aborted",e,"ECONNABORTED",o)),o=null)},o.onerror=function(){n(Wi("Network Error",e,null,o)),o=null},o.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(Wi(t,e,"ECONNABORTED",o)),o=null},Bi.isStandardBrowserEnv()){var f=(e.withCredentials||eo(l))&&e.xsrfCookieName?Xi.read(e.xsrfCookieName):void 0;f&&(i[e.xsrfHeaderName]=f)}if("setRequestHeader"in o&&Bi.forEach(i,(function(e,t){void 0===r&&"content-type"===t.toLowerCase()?delete i[t]:o.setRequestHeader(t,e)})),Bi.isUndefined(e.withCredentials)||(o.withCredentials=!!e.withCredentials),e.responseType)try{o.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&o.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&o.upload&&o.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){o&&(o.abort(),n(e),o=null)})),r||(r=null),o.send(r)}))},no={"Content-Type":"application/x-www-form-urlencoded"};function ro(e,t){!Bi.isUndefined(e)&&Bi.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var io,oo={adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(io=to),io),transformRequest:[function(e,t){return Yi(t,"Accept"),Yi(t,"Content-Type"),Bi.isFormData(e)||Bi.isArrayBuffer(e)||Bi.isBuffer(e)||Bi.isStream(e)||Bi.isFile(e)||Bi.isBlob(e)?e:Bi.isArrayBufferView(e)?e.buffer:Bi.isURLSearchParams(e)?(ro(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):Bi.isObject(e)?(ro(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300}};oo.headers={common:{Accept:"application/json, text/plain, */*"}},Bi.forEach(["delete","get","head"],(function(e){oo.headers[e]={}})),Bi.forEach(["post","put","patch"],(function(e){oo.headers[e]=Bi.merge(no)}));var ao=oo;function so(e){e.cancelToken&&e.cancelToken.throwIfRequested()}var uo=function(e){return so(e),e.headers=e.headers||{},e.data=zi(e.data,e.headers,e.transformRequest),e.headers=Bi.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),Bi.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||ao.adapter)(e).then((function(t){return so(e),t.data=zi(t.data,t.headers,e.transformResponse),t}),(function(t){return Ji(t)||(so(e),t&&t.response&&(t.response.data=zi(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))},co=function(e,t){t=t||{};var n={},r=["url","method","data"],i=["headers","auth","proxy","params"],o=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],a=["validateStatus"];function s(e,t){return Bi.isPlainObject(e)&&Bi.isPlainObject(t)?Bi.merge(e,t):Bi.isPlainObject(t)?Bi.merge({},t):Bi.isArray(t)?t.slice():t}function u(r){Bi.isUndefined(t[r])?Bi.isUndefined(e[r])||(n[r]=s(void 0,e[r])):n[r]=s(e[r],t[r])}Bi.forEach(r,(function(e){Bi.isUndefined(t[e])||(n[e]=s(void 0,t[e]))})),Bi.forEach(i,u),Bi.forEach(o,(function(r){Bi.isUndefined(t[r])?Bi.isUndefined(e[r])||(n[r]=s(void 0,e[r])):n[r]=s(void 0,t[r])})),Bi.forEach(a,(function(r){r in t?n[r]=s(e[r],t[r]):r in e&&(n[r]=s(void 0,e[r]))}));var c=r.concat(i).concat(o).concat(a),l=Object.keys(e).concat(Object.keys(t)).filter((function(e){return-1===c.indexOf(e)}));return Bi.forEach(l,u),n};function lo(e){this.defaults=e,this.interceptors={request:new Hi,response:new Hi}}lo.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=co(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[uo,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)n=n.then(t.shift(),t.shift());return n},lo.prototype.getUri=function(e){return e=co(this.defaults,e),Gi(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},Bi.forEach(["delete","get","head","options"],(function(e){lo.prototype[e]=function(t,n){return this.request(co(n||{},{method:e,url:t}))}})),Bi.forEach(["post","put","patch"],(function(e){lo.prototype[e]=function(t,n,r){return this.request(co(r||{},{method:e,url:t,data:n}))}}));var fo=lo;function po(e){this.message=e}po.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},po.prototype.__CANCEL__=!0;var ho=po;function vo(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new ho(e),t(n.reason))}))}vo.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},vo.source=function(){var e;return{token:new vo((function(t){e=t})),cancel:e}};var yo=vo;function mo(e){var t=new fo(e),n=Pi(fo.prototype.request,t);return Bi.extend(n,fo.prototype,t),Bi.extend(n,t),n}var go=mo(ao);go.Axios=fo,go.create=function(e){return mo(co(go.defaults,e))},go.Cancel=ho,go.CancelToken=yo,go.isCancel=Ji,go.all=function(e){return Promise.all(e)},go.spread=function(e){return function(t){return e.apply(null,t)}};var bo=go,Eo=go;bo.default=Eo;var wo=bo;const No=[];function Oo(e,t){return{subscribe:So(e,t).subscribe}}function So(t,n=e){let r;const i=[];function o(e){if(s(t,e)&&(t=e,r)){const e=!No.length;for(let e=0;e<i.length;e+=1){const n=i[e];n[1](),No.push(n,t)}if(e){for(let e=0;e<No.length;e+=2)No[e][0](No[e+1]);No.length=0}}}return{set:o,update:function(e){o(e(t))},subscribe:function(a,s=e){const u=[a,s];return i.push(u),1===i.length&&(r=n(o)||e),a(t),()=>{const e=i.indexOf(u);-1!==e&&i.splice(e,1),0===i.length&&(r(),r=null)}}}}function xo(t,n,r){const i=!Array.isArray(t),s=i?[t]:t,c=n.length<2;return Oo(r,t=>{let r=!1;const l=[];let f=0,p=e;const h=()=>{if(f)return;p();const r=n(i?l[0]:l,t);c?t(r):p=a(r)?r:e},d=s.map((e,t)=>u(e,e=>{l[t]=e,f&=~(1<<t),r&&h()},()=>{f|=1<<t}));return r=!0,h(),function(){o(d),p()}})}var To;var ko=function(){};function _o(e,t){return n=e,To||(To="function"==typeof Symbol&&Symbol.observable||"@@observable"),n&&n[To]&&n[To]()===n?Oo(void 0,(function(n){var r=function(e,t){var n,r,i=void 0!==t;return e(i?t:new Promise((function(e,t){n=e,r=t}))),{fulfill:function(t){if(i)return e(Promise.resolve(t));i=!0,n(t)},reject:function(t){if(i)return e(Promise.reject(t));i=!0,r(t)}}}(n,t),i=r.fulfill,o=r.reject,a=e.subscribe({next:function(e){i(e)},error:function(e){o(e)}});return function(){return a.unsubscribe()}})):Oo(e,ko);var n}var Do="undefined"!=typeof WeakSet?new WeakSet:new Set;function Ao(e,t){var n,r=!1;if(Do.has(e))try{n={data:n=e.readQuery(t)||void 0}}catch(e){}var i=e.watchQuery(t),o=_o(i,n).subscribe;return{subscribe:Oo(n,(function(e){r=!0;var t=void 0!==n,i=!1,a=!1;return o((function(n){t&&i&&!a?a=!0:(i||(i=!0),e(n))}))})).subscribe,refetch:function(e){return!r&&Ge(e,i.variables)?i.result():i.refetch(e)},result:function(){return i.result()},fetchMore:function(e){return i.fetchMore(e)},setOptions:function(e){return i.setOptions(e)},updateQuery:function(e){return i.updateQuery(e)},startPolling:function(e){return i.startPolling(e)},stopPolling:function(){return i.stopPolling()},subscribeToMore:function(e){return i.subscribeToMore(e)}}}var Io=Vt((function(e){
/*!
     * js-logger - http://github.com/jonnyreeves/js-logger
     * Jonny Reeves, http://jonnyreeves.co.uk/
     * js-logger may be freely distributed under the MIT license.
     */
!function(t){var n,r={};r.VERSION="1.6.0";var i={},o=function(e,t){return function(){return t.apply(e,arguments)}},a=function(){var e,t,n=arguments,r=n[0];for(t=1;t<n.length;t++)for(e in n[t])!(e in r)&&n[t].hasOwnProperty(e)&&(r[e]=n[t][e]);return r},s=function(e,t){return{value:e,name:t}};r.TRACE=s(1,"TRACE"),r.DEBUG=s(2,"DEBUG"),r.INFO=s(3,"INFO"),r.TIME=s(4,"TIME"),r.WARN=s(5,"WARN"),r.ERROR=s(8,"ERROR"),r.OFF=s(99,"OFF");var u=function(e){this.context=e,this.setLevel(e.filterLevel),this.log=this.info};u.prototype={setLevel:function(e){e&&"value"in e&&(this.context.filterLevel=e)},getLevel:function(){return this.context.filterLevel},enabledFor:function(e){var t=this.context.filterLevel;return e.value>=t.value},trace:function(){this.invoke(r.TRACE,arguments)},debug:function(){this.invoke(r.DEBUG,arguments)},info:function(){this.invoke(r.INFO,arguments)},warn:function(){this.invoke(r.WARN,arguments)},error:function(){this.invoke(r.ERROR,arguments)},time:function(e){"string"==typeof e&&e.length>0&&this.invoke(r.TIME,[e,"start"])},timeEnd:function(e){"string"==typeof e&&e.length>0&&this.invoke(r.TIME,[e,"end"])},invoke:function(e,t){n&&this.enabledFor(e)&&n(t,a({level:e},this.context))}};var c,l=new u({filterLevel:r.OFF});(c=r).enabledFor=o(l,l.enabledFor),c.trace=o(l,l.trace),c.debug=o(l,l.debug),c.time=o(l,l.time),c.timeEnd=o(l,l.timeEnd),c.info=o(l,l.info),c.warn=o(l,l.warn),c.error=o(l,l.error),c.log=c.info,r.setHandler=function(e){n=e},r.setLevel=function(e){for(var t in l.setLevel(e),i)i.hasOwnProperty(t)&&i[t].setLevel(e)},r.getLevel=function(){return l.getLevel()},r.get=function(e){return i[e]||(i[e]=new u(a({name:e},l.context)))},r.createDefaultHandler=function(e){(e=e||{}).formatter=e.formatter||function(e,t){t.name&&e.unshift("["+t.name+"]")};var t={},n=function(e,t){Function.prototype.apply.call(e,console,t)};return"undefined"==typeof console?function(){}:function(i,o){i=Array.prototype.slice.call(i);var a,s=console.log;o.level===r.TIME?(a=(o.name?"["+o.name+"] ":"")+i[0],"start"===i[1]?console.time?console.time(a):t[a]=(new Date).getTime():console.timeEnd?console.timeEnd(a):n(s,[a+": "+((new Date).getTime()-t[a])+"ms"])):(o.level===r.WARN&&console.warn?s=console.warn:o.level===r.ERROR&&console.error?s=console.error:o.level===r.INFO&&console.info?s=console.info:o.level===r.DEBUG&&console.debug?s=console.debug:o.level===r.TRACE&&console.trace&&(s=console.trace),e.formatter(i,o),n(s,i))}},r.useDefaults=function(e){r.setLevel(e&&e.defaultLevel||r.DEBUG),r.setHandler(r.createDefaultHandler(e))},e.exports?e.exports=r:(r._prevLogger=t.Logger,r.noConflict=function(){return t.Logger=r._prevLogger,r},t.Logger=r)}(jt)}));const Co=Ci`
  query($searchString: String) {
    search(
      searchTerm: $searchString
    ){
      stations {
        name
        primaryEvaId
        picture {
          url
        }
      }
    }
  }`,Ro=Ci`
  query($primaryEvaId: Int!) {
    stationWithEvaId(
      evaId: $primaryEvaId
    ){
      name
      primaryEvaId
      picture {
        url
      }
      location {
        latitude
        longitude
      }
      timetable {
        nextArrivals {
          type
          trainNumber
          platform
          time
          stops
        }
        nextDepatures {
          type
          trainNumber
          platform
          time
          stops
        }
      }
    }
  }`;var Fo=Vt((function(e,t){const n=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",r="["+n+"][:A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*",i=new RegExp("^"+r+"$");t.isExist=function(e){return void 0!==e},t.isEmptyObject=function(e){return 0===Object.keys(e).length},t.merge=function(e,t,n){if(t){const r=Object.keys(t),i=r.length;for(let o=0;o<i;o++)e[r[o]]="strict"===n?[t[r[o]]]:t[r[o]]}},t.getValue=function(e){return t.isExist(e)?e:""},t.buildOptions=function(e,t,n){var r={};if(!e)return t;for(let i=0;i<n.length;i++)void 0!==e[n[i]]?r[n[i]]=e[n[i]]:r[n[i]]=t[n[i]];return r},t.isName=function(e){const t=i.exec(e);return!(null==t)},t.getAllMatches=function(e,t){const n=[];let r=t.exec(e);for(;r;){const i=[],o=r.length;for(let e=0;e<o;e++)i.push(r[e]);n.push(i),r=t.exec(e)}return n},t.nameRegexp=r}));const Po=function(e,t){const n={};if(!(e.child&&!Fo.isEmptyObject(e.child)||e.attrsMap&&!Fo.isEmptyObject(e.attrsMap)))return Fo.isExist(e.val)?e.val:"";Fo.isExist(e.val)&&("string"!=typeof e.val||""!==e.val&&e.val!==t.cdataPositionChar)&&("strict"===t.arrayMode?n[t.textNodeName]=[e.val]:n[t.textNodeName]=e.val),Fo.merge(n,e.attrsMap,t.arrayMode);const r=Object.keys(e.child);for(let a=0;a<r.length;a++){var i=r[a];if(e.child[i]&&e.child[i].length>1)for(var o in n[i]=[],e.child[i])n[i].push(Po(e.child[i][o],t));else if(!0===t.arrayMode){const r=Po(e.child[i][0],t);n[i]="object"==typeof r?[r]:r}else"strict"===t.arrayMode?n[i]=[Po(e.child[i][0],t)]:n[i]=Po(e.child[i][0],t)}return n};var Mo={convertToJson:Po},jo=function(e,t,n){this.tagname=e,this.parent=t,this.child={},this.attrsMap={},this.val=n,this.addChild=function(e){Array.isArray(this.child[e.tagname])?this.child[e.tagname].push(e):this.child[e.tagname]=[e]}};const Vo=Fo.buildOptions;"<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,Fo.nameRegexp);!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const qo={attributeNamePrefix:"@_",attrNodeName:!1,textNodeName:"#text",ignoreAttributes:!0,ignoreNameSpace:!1,allowBooleanAttributes:!1,parseNodeValue:!0,parseAttributeValue:!1,arrayMode:!1,trimValues:!0,cdataTagName:!1,cdataPositionChar:"\\c",tagValueProcessor:function(e,t){return e},attrValueProcessor:function(e,t){return e},stopNodes:[]};var Lo=qo;const Qo=["attributeNamePrefix","attrNodeName","textNodeName","ignoreAttributes","ignoreNameSpace","allowBooleanAttributes","parseNodeValue","parseAttributeValue","arrayMode","trimValues","cdataTagName","cdataPositionChar","tagValueProcessor","attrValueProcessor","parseTrueNumberOnly","stopNodes"];var $o=Qo;function Bo(e,t,n){return t&&(n.trimValues&&(t=t.trim()),t=Go(t=n.tagValueProcessor(t,e),n.parseNodeValue,n.parseTrueNumberOnly)),t}function Uo(e,t){if(t.ignoreNameSpace){const t=e.split(":"),n="/"===e.charAt(0)?"/":"";if("xmlns"===t[0])return"";2===t.length&&(e=n+t[1])}return e}function Go(e,t,n){if(t&&"string"==typeof e){let t;return""===e.trim()||isNaN(e)?t="true"===e||"false"!==e&&e:(-1!==e.indexOf("0x")?t=Number.parseInt(e,16):-1!==e.indexOf(".")?(t=Number.parseFloat(e),e=e.replace(/\.?0+$/,"")):t=Number.parseInt(e,10),n&&(t=String(t)===e?t:e)),t}return Fo.isExist(e)?e:""}const Ko=new RegExp("([^\\s=]+)\\s*(=\\s*(['\"])(.*?)\\3)?","g");function Ho(e,t){if(!t.ignoreAttributes&&"string"==typeof e){e=e.replace(/\r?\n/g," ");const n=Fo.getAllMatches(e,Ko),r=n.length,i={};for(let e=0;e<r;e++){const r=Uo(n[e][1],t);r.length&&(void 0!==n[e][4]?(t.trimValues&&(n[e][4]=n[e][4].trim()),n[e][4]=t.attrValueProcessor(n[e][4],r),i[t.attributeNamePrefix+r]=Go(n[e][4],t.parseAttributeValue,t.parseTrueNumberOnly)):t.allowBooleanAttributes&&(i[t.attributeNamePrefix+r]=!0))}if(!Object.keys(i).length)return;if(t.attrNodeName){const e={};return e[t.attrNodeName]=i,e}return i}}function zo(e,t){let n,r="";for(let i=t;i<e.length;i++){let t=e[i];if(n)t===n&&(n="");else if('"'===t||"'"===t)n=t;else{if(">"===t)return{data:r,index:i};"\t"===t&&(t=" ")}r+=t}}function Jo(e,t,n,r){const i=e.indexOf(t,n);if(-1===i)throw new Error(r);return i+t.length-1}var Yo={defaultOptions:Lo,props:$o,getTraversalObj:function(e,t){e=e.replace(/(\r\n)|\n/," "),t=Vo(t,qo,Qo);const n=new jo("!xml");let r=n,i="";for(let n=0;n<e.length;n++){if("<"===e[n])if("/"===e[n+1]){const o=Jo(e,">",n,"Closing Tag is not closed.");let a=e.substring(n+2,o).trim();if(t.ignoreNameSpace){const e=a.indexOf(":");-1!==e&&(a=a.substr(e+1))}r&&(r.val?r.val=Fo.getValue(r.val)+""+Bo(a,i,t):r.val=Bo(a,i,t)),t.stopNodes.length&&t.stopNodes.includes(r.tagname)&&(r.child=[],null==r.attrsMap&&(r.attrsMap={}),r.val=e.substr(r.startIndex+1,n-r.startIndex-1)),r=r.parent,i="",n=o}else if("?"===e[n+1])n=Jo(e,"?>",n,"Pi Tag is not closed.");else if("!--"===e.substr(n+1,3))n=Jo(e,"--\x3e",n,"Comment is not closed.");else if("!D"===e.substr(n+1,2)){const t=Jo(e,">",n,"DOCTYPE is not closed.");n=e.substring(n,t).indexOf("[")>=0?e.indexOf("]>",n)+1:t}else if("!["===e.substr(n+1,2)){const o=Jo(e,"]]>",n,"CDATA is not closed.")-2,a=e.substring(n+9,o);if(i&&(r.val=Fo.getValue(r.val)+""+Bo(r.tagname,i,t),i=""),t.cdataTagName){const e=new jo(t.cdataTagName,r,a);r.addChild(e),r.val=Fo.getValue(r.val)+t.cdataPositionChar,a&&(e.val=a)}else r.val=(r.val||"")+(a||"");n=o+2}else{const o=zo(e,n+1);let a=o.data;const s=o.index,u=a.indexOf(" ");let c=a;if(-1!==u&&(c=a.substr(0,u).trimRight(),a=a.substr(u+1)),t.ignoreNameSpace){const e=c.indexOf(":");-1!==e&&(c=c.substr(e+1))}if(r&&i&&"!xml"!==r.tagname&&(r.val=Fo.getValue(r.val)+""+Bo(r.tagname,i,t)),a.length>0&&a.lastIndexOf("/")===a.length-1){"/"===c[c.length-1]?(c=c.substr(0,c.length-1),a=c):a=a.substr(0,a.length-1);const e=new jo(c,r,"");c!==a&&(e.attrsMap=Ho(a,t)),r.addChild(e)}else{const e=new jo(c,r);t.stopNodes.length&&t.stopNodes.includes(e.tagname)&&(e.startIndex=s),c!==a&&(e.attrsMap=Ho(a,t)),r.addChild(e),r=e}i="",n=s}else i+=e[n]}return n}};const Wo={allowBooleanAttributes:!1},Xo=["allowBooleanAttributes"];function Zo(e,t){for(var n=t;t<e.length;t++)if("?"!=e[t]&&" "!=e[t]);else{var r=e.substr(n,t-n);if(t>5&&"xml"===r)return oa("InvalidXml","XML declaration allowed only at the start of the document.",sa(e,t));if("?"==e[t]&&">"==e[t+1]){t++;break}}return t}function ea(e,t){if(e.length>t+5&&"-"===e[t+1]&&"-"===e[t+2]){for(t+=3;t<e.length;t++)if("-"===e[t]&&"-"===e[t+1]&&">"===e[t+2]){t+=2;break}}else if(e.length>t+8&&"D"===e[t+1]&&"O"===e[t+2]&&"C"===e[t+3]&&"T"===e[t+4]&&"Y"===e[t+5]&&"P"===e[t+6]&&"E"===e[t+7]){let n=1;for(t+=8;t<e.length;t++)if("<"===e[t])n++;else if(">"===e[t]&&(n--,0===n))break}else if(e.length>t+9&&"["===e[t+1]&&"C"===e[t+2]&&"D"===e[t+3]&&"A"===e[t+4]&&"T"===e[t+5]&&"A"===e[t+6]&&"["===e[t+7])for(t+=8;t<e.length;t++)if("]"===e[t]&&"]"===e[t+1]&&">"===e[t+2]){t+=2;break}return t}function ta(e,t){let n="",r="",i=!1;for(;t<e.length;t++){if('"'===e[t]||"'"===e[t])if(""===r)r=e[t];else{if(r!==e[t])continue;r=""}else if(">"===e[t]&&""===r){i=!0;break}n+=e[t]}return""===r&&{value:n,index:t,tagClosed:i}}const na=new RegExp("(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['\"])(([\\s\\S])*?)\\5)?","g");function ra(e,t){const n=Fo.getAllMatches(e,na),r={};for(let i=0;i<n.length;i++){if(0===n[i][1].length)return oa("InvalidAttr","Attribute '"+n[i][2]+"' has no space in starting.",ua(e,n[i][0]));if(void 0===n[i][3]&&!t.allowBooleanAttributes)return oa("InvalidAttr","boolean attribute '"+n[i][2]+"' is not allowed.",ua(e,n[i][0]));const o=n[i][2];if(!aa(o))return oa("InvalidAttr","Attribute '"+o+"' is an invalid name.",ua(e,n[i][0]));if(r.hasOwnProperty(o))return oa("InvalidAttr","Attribute '"+o+"' is repeated.",ua(e,n[i][0]));r[o]=1}return!0}function ia(e,t){if(";"===e[++t])return-1;if("#"===e[t])return function(e,t){let n=/\d/;for("x"===e[t]&&(t++,n=/[\da-fA-F]/);t<e.length;t++){if(";"===e[t])return t;if(!e[t].match(n))break}return-1}(e,++t);let n=0;for(;t<e.length;t++,n++)if(!(e[t].match(/\w/)&&n<20)){if(";"===e[t])break;return-1}return t}function oa(e,t,n){return{err:{code:e,msg:t,line:n}}}function aa(e){return Fo.isName(e)}function sa(e,t){return e.substring(0,t).split(/\r?\n/).length}function ua(e,t){return e.indexOf(t)+t.length}var ca=function(e,t){t=Fo.buildOptions(t,Wo,Xo);const n=[];let r=!1,i=!1;"\ufeff"===e[0]&&(e=e.substr(1));for(let a=0;a<e.length;a++){if("<"!==e[a]){if(" "===e[a]||"\t"===e[a]||"\n"===e[a]||"\r"===e[a])continue;return oa("InvalidChar","char '"+e[a]+"' is not expected.",sa(e,a))}if(a++,"?"===e[a]){if(a=Zo(e,++a),a.err)return a}else{if("!"===e[a]){a=ea(e,a);continue}{let s=!1;"/"===e[a]&&(s=!0,a++);let u="";for(;a<e.length&&">"!==e[a]&&" "!==e[a]&&"\t"!==e[a]&&"\n"!==e[a]&&"\r"!==e[a];a++)u+=e[a];if(u=u.trim(),"/"===u[u.length-1]&&(u=u.substring(0,u.length-1),a--),o=u,!Fo.isName(o)){let t;return t=0===u.trim().length?"There is an unnecessary space between tag name and backward slash '</ ..'.":"Tag '"+u+"' is an invalid name.",oa("InvalidTag",t,sa(e,a))}const c=ta(e,a);if(!1===c)return oa("InvalidAttr","Attributes for '"+u+"' have open quote.",sa(e,a));let l=c.value;if(a=c.index,"/"===l[l.length-1]){l=l.substring(0,l.length-1);const n=ra(l,t);if(!0!==n)return oa(n.err.code,n.err.msg,sa(e,a-l.length+n.err.line));r=!0}else if(s){if(!c.tagClosed)return oa("InvalidTag","Closing tag '"+u+"' doesn't have proper closing.",sa(e,a));if(l.trim().length>0)return oa("InvalidTag","Closing tag '"+u+"' can't have attributes or invalid starting.",sa(e,a));{const t=n.pop();if(u!==t)return oa("InvalidTag","Closing tag '"+t+"' is expected inplace of '"+u+"'.",sa(e,a));0==n.length&&(i=!0)}}else{const o=ra(l,t);if(!0!==o)return oa(o.err.code,o.err.msg,sa(e,a-l.length+o.err.line));if(!0===i)return oa("InvalidXml","Multiple possible root nodes found.",sa(e,a));n.push(u),r=!0}for(a++;a<e.length;a++){if("<"===e[a]){if("!"===e[a+1]){a++,a=ea(e,a);continue}break}if("&"===e[a]){const t=ia(e,a);if(-1==t)return oa("InvalidChar","char '&' is not expected.",sa(e,a));a=t}}"<"===e[a]&&a--}}}var o;return r?!(n.length>0)||oa("InvalidXml","Invalid '"+JSON.stringify(n,null,4).replace(/\r?\n/g,"")+"' found.",1):oa("InvalidXml","Start tag expected.",1)};const la=function(e){return String.fromCharCode(e)},fa={nilChar:la(176),missingChar:la(201),nilPremitive:la(175),missingPremitive:la(200),emptyChar:la(178),emptyValue:la(177),boundryChar:la(179),objStart:la(198),arrStart:la(204),arrayEnd:la(185)},pa=[fa.nilChar,fa.nilPremitive,fa.missingChar,fa.missingPremitive,fa.boundryChar,fa.emptyChar,fa.emptyValue,fa.arrayEnd,fa.objStart,fa.arrStart],ha=function(e,t,n){if("string"==typeof t)return e&&e[0]&&void 0!==e[0].val?da(e[0].val):da(e);{const i=void 0===(r=e)?fa.missingChar:null===r?fa.nilChar:!(r.child&&0===Object.keys(r.child).length&&(!r.attrsMap||0===Object.keys(r.attrsMap).length))||fa.emptyChar;if(!0===i){let r="";if(Array.isArray(t)){r+=fa.arrStart;const i=t[0],o=e.length;if("string"==typeof i)for(let t=0;t<o;t++){const n=da(e[t].val);r=va(r,n)}else for(let t=0;t<o;t++){const o=ha(e[t],i,n);r=va(r,o)}r+=fa.arrayEnd}else{r+=fa.objStart;const i=Object.keys(t);Array.isArray(e)&&(e=e[0]);for(let o in i){const a=i[o];let s;s=!n.ignoreAttributes&&e.attrsMap&&e.attrsMap[a]?ha(e.attrsMap[a],t[a],n):a===n.textNodeName?ha(e.val,t[a],n):ha(e.child[a],t[a],n),r=va(r,s)}}return r}return i}var r},da=function(e){switch(e){case void 0:return fa.missingPremitive;case null:return fa.nilPremitive;case"":return fa.emptyValue;default:return e}},va=function(e,t){return ya(t[0])||ya(e[e.length-1])||(e+=fa.boundryChar),e+t},ya=function(e){return-1!==pa.indexOf(e)};const ma=Fo.buildOptions;var ga={convert2nimn:function(e,t,n){return n=ma(n,Yo.defaultOptions,Yo.props),ha(e,t,n)}};const ba=Fo.buildOptions,Ea=function(e,t,n){let r="{";const i=Object.keys(e.child);for(let n=0;n<i.length;n++){var o=i[n];if(e.child[o]&&e.child[o].length>1){for(var a in r+='"'+o+'" : [ ',e.child[o])r+=Ea(e.child[o][a],t)+" , ";r=r.substr(0,r.length-1)+" ] "}else r+='"'+o+'" : '+Ea(e.child[o][0],t)+" ,"}return Fo.merge(r,e.attrsMap),Fo.isEmptyObject(r)?Fo.isExist(e.val)?e.val:"":(Fo.isExist(e.val)&&("string"!=typeof e.val||""!==e.val&&e.val!==t.cdataPositionChar)&&(r+='"'+t.textNodeName+'" : '+(!0!==(s=e.val)&&!1!==s&&isNaN(s)?'"'+s+'"':s)),","===r[r.length-1]&&(r=r.substr(0,r.length-2)),r+"}");var s};var wa={convertToJsonString:function(e,t){return(t=ba(t,Yo.defaultOptions,Yo.props)).indentBy=t.indentBy||"",Ea(e,t)}};const Na=Fo.buildOptions,Oa={attributeNamePrefix:"@_",attrNodeName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataTagName:!1,cdataPositionChar:"\\c",format:!1,indentBy:"  ",supressEmptyNode:!1,tagValueProcessor:function(e){return e},attrValueProcessor:function(e){return e}},Sa=["attributeNamePrefix","attrNodeName","textNodeName","ignoreAttributes","cdataTagName","cdataPositionChar","format","indentBy","supressEmptyNode","tagValueProcessor","attrValueProcessor"];function xa(e){this.options=Na(e,Oa,Sa),this.options.ignoreAttributes||this.options.attrNodeName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=Ra),this.options.cdataTagName?this.isCDATA=Fa:this.isCDATA=function(){return!1},this.replaceCDATAstr=Ta,this.replaceCDATAarr=ka,this.options.format?(this.indentate=Ca,this.tagEndChar=">\n",this.newLine="\n"):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine=""),this.options.supressEmptyNode?(this.buildTextNode=Ia,this.buildObjNode=Da):(this.buildTextNode=Aa,this.buildObjNode=_a),this.buildTextValNode=Aa,this.buildObjectNode=_a}function Ta(e,t){return e=this.options.tagValueProcessor(""+e),""===this.options.cdataPositionChar||""===e?e+"<![CDATA["+t+"]]"+this.tagEndChar:e.replace(this.options.cdataPositionChar,"<![CDATA["+t+"]]"+this.tagEndChar)}function ka(e,t){if(e=this.options.tagValueProcessor(""+e),""===this.options.cdataPositionChar||""===e)return e+"<![CDATA["+t.join("]]><![CDATA[")+"]]"+this.tagEndChar;for(let n in t)e=e.replace(this.options.cdataPositionChar,"<![CDATA["+t[n]+"]]>");return e+this.newLine}function _a(e,t,n,r){return n&&!e.includes("<")?this.indentate(r)+"<"+t+n+">"+e+"</"+t+this.tagEndChar:this.indentate(r)+"<"+t+n+this.tagEndChar+e+this.indentate(r)+"</"+t+this.tagEndChar}function Da(e,t,n,r){return""!==e?this.buildObjectNode(e,t,n,r):this.indentate(r)+"<"+t+n+"/"+this.tagEndChar}function Aa(e,t,n,r){return this.indentate(r)+"<"+t+n+">"+this.options.tagValueProcessor(e)+"</"+t+this.tagEndChar}function Ia(e,t,n,r){return""!==e?this.buildTextValNode(e,t,n,r):this.indentate(r)+"<"+t+n+"/"+this.tagEndChar}function Ca(e){return this.options.indentBy.repeat(e)}function Ra(e){return!!e.startsWith(this.options.attributeNamePrefix)&&e.substr(this.attrPrefixLen)}function Fa(e){return e===this.options.cdataTagName}xa.prototype.parse=function(e){return this.j2x(e,0).val},xa.prototype.j2x=function(e,t){let n="",r="";const i=Object.keys(e),o=i.length;for(let a=0;a<o;a++){const o=i[a];if(void 0===e[o]);else if(null===e[o])r+=this.indentate(t)+"<"+o+"/"+this.tagEndChar;else if(e[o]instanceof Date)r+=this.buildTextNode(e[o],o,"",t);else if("object"!=typeof e[o]){const i=this.isAttribute(o);i?n+=" "+i+'="'+this.options.attrValueProcessor(""+e[o])+'"':this.isCDATA(o)?e[this.options.textNodeName]?r+=this.replaceCDATAstr(e[this.options.textNodeName],e[o]):r+=this.replaceCDATAstr("",e[o]):o===this.options.textNodeName?e[this.options.cdataTagName]||(r+=this.options.tagValueProcessor(""+e[o])):r+=this.buildTextNode(e[o],o,"",t)}else if(Array.isArray(e[o]))if(this.isCDATA(o))r+=this.indentate(t),e[this.options.textNodeName]?r+=this.replaceCDATAarr(e[this.options.textNodeName],e[o]):r+=this.replaceCDATAarr("",e[o]);else{const n=e[o].length;for(let i=0;i<n;i++){const n=e[o][i];if(void 0===n);else if(null===n)r+=this.indentate(t)+"<"+o+"/"+this.tagEndChar;else if("object"==typeof n){const e=this.j2x(n,t+1);r+=this.buildObjNode(e.val,o,e.attrStr,t)}else r+=this.buildTextNode(n,o,"",t)}}else if(this.options.attrNodeName&&o===this.options.attrNodeName){const t=Object.keys(e[o]),r=t.length;for(let i=0;i<r;i++)n+=" "+t[i]+'="'+this.options.attrValueProcessor(""+e[o][t[i]])+'"'}else{const n=this.j2x(e[o],t+1);r+=this.buildObjNode(n.val,o,n.attrStr,t)}}return{attrStr:n,val:r}};var Pa=xa,Ma=Vt((function(e,t){const n=Yo,r=Fo.buildOptions;t.parse=function(e,t,i){if(i){!0===i&&(i={});const t=ca(e,i);if(!0!==t)throw Error(t.err.msg)}t=r(t,n.defaultOptions,n.props);const o=Yo.getTraversalObj(e,t);return Mo.convertToJson(o,t)},t.convertTonimn=ga.convert2nimn,t.getTraversalObj=Yo.getTraversalObj,t.convertToJson=Mo.convertToJson,t.convertToJsonString=wa.convertToJsonString,t.validate=ca,t.j2xParser=Pa,t.parseToNimn=function(e,n,r){return t.convertTonimn(t.getTraversalObj(e,r),n,r)}}));const ja="DeutscheBahnApiService";class Va{constructor(e){this.client=e,Io.info(`[${ja}]`)}async checkApiAvailabillity(){let e=!1;try{await wo.get("https://api.deutschebahn.com/freeplan/v1"),e=!0}catch(t){e=401===t.response.status}finally{return Io.info(`[${ja}] API available - ${e}`),e}}async getStationByPrimaryEvaId(e){let t;Io.info(`[${ja}] getStationByPrimaryEvaId(primaryEvaId = ${e})`);try{const{client:n}=this,r=await Ao(n,{query:Ro,variables:{primaryEvaId:e}}),i=await r.result();console.log(i),t=i.data.stationWithEvaId}catch(e){Io.warn(`[${ja}] api endpoint is unavailable`,e)}finally{return Io.info(`[${ja}]`,t),t}}async getStationsByName(e){let t;try{const{client:n}=this,r=await Ao(n,{query:Co,variables:{searchString:e}}),i=await r.result();console.log("result",i),t=i.data.search.stations}catch(e){Io.warn(`[${ja}] api endpoint is unavailbale`,e)}finally{return Io.info(`[${ja}] getStationsByName(${name})`,t),t}}}var qa=Vt((function(e,t){!function(t){var n,r,i,o=(n=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZWN]|"[^"]*"|'[^']*'/g,r=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,i=/[^-+\dA-Z]/g,function(e,t,l,f){if(1!==arguments.length||"string"!==c(e)||/\d/.test(e)||(t=e,e=void 0),(e=e||new Date)instanceof Date||(e=new Date(e)),isNaN(e))throw TypeError("Invalid date");var p=(t=String(o.masks[t]||t||o.masks.default)).slice(0,4);"UTC:"!==p&&"GMT:"!==p||(t=t.slice(4),l=!0,"GMT:"===p&&(f=!0));var h=l?"getUTC":"get",d=e[h+"Date"](),v=e[h+"Day"](),y=e[h+"Month"](),m=e[h+"FullYear"](),g=e[h+"Hours"](),b=e[h+"Minutes"](),E=e[h+"Seconds"](),w=e[h+"Milliseconds"](),N=l?0:e.getTimezoneOffset(),O=s(e),S=u(e),x={d:d,dd:a(d),ddd:o.i18n.dayNames[v],dddd:o.i18n.dayNames[v+7],m:y+1,mm:a(y+1),mmm:o.i18n.monthNames[y],mmmm:o.i18n.monthNames[y+12],yy:String(m).slice(2),yyyy:m,h:g%12||12,hh:a(g%12||12),H:g,HH:a(g),M:b,MM:a(b),s:E,ss:a(E),l:a(w,3),L:a(Math.round(w/10)),t:g<12?o.i18n.timeNames[0]:o.i18n.timeNames[1],tt:g<12?o.i18n.timeNames[2]:o.i18n.timeNames[3],T:g<12?o.i18n.timeNames[4]:o.i18n.timeNames[5],TT:g<12?o.i18n.timeNames[6]:o.i18n.timeNames[7],Z:f?"GMT":l?"UTC":(String(e).match(r)||[""]).pop().replace(i,""),o:(N>0?"-":"+")+a(100*Math.floor(Math.abs(N)/60)+Math.abs(N)%60,4),S:["th","st","nd","rd"][d%10>3?0:(d%100-d%10!=10)*d%10],W:O,N:S};return t.replace(n,(function(e){return e in x?x[e]:e.slice(1,e.length-1)}))});function a(e,t){for(e=String(e),t=t||2;e.length<t;)e="0"+e;return e}function s(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate());t.setDate(t.getDate()-(t.getDay()+6)%7+3);var n=new Date(t.getFullYear(),0,4);n.setDate(n.getDate()-(n.getDay()+6)%7+3);var r=t.getTimezoneOffset()-n.getTimezoneOffset();t.setHours(t.getHours()-r);var i=(t-n)/6048e5;return 1+Math.floor(i)}function u(e){var t=e.getDay();return 0===t&&(t=7),t}function c(e){return null===e?"null":void 0===e?"undefined":"object"!=typeof e?typeof e:Array.isArray(e)?"array":{}.toString.call(e).slice(8,-1).toLowerCase()}o.masks={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"},o.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],timeNames:["a","p","am","pm","A","P","AM","PM"]},e.exports=o}()}));function La(t){let n,r,i,o,a=qa(t[0],"HH")+"",s=t[1]?":":"&nbsp;",u=qa(t[0],"MM")+"";return{c(){n=E("span"),r=w(a),o=w(u),i=new A(o),x(n,"class","svelte-1gmkttq")},m(e,t){m(e,n,t),y(n,r),i.m(s,n),y(n,o)},p(e,[t]){1&t&&a!==(a=qa(e[0],"HH")+"")&&T(r,a),2&t&&s!==(s=e[1]?":":"&nbsp;")&&i.p(s),1&t&&u!==(u=qa(e[0],"MM")+"")&&T(o,u)},i:e,o:e,d(e){e&&g(n)}}}function Qa(e,t,n){let r=new Date,i=!0;return setInterval(()=>{n(0,r=new Date),n(1,i=!i)},1e3),[r,i]}class $a extends pe{constructor(e){super(),fe(this,e,Qa,La,s,{})}}const Ba=So(null),Ua={subscribe:Ba.subscribe,setStation:e=>{Ba.set(e)}};function Ga(e){let t,n,r,i,o,a,s,u,c=(e[0]?e[0].name:"...")+"";return s=new $a({}),{c(){t=E("div"),n=E("div"),r=E("a"),i=w(c),o=N(),a=E("div"),ue(s.$$.fragment),x(r,"href","/"),x(n,"class","main-col svelte-go1o6i"),x(a,"class","secondary-col svelte-go1o6i"),x(t,"class","header svelte-go1o6i")},m(e,c){m(e,t,c),y(t,n),y(n,r),y(r,i),y(t,o),y(t,a),ce(s,a,null),u=!0},p(e,[t]){(!u||1&t)&&c!==(c=(e[0]?e[0].name:"...")+"")&&T(i,c)},i(e){u||(ie(s.$$.fragment,e),u=!0)},o(e){oe(s.$$.fragment,e),u=!1},d(e){e&&g(t),le(s)}}}function Ka(e,t,n){let r;return c(e,Ua,e=>n(0,r=e)),[r]}class Ha extends pe{constructor(e){super(),fe(this,e,Ka,Ga,s,{})}}const za="TimetableService";class Ja{constructor(e,t){this.url=e,this.bearer=t}async getTrainsOnRoute(e){var t;let n;Io.info(`[${za}] getBoard()`);try{const r=new Date,i=await this.request(`plan/${e}/${qa(r,"yymmdd/HH")}`),o=Ma.parse(i,{attributeNamePrefix:"",parseAttributeValue:!0,ignoreNameSpace:!1,ignoreAttributes:!1});Io.info(`[${za}] retrieved parsed xml`,o),n=null===(t=null==o?void 0:o.timetable)||void 0===t?void 0:t.s.map(e=>this.convertXmlToObj(e))}catch(e){Io.warn(`[${za}] api endpoint is unavailbale`,e)}finally{return Io.info(`[${za}]`,n),n}}async request(e){Io.info(`[${za}] /${e}`);try{const{bearer:t,url:n}=this;return(await wo.get(`${n}/${e}`,{headers:{Authorization:"Bearer "+t,Accept:"application/json"}})).data}catch(e){throw new Error("Service is unavailable")}}convertXmlToObj(e){try{const t=e.ar?this.getRouteInfo(e.ar):null,n=e.dp?this.getRouteInfo(e.dp):null;return{arrival:t,departure:n,type:e.tl.o?e.tl.o:"-"}}catch(e){return void console.log("convertXmlToObj",e)}}getRouteInfo(e){const t=e.pt.toString(),n=t.substr(0,2),r=t.substr(2,2),i=t.substr(4,2),o=t.substr(6,2),a=t.substr(8,2);return{platform:e.pp,time:new Date(`20${n}-${r}-${i}T${o}:${a}:00`),stations:e.ppth.split("|")}}}function Ya(t){let n;return{c(){n=E("div"),n.innerHTML='<div class="db svelte-rb19pq">DB</div> \n  <div class="tt svelte-rb19pq">Timetables</div>',x(n,"class","logo svelte-rb19pq")},m(e,t){m(e,n,t)},p:e,i:e,o:e,d(e){e&&g(n)}}}class Wa extends pe{constructor(e){super(),fe(this,e,null,Ya,s,{})}}var Xa=Vt((function(e,t){var n=[].slice;!function(n,r){null!==t?e.exports=r():n.UrlPattern=r()}(jt,(function(){var e,t,r,i,o,a,s,u,c,l,f,p,h,d,v;return c=function(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")},s=function(e,t){var n,r,i;for(i=[],n=-1,r=e.length;++n<r;)i=i.concat(t(e[n]));return i},d=function(e,t){var n,r,i;for(i="",n=-1,r=e.length;++n<r;)i+=t(e[n]);return i},h=function(e){return new RegExp(e.toString()+"|").exec("").length-1},f=function(e,t){var n,r,i,o,a;for(o={},n=-1,i=e.length;++n<i;)r=e[n],null!=(a=t[n])&&(null!=o[r]?(Array.isArray(o[r])||(o[r]=[o[r]]),o[r].push(a)):o[r]=a);return o},(e={}).Result=function(e,t){this.value=e,this.rest=t},e.Tagged=function(e,t){this.tag=e,this.value=t},e.tag=function(t,n){return function(r){var i,o;if(null!=(i=n(r)))return o=new e.Tagged(t,i.value),new e.Result(o,i.rest)}},e.regex=function(t){return function(n){var r,i;if(null!=(r=t.exec(n)))return i=r[0],new e.Result(i,n.slice(i.length))}},e.sequence=function(){var t;return t=1<=arguments.length?n.call(arguments,0):[],function(n){var r,i,o,a,s;for(r=-1,i=t.length,s=[],o=n;++r<i;){if(null==(a=(0,t[r])(o)))return;s.push(a.value),o=a.rest}return new e.Result(s,o)}},e.pick=function(){var t,r;return t=arguments[0],r=2<=arguments.length?n.call(arguments,1):[],function(n){var i,o;if(null!=(o=e.sequence.apply(e,r)(n)))return i=o.value,o.value=i[t],o}},e.string=function(t){var n;return n=t.length,function(r){if(r.slice(0,n)===t)return new e.Result(t,r.slice(n))}},e.lazy=function(e){var t;return t=null,function(n){return null==t&&(t=e()),t(n)}},e.baseMany=function(t,n,r,i,o){var a,s,u;for(s=o,u=r?"":[];(null==n||null==n(s))&&null!=(a=t(s));)r?u+=a.value:u.push(a.value),s=a.rest;if(!i||0!==u.length)return new e.Result(u,s)},e.many1=function(t){return function(n){return e.baseMany(t,null,!1,!0,n)}},e.concatMany1Till=function(t,n){return function(r){return e.baseMany(t,n,!0,!0,r)}},e.firstChoice=function(){var e;return e=1<=arguments.length?n.call(arguments,0):[],function(t){var n,r,i;for(n=-1,r=e.length;++n<r;)if(null!=(i=(0,e[n])(t)))return i}},p=function(t){var n;return(n={}).wildcard=e.tag("wildcard",e.string(t.wildcardChar)),n.optional=e.tag("optional",e.pick(1,e.string(t.optionalSegmentStartChar),e.lazy((function(){return n.pattern})),e.string(t.optionalSegmentEndChar))),n.name=e.regex(new RegExp("^["+t.segmentNameCharset+"]+")),n.named=e.tag("named",e.pick(1,e.string(t.segmentNameStartChar),e.lazy((function(){return n.name})))),n.escapedChar=e.pick(1,e.string(t.escapeChar),e.regex(/^./)),n.static=e.tag("static",e.concatMany1Till(e.firstChoice(e.lazy((function(){return n.escapedChar})),e.regex(/^./)),e.firstChoice(e.string(t.segmentNameStartChar),e.string(t.optionalSegmentStartChar),e.string(t.optionalSegmentEndChar),n.wildcard))),n.token=e.lazy((function(){return e.firstChoice(n.wildcard,n.optional,n.named,n.static)})),n.pattern=e.many1(e.lazy((function(){return n.token}))),n},u={escapeChar:"\\",segmentNameStartChar:":",segmentValueCharset:"a-zA-Z0-9-_~ %",segmentNameCharset:"a-zA-Z0-9",optionalSegmentStartChar:"(",optionalSegmentEndChar:")",wildcardChar:"*"},a=function(e,t){if(Array.isArray(e))return d(e,(function(e){return a(e,t)}));switch(e.tag){case"wildcard":return"(.*?)";case"named":return"(["+t+"]+)";case"static":return c(e.value);case"optional":return"(?:"+a(e.value,t)+")?"}},o=function(e,t){return null==t&&(t=u.segmentValueCharset),"^"+a(e,t)+"$"},i=function(e){if(Array.isArray(e))return s(e,i);switch(e.tag){case"wildcard":return["_"];case"named":return[e.value];case"static":return[];case"optional":return i(e.value)}},l=function(e,t,n,r){var i,o,a;if(null==r&&(r=!1),null!=(a=e[t])){if(!((i=n[t]||0)>(Array.isArray(a)?a.length-1:0)))return o=Array.isArray(a)?a[i]:a,r&&(n[t]=i+1),o;if(r)throw new Error("too few values provided for key `"+t+"`")}else if(r)throw new Error("no values provided for key `"+t+"`")},r=function(e,t,n){var i,o;if(Array.isArray(e)){for(i=-1,o=e.length;++i<o;)if(r(e[i],t,n))return!0;return!1}switch(e.tag){case"wildcard":return null!=l(t,"_",n,!1);case"named":return null!=l(t,e.value,n,!1);case"static":return!1;case"optional":return r(e.value,t,n)}},v=function(e,t,n){if(Array.isArray(e))return d(e,(function(e){return v(e,t,n)}));switch(e.tag){case"wildcard":return l(t,"_",n,!0);case"named":return l(t,e.value,n,!0);case"static":return e.value;case"optional":return r(e.value,t,n)?v(e.value,t,n):""}},(t=function(e,n){var r,a,s;if(e instanceof t)return this.isRegex=e.isRegex,this.regex=e.regex,this.ast=e.ast,void(this.names=e.names);if(this.isRegex=e instanceof RegExp,"string"!=typeof e&&!this.isRegex)throw new TypeError("argument must be a regex or a string");if(this.isRegex){if(this.regex=e,null!=n){if(!Array.isArray(n))throw new Error("if first argument is a regex the second argument may be an array of group names but you provided something else");if(r=h(this.regex),n.length!==r)throw new Error("regex contains "+r+" groups but array of group names contains "+n.length);this.names=n}}else{if(""===e)throw new Error("argument must not be the empty string");if(e.replace(/\s+/g,"")!==e)throw new Error("argument must not contain whitespace");if(a={escapeChar:(null!=n?n.escapeChar:void 0)||u.escapeChar,segmentNameStartChar:(null!=n?n.segmentNameStartChar:void 0)||u.segmentNameStartChar,segmentNameCharset:(null!=n?n.segmentNameCharset:void 0)||u.segmentNameCharset,segmentValueCharset:(null!=n?n.segmentValueCharset:void 0)||u.segmentValueCharset,optionalSegmentStartChar:(null!=n?n.optionalSegmentStartChar:void 0)||u.optionalSegmentStartChar,optionalSegmentEndChar:(null!=n?n.optionalSegmentEndChar:void 0)||u.optionalSegmentEndChar,wildcardChar:(null!=n?n.wildcardChar:void 0)||u.wildcardChar},null==(s=p(a).pattern(e)))throw new Error("couldn't parse pattern");if(""!==s.rest)throw new Error("could only partially parse pattern");this.ast=s.value,this.regex=new RegExp(o(this.ast,a.segmentValueCharset)),this.names=i(this.ast)}}).prototype.match=function(e){var t,n;return null==(n=this.regex.exec(e))?null:(t=n.slice(1),this.names?f(this.names,t):t)},t.prototype.stringify=function(e){if(null==e&&(e={}),this.isRegex)throw new Error("can't stringify patterns generated from a regex");if(e!==Object(e))throw new Error("argument must be an object or undefined");return v(this.ast,e,{})},t.escapeForRegex=c,t.concatMap=s,t.stringConcatMap=d,t.regexGroupCount=h,t.keysAndValuesToObject=f,t.P=e,t.newParser=p,t.defaultOptions=u,t.astNodeToRegexString=o,t.astNodeToNames=i,t.getParam=l,t.astNodeContainsSegmentsForProvidedParams=r,t.stringify=v,t}))}));function Za(e,t,n){Object.defineProperty(e,t,{value:n})}let es=So(),ts=xo(es,e=>function e(t={},n,r,i="#"){if(n){let e=typeof t,n=(t="function"===e?{$$component:t}:"string"===e?{$$redirect:t}:"object"!==e||null===t?{}:t).$$component;if("function"!=typeof n&&null!=n)throw new Error("Invalid Svelte component")}let o={};for(let n in t)/^\$\$/.test(n)?Za(o,n,t[n]):o[n]=e(t[n],!0,n,i+n);return n&&(Za(o,"$$href",i),Za(o,"$$pathname",r),Za(o,"$$pattern",new Xa(i)),Za(o,"$$stringify",e=>o.$$pattern.stringify(e))),Object.freeze(o)}(e));ts.set=e=>{es.set(e),delete ts.set};let ns=/(#?[^?]*)?(\?.*)?/;function rs(){let e=ns.exec(window.location.hash);return{pathname:e[1]||"#/",querystring:e[2]}}let is=Oo(rs(),e=>{let t=()=>e(rs());return window.addEventListener("hashchange",t),()=>window.removeEventListener("hashchange",t)}),os=xo(is,e=>e.pathname),as=xo(is,e=>e.querystring);xo(as,e=>Array.from(new URLSearchParams(e)).reduce((e,[t,n])=>(e[t]=n,e),{}));function ss(e,t,n,r=[]){if(n){let n=e.$$pattern.match(t);if(n)return e.$$redirect?(K(),U).then(()=>{history.replaceState(null,null,"#"+e.$$redirect),window.dispatchEvent(new Event("hashchange"))}):{active:e,params:n,matches:r}}for(let n of Object.values(e)){let e=ss(n,t,!0,[...r,n]);if(e)return e}}let us=xo([ts,os],([e,t])=>ss(e,t)||{}),cs=(xo(us,e=>e.active||{}),xo(us,e=>e.params||{})),ls=xo(us,e=>e.matches||[]),fs=xo(ls,e=>e.map(e=>e.$$component).filter(e=>e));function ps(e){let t,r,i;const o=[e[2]];var a=e[0][e[1]];function s(e){let t={};for(let e=0;e<o.length;e+=1)t=n(t,o[e]);return{props:t}}return a&&(t=new a(s())),{c(){t&&ue(t.$$.fragment),r=O()},m(e,n){t&&ce(t,e,n),m(e,r,n),i=!0},p(e,[n]){const i=4&n?function(e,t){const n={},r={},i={$$scope:1};let o=e.length;for(;o--;){const a=e[o],s=t[o];if(s){for(const e in a)e in s||(r[e]=1);for(const e in s)i[e]||(n[e]=s[e],i[e]=1);e[o]=s}else for(const e in a)i[e]=1}for(const e in r)e in n||(n[e]=void 0);return n}(o,[(u=e[2],"object"==typeof u&&null!==u?u:{})]):{};var u;if(a!==(a=e[0][e[1]])){if(t){ne();const e=t;oe(e.$$.fragment,1,0,()=>{le(e,1)}),re()}a?(t=new a(s()),ue(t.$$.fragment),ie(t.$$.fragment,1),ce(t,r.parentNode,r)):t=null}else a&&t.$set(i)},i(e){i||(t&&ie(t.$$.fragment,e),i=!0)},o(e){t&&oe(t.$$.fragment,e),i=!1},d(e){e&&g(r),t&&le(t,e)}}}let hs=0;function ds(e,t,r){let i;c(e,fs,e=>r(0,i=e));let o=hs++;var a;return a=()=>hs--,j().$$.on_destroy.push(a),e.$$set=e=>{r(2,t=n(n({},t),l(e)))},t=l(t),[i,o,t]}class vs extends pe{constructor(e){super(),fe(this,e,ds,ps,s,{})}}function ys(e){let t,n,r,i;return t=new Ha({}),r=new vs({}),{c(){ue(t.$$.fragment),n=N(),ue(r.$$.fragment)},m(e,o){ce(t,e,o),m(e,n,o),ce(r,e,o),i=!0},i(e){i||(ie(t.$$.fragment,e),ie(r.$$.fragment,e),i=!0)},o(e){oe(t.$$.fragment,e),oe(r.$$.fragment,e),i=!1},d(e){le(t,e),e&&g(n),le(r,e)}}}function ms(t){let n;return{c(){n=E("div"),n.textContent="Connecting to DB API ..."},m(e,t){m(e,n,t)},i:e,o:e,d(e){e&&g(n)}}}function gs(e){let t,n,r,i,o,a,s,u,c;i=new Wa({});const l=[ms,ys],f=[];function p(e,t){return"loading"===e[0]?0:1}return s=p(e),u=f[s]=l[s](e),{c(){t=E("div"),t.innerHTML="<div></div>",n=N(),r=E("div"),ue(i.$$.fragment),o=N(),a=E("div"),u.c(),x(t,"id","header"),x(t,"class","svelte-tvg7r0"),x(a,"class","main svelte-tvg7r0"),x(r,"class","container svelte-tvg7r0")},m(e,u){m(e,t,u),m(e,n,u),m(e,r,u),ce(i,r,null),y(r,o),y(r,a),f[s].m(a,null),c=!0},p(e,[t]){let n=s;s=p(e),s!==n&&(ne(),oe(f[n],1,1,()=>{f[n]=null}),re(),u=f[s],u||(u=f[s]=l[s](e),u.c()),ie(u,1),u.m(a,null))},i(e){c||(ie(i.$$.fragment,e),ie(u),c=!0)},o(e){oe(i.$$.fragment,e),oe(u),c=!1},d(e){e&&g(t),e&&g(n),e&&g(r),le(i),f[s].d()}}}function bs(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))};let{configurationService:i}=t,o="loading";const a=i.getBearer(),s=new Fi({headers:{authorization:"Bearer "+a},uri:i.getGraphQLEndpoint()});let u=new Va(s),c=new Ja(i.getTimetableApiUrl(),a);var l,f;return l="appContext",f={dbApiService:u,dbTimetableService:c},j().$$.context.set(l,f),V(()=>r(void 0,void 0,void 0,(function*(){n(0,o="loaded")}))),e.$$set=e=>{"configurationService"in e&&n(1,i=e.configurationService)},[o,i]}function Es(e,{delay:n=0,duration:r=400,easing:i=t}){const o=+getComputedStyle(e).opacity;return{delay:n,duration:r,easing:i,css:e=>"opacity: "+e*o}}function ws(e){let t,n,r,i=qa(e[1].arrival.time,"HH:MM")+"";return{c(){t=E("div"),n=w(i),r=w(" ▸ "),x(t,"class","time svelte-asp1ay")},m(e,i){m(e,t,i),y(t,n),y(t,r)},p(e,t){2&t&&i!==(i=qa(e[1].arrival.time,"HH:MM")+"")&&T(n,i)},d(e){e&&g(t)}}}function Ns(e){let t,n,r,i=qa(e[1].departure.time,"HH:MM")+"";return{c(){t=E("div"),n=w(" ▸ "),r=w(i),x(t,"class","time svelte-asp1ay")},m(e,i){m(e,t,i),y(t,n),y(t,r)},p(e,t){2&t&&i!==(i=qa(e[1].departure.time,"HH:MM")+"")&&T(r,i)},d(e){e&&g(t)}}}function Os(t){let n,r,i,o,a,s,u,c,l=t[0].name+"",f=t[2]&&function(t){let n,r,i;return{c(){n=E("div"),r=E("span"),i=w(" ⋯"),x(n,"class","origin svelte-asp1ay")},m(e,o){m(e,n,o),y(n,r),r.innerHTML=t[2],y(n,i)},p:e,d(e){e&&g(n)}}}(t),p=t[1]?.arrival?.time&&ws(t),h=t[1]?.departure?.time&&Ns(t),d=t[3]&&function(t){let n,r,i;return{c(){n=E("div"),r=w("⋯ "),i=E("span"),x(n,"class","destination svelte-asp1ay")},m(e,o){m(e,n,o),y(n,r),y(n,i),i.innerHTML=t[3]},p:e,d(e){e&&g(n)}}}(t);return{c(){n=E("div"),f&&f.c(),r=N(),i=E("div"),o=E("div"),p&&p.c(),a=N(),s=E("div"),u=N(),h&&h.c(),c=N(),d&&d.c(),x(o,"class","flex svelte-asp1ay"),x(i,"class","current svelte-asp1ay"),x(n,"class","wrapper svelte-asp1ay")},m(e,t){m(e,n,t),f&&f.m(n,null),y(n,r),y(n,i),y(i,o),p&&p.m(o,null),y(o,a),y(o,s),s.innerHTML=l,y(o,u),h&&h.m(o,null),y(n,c),d&&d.m(n,null)},p(e,[t]){e[2]&&f.p(e,t),e[1]?.arrival?.time?p?p.p(e,t):(p=ws(e),p.c(),p.m(o,a)):p&&(p.d(1),p=null),1&t&&l!==(l=e[0].name+"")&&(s.innerHTML=l),e[1]?.departure?.time?h?h.p(e,t):(h=Ns(e),h.c(),h.m(o,null)):h&&(h.d(1),h=null),e[3]&&d.p(e,t)},i:e,o:e,d(e){e&&g(n),f&&f.d(),p&&p.d(),h&&h.d(),d&&d.d()}}}function Ss(e,t,n){var r,i;let{station:o}=t,{train:a}=t;const s=null===(r=null==a?void 0:a.arrival)||void 0===r?void 0:r.stations[0],u=null===(i=null==a?void 0:a.departure)||void 0===i?void 0:i.stations.slice(-1).pop();return e.$$set=e=>{"station"in e&&n(0,o=e.station),"train"in e&&n(1,a=e.train)},[o,a,s,u]}class xs extends pe{constructor(e){super(),fe(this,e,Ss,Os,s,{station:0,train:1})}}function Ts(e){let t,n,r,i,o,a,s,u,c,l,f,p,h,d,v,b=e[0].type+"";return h=new xs({props:{station:e[1],train:e[0]}}),{c(){t=E("div"),n=E("div"),r=E("div"),i=E("div"),o=w(b),a=N(),s=E("div"),u=N(),c=E("div"),l=N(),f=E("div"),p=N(),ue(h.$$.fragment),x(i,"class","name svelte-23ola9"),x(s,"class","origin svelte-23ola9"),x(r,"class","col-1_3 svelte-23ola9"),x(c,"class","col-1_3 track svelte-23ola9"),x(f,"class","col-1_3 time svelte-23ola9"),x(n,"class","item svelte-23ola9"),x(t,"class","wrapper svelte-23ola9")},m(e,d){m(e,t,d),y(t,n),y(n,r),y(r,i),y(i,o),y(r,a),y(r,s),y(n,u),y(n,c),y(n,l),y(n,f),y(t,p),ce(h,t,null),v=!0},p(e,[t]){(!v||1&t)&&b!==(b=e[0].type+"")&&T(o,b);const n={};2&t&&(n.station=e[1]),1&t&&(n.train=e[0]),h.$set(n)},i(e){v||(ie(h.$$.fragment,e),H(()=>{d||(d=se(t,Es,{},!0)),d.run(1)}),v=!0)},o(e){oe(h.$$.fragment,e),d||(d=se(t,Es,{},!1)),d.run(0),v=!1},d(e){e&&g(t),le(h),e&&d&&d.end()}}}function ks(e,t,n){let{train:r}=t,{station:i}=t;return e.$$set=e=>{"train"in e&&n(0,r=e.train),"station"in e&&n(1,i=e.station)},[r,i]}class _s extends pe{constructor(e){super(),fe(this,e,ks,Ts,s,{train:0,station:1})}}function Ds(e,t,n){const r=e.slice();return r[9]=t[n],r}function As(t){let n;return{c(){n=E("div"),n.textContent="loading...",x(n,"class","message svelte-1g05r38")},m(e,t){m(e,n,t)},p:e,i:e,o:e,d(e){e&&g(n)}}}function Is(e){let t,n,r,i;const o=[Rs,Cs],a=[];function s(e,t){return e[1]&&e[1].length?0:1}return t=s(e),n=a[t]=o[t](e),{c(){n.c(),r=O()},m(e,n){a[t].m(e,n),m(e,r,n),i=!0},p(e,i){let u=t;t=s(e),t===u?a[t].p(e,i):(ne(),oe(a[u],1,1,()=>{a[u]=null}),re(),n=a[t],n||(n=a[t]=o[t](e),n.c()),ie(n,1),n.m(r.parentNode,r))},i(e){i||(ie(n),i=!0)},o(e){oe(n),i=!1},d(e){a[t].d(e),e&&g(r)}}}function Cs(t){let n;return{c(){n=E("div"),n.textContent="No trains found"},m(e,t){m(e,n,t)},p:e,i:e,o:e,d(e){e&&g(n)}}}function Rs(e){let t,n,r=e[1],i=[];for(let t=0;t<r.length;t+=1)i[t]=Fs(Ds(e,r,t));const o=e=>oe(i[e],1,1,()=>{i[e]=null});return{c(){for(let e=0;e<i.length;e+=1)i[e].c();t=O()},m(e,r){for(let t=0;t<i.length;t+=1)i[t].m(e,r);m(e,t,r),n=!0},p(e,n){if(6&n){let a;for(r=e[1],a=0;a<r.length;a+=1){const o=Ds(e,r,a);i[a]?(i[a].p(o,n),ie(i[a],1)):(i[a]=Fs(o),i[a].c(),ie(i[a],1),i[a].m(t.parentNode,t))}for(ne(),a=r.length;a<i.length;a+=1)o(a);re()}},i(e){if(!n){for(let e=0;e<r.length;e+=1)ie(i[e]);n=!0}},o(e){i=i.filter(Boolean);for(let e=0;e<i.length;e+=1)oe(i[e]);n=!1},d(e){b(i,e),e&&g(t)}}}function Fs(e){let t,n;return t=new _s({props:{station:e[2],train:e[9]}}),{c(){ue(t.$$.fragment)},m(e,r){ce(t,e,r),n=!0},p(e,n){const r={};4&n&&(r.station=e[2]),2&n&&(r.train=e[9]),t.$set(r)},i(e){n||(ie(t.$$.fragment,e),n=!0)},o(e){oe(t.$$.fragment,e),n=!1},d(e){le(t,e)}}}function Ps(e){let t,n,r,i;const o=[Is,As],a=[];function s(e,t){return"loaded"==e[0]?0:"loading"==e[0]?1:-1}return~(n=s(e))&&(r=a[n]=o[n](e)),{c(){t=E("section"),r&&r.c(),x(t,"class","svelte-1g05r38")},m(e,r){m(e,t,r),~n&&a[n].m(t,null),i=!0},p(e,[i]){let u=n;n=s(e),n===u?~n&&a[n].p(e,i):(r&&(ne(),oe(a[u],1,1,()=>{a[u]=null}),re()),~n?(r=a[n],r||(r=a[n]=o[n](e),r.c()),ie(r,1),r.m(t,null)):r=null)},i(e){i||(ie(r),i=!0)},o(e){oe(r),i=!1},d(e){e&&g(t),~n&&a[n].d()}}}function Ms(e,t,n){let r,i;c(e,Ua,e=>n(2,r=e)),c(e,cs,e=>n(3,i=e));var o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))};const a=q("appContext"),{dbTimetableService:s,dbApiService:u}=a;let l,f="loading";return V(()=>o(void 0,void 0,void 0,(function*(){if(!r){const e=yield u.getStationByPrimaryEvaId(+i.stationId);Ua.setStation(e)}const e=yield s.getTrainsOnRoute(r.primaryEvaId.toString());n(1,l=[...e.filter(e=>e.arrival&&e.arrival.time).sort((e,t)=>e.arrival.time>t.arrival.time?1:-1)]),console.log("trainsOnRoute",l),n(0,f="loaded")}))),[f,l,r]}function js(t){let n,r,i,o,a,s=t[0].name+"";return{c(){n=E("a"),r=w(s),x(n,"href",i="#/"+t[0].primaryEvaId+"/table"),x(n,"class","svelte-12een8r"),_(n,"active",t[1])},m(e,i){m(e,n,i),y(n,r),o||(a=S(n,"click",t[2]),o=!0)},p(e,[t]){1&t&&s!==(s=e[0].name+"")&&T(r,s),1&t&&i!==(i="#/"+e[0].primaryEvaId+"/table")&&x(n,"href",i),2&t&&_(n,"active",e[1])},i:e,o:e,d(e){e&&g(n),o=!1,a()}}}function Vs(e,t,n){let{station:r}=t,{active:i=!0}=t;const o=function(){const e=j();return(t,n)=>{const r=e.$$.callbacks[t];if(r){const i=D(t,n);r.slice().forEach(t=>{t.call(e,i)})}}}();return e.$$set=e=>{"station"in e&&n(0,r=e.station),"active"in e&&n(1,i=e.active)},[r,i,()=>{o("stationselect",r)}]}class qs extends pe{constructor(e){super(),fe(this,e,Vs,js,s,{station:0,active:1})}}function Ls(e,t,n){const r=e.slice();return r[9]=t[n],r}function Qs(e){let t,n,r,i;return t=new qs({props:{active:!1,station:e[9]}}),t.$on("stationselect",e[2]),{c(){ue(t.$$.fragment),r=O(),n=new A(r)},m(e,o){ce(t,e,o),n.m(" ",e,o),m(e,r,o),i=!0},p(e,n){const r={};2&n&&(r.station=e[9]),t.$set(r)},i(e){i||(ie(t.$$.fragment,e),i=!0)},o(e){oe(t.$$.fragment,e),i=!1},d(e){le(t,e),e&&g(r),e&&n.d()}}}function $s(e){let t,n,r,i,a,s,u,c,l=e[1],f=[];for(let t=0;t<l.length;t+=1)f[t]=Qs(Ls(e,l,t));const p=e=>oe(f[e],1,1,()=>{f[e]=null});return{c(){t=E("div"),n=E("form"),r=E("input"),i=N(),a=E("section");for(let e=0;e<f.length;e+=1)f[e].c();x(r,"name","q"),x(r,"placeholder","Find location"),x(r,"class","station-input svelte-bdwbiy"),x(t,"class","location-search-form svelte-bdwbiy"),x(a,"class","svelte-bdwbiy")},m(o,l){m(o,t,l),y(t,n),y(n,r),k(r,e[0]),m(o,i,l),m(o,a,l);for(let e=0;e<f.length;e+=1)f[e].m(a,null);var p;s=!0,u||(c=[S(r,"input",e[4]),S(n,"submit",(p=e[3],function(e){return e.preventDefault(),p.call(this,e)}))],u=!0)},p(e,[t]){if(1&t&&r.value!==e[0]&&k(r,e[0]),6&t){let n;for(l=e[1],n=0;n<l.length;n+=1){const r=Ls(e,l,n);f[n]?(f[n].p(r,t),ie(f[n],1)):(f[n]=Qs(r),f[n].c(),ie(f[n],1),f[n].m(a,null))}for(ne(),n=l.length;n<f.length;n+=1)p(n);re()}},i(e){if(!s){for(let e=0;e<l.length;e+=1)ie(f[e]);s=!0}},o(e){f=f.filter(Boolean);for(let e=0;e<f.length;e+=1)oe(f[e]);s=!1},d(e){e&&g(t),e&&g(i),e&&g(a),b(f,e),u=!1,o(c)}}}function Bs(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))};const i=q("appContext");let o;const{dbApiService:a}=i;let s=[];const u=()=>r(void 0,void 0,void 0,(function*(){n(1,s=yield a.getStationsByName(o))}));V(()=>r(void 0,void 0,void 0,(function*(){yield u()})));return[o,s,e=>{const t=e.detail;console.log("station.picture.url",t.picture.url),document.getElementById("header").style.backgroundImage=t.picture.url?`url(${t.picture.url})`:"",Ua.setStation(Object.assign({},t))},()=>r(void 0,void 0,void 0,(function*(){yield u()})),function(){o=this.value,n(0,o)}]}Io.useDefaults({defaultLevel:Io.DEBUG});const Us=new class{getBearer(){return console.log("API key was set"),"9ea567b73c05be8210fa219b33901ff4"}getGraphQLEndpoint(){return"https://api.deutschebahn.com/1bahnql/v1/graphql"}getTimetableApiUrl(){return"https://api.deutschebahn.com/timetables/v1"}};ts.set({"/:stationId/:board":class extends pe{constructor(e){super(),fe(this,e,Ms,Ps,s,{})}},"/":class extends pe{constructor(e){super(),fe(this,e,Bs,$s,s,{})}}});return new class extends pe{constructor(e){super(),fe(this,e,bs,gs,s,{configurationService:1})}}({target:document.body,props:{configurationService:Us}})}();
//# sourceMappingURL=bundle.js.map
